import{n as yl,c as Te,o as wl,p as Cl,h as Xe,q as _l,l as Ge,Q as xe,r as Zl,a as Gl,b as pl,s as Xl,R as Yl,e as en}from"./QBtn.e061834b.js";import{b as tn,Q as xl,a as kl,n as nl,c as Vt,d as Pt,e as Ft}from"./QMenu.ba140c81.js";import{c as g,h as f,g as $e,r as N,w as me,b as Ct,H as Je,n as ln,a3 as nn,a6 as Gt,W as ql,a5 as Rl,o as Lt,L as De,d as al,J as Ze,a4 as an,a7 as Vl,K as Nt,a8 as mt,E as on,M as un,V as ol,a9 as Ut,aa as il,ab as rn,ac as sn,N as gt,s as Me,O as st,Q as Pl,R as Fl,ad as cn,S as Se,m as dn,u as fn,t as qt,v as U,A as P,x as z,U as Fe,C as it,ae as vn,P as mn}from"./index.dfb529fe.js";import{Q as gn,a as Bt}from"./QMarkupTable.d4ebd73d.js";import{u as Xt,a as Bl,c as Tl,b as Ol,f as ul,d as hn,Q as Ll,t as bn,l as Sn,e as yn,J as jt}from"./projectUtils.a42b04f7.js";import{h as wn,y as Cn,z as Al,A as zl,u as _n,a as pn,c as Tt,Q as xn,D as Ht,d as $t,e as ut,C as ht}from"./DynamsoftButton.c42268f5.js";import{r as Wt,Q as kn}from"./rtl.0702587f.js";import{g as qn}from"./scroll.6e2c0cd7.js";import{Q as rl}from"./QCardActions.6b1623aa.js";import{g as Rn,l as Vn,d as Pn,b as bt,e as sl,f as Fn,r as Bn,s as Tn,h as cl,M as On}from"./utils.9a20fa8f.js";import{u as Ln}from"./use-meta.a49867d3.js";const An={...yl,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Kt=50,Il=2*Kt,Dl=Il*Math.PI,zn=Math.round(Dl*1e3)/1e3;var dl=Te({name:"QCircularProgress",props:{...An,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=$e(),a=wl(e),i=g(()=>{const k=(n.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-k}deg)`:`rotate3d(0, 0, 1, ${k-90}deg)`}}),o=g(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),d=g(()=>Il/(1-e.thickness/2)),u=g(()=>`${d.value/2} ${d.value/2} ${d.value} ${d.value}`),c=g(()=>tn(e.value,e.min,e.max)),b=g(()=>Dl*(1-(c.value-e.min)/(e.max-e.min))),r=g(()=>e.thickness/2*d.value);function S({thickness:k,offset:w,color:F,cls:p,rounded:h}){return f("circle",{class:"q-circular-progress__"+p+(F!==void 0?` text-${F}`:""),style:o.value,fill:"transparent",stroke:"currentColor","stroke-width":k,"stroke-dasharray":zn,"stroke-dashoffset":w,"stroke-linecap":h,cx:d.value,cy:d.value,r:Kt})}return()=>{const k=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&k.push(f("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Kt-r.value/2,cx:d.value,cy:d.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&k.push(S({cls:"track",thickness:r.value,offset:0,color:e.trackColor})),k.push(S({cls:"circle",thickness:r.value,offset:b.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const w=[f("svg",{class:"q-circular-progress__svg",style:i.value,viewBox:u.value,"aria-hidden":"true"},k)];return e.showValue===!0&&w.push(f("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[f("div",c.value)])),f("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:a.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:c.value},Cl(t.internal,w))}}}),In=Te({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=g(()=>{const a=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(i=>e[i]===!0).map(i=>`q-btn-group--${i}`).join(" ");return`q-btn-group row no-wrap${a.length!==0?" "+a:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>f("div",{class:n.value},Xe(t.default))}});const Dn=Object.keys(_l),Mn=e=>Dn.reduce((t,n)=>{const a=e[n];return a!==void 0&&(t[n]=a),t},{});var En=Te({name:"QBtnDropdown",props:{..._l,...wn,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:a}=$e(),i=N(e.modelValue),o=N(null),d=Cn(),u=g(()=>{const _={"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true","aria-controls":d,"aria-label":e.toggleAriaLabel||a.$q.lang.label[i.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(_["aria-disabled"]="true"),_}),c=g(()=>"q-btn-dropdown__arrow"+(i.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),b=g(()=>Zl(e)),r=g(()=>Mn(e));me(()=>e.modelValue,_=>{o.value!==null&&o.value[_?"show":"hide"]()}),me(()=>e.split,K);function S(_){i.value=!0,n("beforeShow",_)}function k(_){n("show",_),n("update:modelValue",!0)}function w(_){i.value=!1,n("beforeHide",_)}function F(_){n("hide",_),n("update:modelValue",!1)}function p(_){n("click",_)}function h(_){Je(_),K(),n("click",_)}function Q(_){o.value!==null&&o.value.toggle(_)}function j(_){o.value!==null&&o.value.show(_)}function K(_){o.value!==null&&o.value.hide(_)}return Object.assign(a,{show:j,hide:K,toggle:Q}),Ct(()=>{e.modelValue===!0&&j()}),()=>{const _=[f(Ge,{class:c.value,name:e.dropdownIcon||a.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&_.push(f(xl,{ref:o,id:d,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:S,onShow:k,onBeforeHide:w,onHide:F},t.default)),e.split===!1?f(xe,{class:"q-btn-dropdown q-btn-dropdown--simple",...r.value,...u.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:p},{default:()=>Xe(t.label,[]).concat(_),loading:t.loading}):f(In,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...b.value,glossy:e.glossy,stretch:e.stretch},()=>[f(xe,{class:"q-btn-dropdown--current",...r.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:h},{default:t.label,loading:t.loading}),f(xe,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...u.value,...b.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>_)])}}}),rt=Te({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const n=$e(),a=g(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return f("td",{class:a.value},Xe(t.default));const i=n.vnode.key,o=(e.props.colsMap!==void 0?e.props.colsMap[i]:null)||e.props.col;if(o===void 0)return;const{row:d}=e.props;return f("td",{class:a.value+o.__tdClass(d),style:o.__tdStyle(d)},Xe(t.default))}}}),Nn=Te({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const n=g(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>f("tr",{class:n.value},Xe(t.default))}}),jn=Te({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const a=$e(),{proxy:{$q:i}}=a,o=d=>{n("click",d)};return()=>{if(e.props===void 0)return f("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:o},Xe(t.default));let d,u;const c=a.vnode.key;if(c){if(d=e.props.colsMap[c],d===void 0)return}else d=e.props.col;if(d.sortable===!0){const r=d.align==="right"?"unshift":"push";u=Gl(t.default,[]),u[r](f(Ge,{class:d.__iconClass,name:i.iconSet.table.arrowUp}))}else u=Xe(t.default);const b={class:d.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:d.headerStyle,onClick:r=>{d.sortable===!0&&e.props.sort(d),o(r)}};return f("th",b,u)}}});function Ml(e,t){return f("div",e,[f("table",{class:"q-table"},t)])}const Be=1e3,Hn=["start","center","end","start-force","center-force","end-force"],El=Array.prototype.filter,$n=window.getComputedStyle(document.body).overflowAnchor===void 0?ln:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];El.call(n,i=>i.dataset&&i.dataset.qVsAnchor!==void 0).forEach(i=>{delete i.dataset.qVsAnchor});const a=n[t];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function ct(e,t){return e+t}function Qt(e,t,n,a,i,o,d,u){const c=e===window?document.scrollingElement||document.documentElement:e,b=i===!0?"offsetWidth":"offsetHeight",r={scrollStart:0,scrollViewSize:-d-u,scrollMaxSize:0,offsetStart:-d,offsetEnd:-u};if(i===!0?(e===window?(r.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r.scrollViewSize+=document.documentElement.clientWidth):(r.scrollStart=c.scrollLeft,r.scrollViewSize+=c.clientWidth),r.scrollMaxSize=c.scrollWidth,o===!0&&(r.scrollStart=(Wt===!0?r.scrollMaxSize-r.scrollViewSize:0)-r.scrollStart)):(e===window?(r.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,r.scrollViewSize+=document.documentElement.clientHeight):(r.scrollStart=c.scrollTop,r.scrollViewSize+=c.clientHeight),r.scrollMaxSize=c.scrollHeight),n!==null)for(let S=n.previousElementSibling;S!==null;S=S.previousElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetStart+=S[b]);if(a!==null)for(let S=a.nextElementSibling;S!==null;S=S.nextElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetEnd+=S[b]);if(t!==e){const S=c.getBoundingClientRect(),k=t.getBoundingClientRect();i===!0?(r.offsetStart+=k.left-S.left,r.offsetEnd-=k.width):(r.offsetStart+=k.top-S.top,r.offsetEnd-=k.height),e!==window&&(r.offsetStart+=r.scrollStart),r.offsetEnd+=r.scrollMaxSize-r.offsetStart}return r}function fl(e,t,n,a){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(a===!0&&(t=(Wt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(a===!0&&(t=(Wt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function St(e,t,n,a){if(n>=a)return 0;const i=t.length,o=Math.floor(n/Be),d=Math.floor((a-1)/Be)+1;let u=e.slice(o,d).reduce(ct,0);return n%Be!==0&&(u-=t.slice(o*Be,n).reduce(ct,0)),a%Be!==0&&a!==i&&(u-=t.slice(a,d*Be).reduce(ct,0)),u}const Nl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},jl=Object.keys(Nl),Hl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Nl};function $l({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:a}){const i=$e(),{props:o,emit:d,proxy:u}=i,{$q:c}=u;let b,r,S,k=[],w;const F=N(0),p=N(0),h=N({}),Q=N(null),j=N(null),K=N(null),_=N({from:0,to:0}),D=g(()=>o.tableColspan!==void 0?o.tableColspan:100);a===void 0&&(a=g(()=>o.virtualScrollItemSize));const ce=g(()=>a.value+";"+o.virtualScrollHorizontal),ke=g(()=>ce.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);me(ke,()=>{ye()}),me(ce,ge);function ge(){qe(r,!0)}function Re(C){qe(C===void 0?r:C)}function ae(C,B){const I=t();if(I==null||I.nodeType===8)return;const Z=Qt(I,n(),Q.value,j.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);S!==Z.scrollViewSize&&ye(Z.scrollViewSize),Oe(I,Z,Math.min(e.value-1,Math.max(0,parseInt(C,10)||0)),0,Hn.indexOf(B)>-1?B:r>-1&&C>r?"end":"start")}function de(){const C=t();if(C==null||C.nodeType===8)return;const B=Qt(C,n(),Q.value,j.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),I=e.value-1,Z=B.scrollMaxSize-B.offsetStart-B.offsetEnd-p.value;if(b===B.scrollStart)return;if(B.scrollMaxSize<=0){Oe(C,B,0,0);return}S!==B.scrollViewSize&&ye(B.scrollViewSize),Le(_.value.from);const ie=Math.floor(B.scrollMaxSize-Math.max(B.scrollViewSize,B.offsetEnd)-Math.min(w[I],B.scrollViewSize/2));if(ie>0&&Math.ceil(B.scrollStart)>=ie){Oe(C,B,I,B.scrollMaxSize-B.offsetEnd-k.reduce(ct,0));return}let H=0,L=B.scrollStart-B.offsetStart,le=L;if(L<=Z&&L+B.scrollViewSize>=F.value)L-=F.value,H=_.value.from,le=L;else for(let E=0;L>=k[E]&&H<I;E++)L-=k[E],H+=Be;for(;L>0&&H<I;)L-=w[H],L>-B.scrollViewSize?(H++,le=L):le=w[H]+L;Oe(C,B,H,le)}function Oe(C,B,I,Z,ie){const H=typeof ie=="string"&&ie.indexOf("-force")>-1,L=H===!0?ie.replace("-force",""):ie,le=L!==void 0?L:"start";let E=Math.max(0,I-h.value[le]),se=E+h.value.total;se>e.value&&(se=e.value,E=Math.max(0,se-h.value.total)),b=B.scrollStart;const Ce=E!==_.value.from||se!==_.value.to;if(Ce===!1&&L===void 0){Ne(I);return}const{activeElement:je}=document,ve=K.value;Ce===!0&&ve!==null&&ve!==je&&ve.contains(je)===!0&&(ve.addEventListener("focusout",Ee),setTimeout(()=>{ve!==null&&ve.removeEventListener("focusout",Ee)})),$n(ve,I-E);const ze=L!==void 0?w.slice(E,I).reduce(ct,0):0;if(Ce===!0){const _e=se>=_.value.from&&E<=_.value.to?_.value.to:se;_.value={from:E,to:_e},F.value=St(k,w,0,E),p.value=St(k,w,se,e.value),requestAnimationFrame(()=>{_.value.to!==se&&b===B.scrollStart&&(_.value={from:_.value.from,to:se},p.value=St(k,w,se,e.value))})}requestAnimationFrame(()=>{if(b!==B.scrollStart)return;Ce===!0&&Le(E);const _e=w.slice(E,I).reduce(ct,0),y=_e+B.offsetStart+F.value,m=y+w[I];let v=y+Z;if(L!==void 0){const A=_e-ze,$=B.scrollStart+A;v=H!==!0&&$<y&&m<$+B.scrollViewSize?$:L==="end"?m-B.scrollViewSize:y-(L==="start"?0:Math.round((B.scrollViewSize-w[I])/2))}b=v,fl(C,v,o.virtualScrollHorizontal,c.lang.rtl),Ne(I)})}function Le(C){const B=K.value;if(B){const I=El.call(B.children,E=>E.classList&&E.classList.contains("q-virtual-scroll--skip")===!1),Z=I.length,ie=o.virtualScrollHorizontal===!0?E=>E.getBoundingClientRect().width:E=>E.offsetHeight;let H=C,L,le;for(let E=0;E<Z;){for(L=ie(I[E]),E++;E<Z&&I[E].classList.contains("q-virtual-scroll--with-prev")===!0;)L+=ie(I[E]),E++;le=L-w[H],le!==0&&(w[H]+=le,k[Math.floor(H/Be)]+=le),H++}}}function Ee(){K.value!==null&&K.value!==void 0&&K.value.focus()}function qe(C,B){const I=1*a.value;(B===!0||Array.isArray(w)===!1)&&(w=[]);const Z=w.length;w.length=e.value;for(let H=e.value-1;H>=Z;H--)w[H]=I;const ie=Math.floor((e.value-1)/Be);k=[];for(let H=0;H<=ie;H++){let L=0;const le=Math.min((H+1)*Be,e.value);for(let E=H*Be;E<le;E++)L+=w[E];k.push(L)}r=-1,b=void 0,F.value=St(k,w,0,_.value.from),p.value=St(k,w,_.value.to,e.value),C>=0?(Le(_.value.from),De(()=>{ae(C)})):we()}function ye(C){if(C===void 0&&typeof window!="undefined"){const L=t();L!=null&&L.nodeType!==8&&(C=Qt(L,n(),Q.value,j.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}S=C;const B=parseFloat(o.virtualScrollSliceRatioBefore)||0,I=parseFloat(o.virtualScrollSliceRatioAfter)||0,Z=1+B+I,ie=C===void 0||C<=0?1:Math.ceil(C/a.value),H=Math.max(1,ie,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/Z));h.value={total:Math.ceil(H*Z),start:Math.ceil(H*B),center:Math.ceil(H*(.5+B)),end:Math.ceil(H*(1+B)),view:ie}}function Ae(C,B){const I=o.virtualScrollHorizontal===!0?"width":"height",Z={["--q-virtual-scroll-item-"+I]:a.value+"px"};return[C==="tbody"?f(C,{class:"q-virtual-scroll__padding",key:"before",ref:Q},[f("tr",[f("td",{style:{[I]:`${F.value}px`,...Z},colspan:D.value})])]):f(C,{class:"q-virtual-scroll__padding",key:"before",ref:Q,style:{[I]:`${F.value}px`,...Z}}),f(C,{class:"q-virtual-scroll__content",key:"content",ref:K,tabindex:-1},B.flat()),C==="tbody"?f(C,{class:"q-virtual-scroll__padding",key:"after",ref:j},[f("tr",[f("td",{style:{[I]:`${p.value}px`,...Z},colspan:D.value})])]):f(C,{class:"q-virtual-scroll__padding",key:"after",ref:j,style:{[I]:`${p.value}px`,...Z}})]}function Ne(C){r!==C&&(o.onVirtualScroll!==void 0&&d("virtualScroll",{index:C,from:_.value.from,to:_.value.to-1,direction:C<r?"decrease":"increase",ref:u}),r=C)}ye();const we=nn(de,c.platform.is.ios===!0?120:35);Gt(()=>{ye()});let q=!1;return ql(()=>{q=!0}),Rl(()=>{if(q!==!0)return;const C=t();b!==void 0&&C!==void 0&&C!==null&&C.nodeType!==8?fl(C,b,o.virtualScrollHorizontal,c.lang.rtl):ae(r)}),Lt(()=>{we.cancel()}),Object.assign(u,{scrollTo:ae,reset:ge,refresh:Re}),{virtualScrollSliceRange:_,virtualScrollSliceSizeComputed:h,setVirtualScrollSize:ye,onVirtualScrollEvt:we,localResetVirtualScroll:qe,padVirtualScroll:Ae,scrollTo:ae,reset:ge,refresh:Re}}const Qn={list:kl,table:gn},Un=["list","table","__qtable"];var Wn=Te({name:"QVirtualScroll",props:{...Hl,type:{type:String,default:"list",validator:e=>Un.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:n}){let a;const i=N(null),o=g(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:d,localResetVirtualScroll:u,padVirtualScroll:c,onVirtualScrollEvt:b}=$l({virtualScrollLength:o,getVirtualScrollTarget:F,getVirtualScrollEl:w}),r=g(()=>{if(o.value===0)return[];const j=(K,_)=>({index:d.value.from+_,item:K});return e.itemsFn===void 0?e.items.slice(d.value.from,d.value.to).map(j):e.itemsFn(d.value.from,d.value.to-d.value.from).map(j)}),S=g(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),k=g(()=>e.scrollTarget!==void 0?{}:{tabindex:0});me(o,()=>{u()}),me(()=>e.scrollTarget,()=>{h(),p()});function w(){return i.value.$el||i.value}function F(){return a}function p(){a=qn(w(),e.scrollTarget),a.addEventListener("scroll",b,al.passive)}function h(){a!==void 0&&(a.removeEventListener("scroll",b,al.passive),a=void 0)}function Q(){let j=c(e.type==="list"?"div":"tbody",r.value.map(t.default));return t.before!==void 0&&(j=t.before().concat(j)),pl(t.after,j)}return Gt(()=>{u()}),Ct(()=>{p()}),Rl(()=>{p()}),ql(()=>{h()}),Lt(()=>{h()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Ml({ref:i,class:"q-table__middle "+S.value},Q()):f(Qn[e.type],{...n,ref:i,class:[n.class,S.value],...k.value},Q)}}}),Kn=Te({name:"QField",inheritAttrs:!1,props:Xt,emits:Bl,setup(){return Tl(Ol())}});const Jn={xs:8,sm:10,md:14,lg:20,xl:24};var Zn=Te({name:"QChip",props:{...Al,...yl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=$e(),i=zl(e,a),o=wl(e,Jn),d=g(()=>e.selected===!0||e.icon!==void 0),u=g(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),c=g(()=>e.iconRemove||a.iconSet.chip.remove),b=g(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),r=g(()=>{const h=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(h?` text-${h} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(b.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),S=g(()=>{const h=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},Q={...h,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:h,remove:Q}});function k(h){h.keyCode===13&&w(h)}function w(h){e.disable||(n("update:selected",!e.selected),n("click",h))}function F(h){(h.keyCode===void 0||h.keyCode===13)&&(Ze(h),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function p(){const h=[];b.value===!0&&h.push(f("div",{class:"q-focus-helper"})),d.value===!0&&h.push(f(Ge,{class:"q-chip__icon q-chip__icon--left",name:u.value}));const Q=e.label!==void 0?[f("div",{class:"ellipsis"},[e.label])]:void 0;return h.push(f("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Cl(t.default,Q))),e.iconRight&&h.push(f(Ge,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&h.push(f(Ge,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...S.value.remove,onClick:F,onKeyup:F})),h}return()=>{if(e.modelValue===!1)return;const h={class:r.value,style:o.value};return b.value===!0&&Object.assign(h,S.value.chip,{onClick:w,onKeyup:k}),Xl("div",h,p(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Yl,e.ripple]])}}});const vl=e=>["add","add-unique","toggle"].includes(e),Gn=".*+?^${}()|[]\\",Xn=Object.keys(Xt);var Yn=Te({name:"QSelect",inheritAttrs:!1,props:{...Hl,..._n,...Xt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:vl},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Bl,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:a}=$e(),{$q:i}=a,o=N(!1),d=N(!1),u=N(-1),c=N(""),b=N(!1),r=N(!1);let S=null,k,w,F,p=null,h,Q,j,K;const _=N(null),D=N(null),ce=N(null),ke=N(null),ge=N(null),Re=pn(e),ae=hn(s),de=g(()=>Array.isArray(e.options)?e.options.length:0),Oe=g(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Le,virtualScrollSliceSizeComputed:Ee,localResetVirtualScroll:qe,padVirtualScroll:ye,onVirtualScrollEvt:Ae,scrollTo:Ne,setVirtualScrollSize:we}=$l({virtualScrollLength:de,getVirtualScrollTarget:At,getVirtualScrollEl:xt,virtualScrollItemSizeComputed:Oe}),q=Ol(),C=g(()=>{const l=e.mapOptions===!0&&e.multiple!==!0,V=e.modelValue!==void 0&&(e.modelValue!==null||l===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const x=e.mapOptions===!0&&k!==void 0?k:[],M=V.map(X=>Ue(X,x));return e.modelValue===null&&l===!0?M.filter(X=>X!==null):M}return V}),B=g(()=>{const l={};return Xn.forEach(V=>{const x=e[V];x!==void 0&&(l[V]=x)}),l}),I=g(()=>e.optionsDark===null?q.isDark.value:e.optionsDark),Z=g(()=>ul(C.value)),ie=g(()=>{let l="q-field__input q-placeholder col";return e.hideSelected===!0||C.value.length===0?[l,e.inputClass]:(l+=" q-field__input--padding",e.inputClass===void 0?l:[l,e.inputClass])}),H=g(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),L=g(()=>de.value===0),le=g(()=>C.value.map(l=>G.value(l)).join(", ")),E=g(()=>e.displayValue!==void 0?e.displayValue:le.value),se=g(()=>e.optionsHtml===!0?()=>!0:l=>l!=null&&l.html===!0),Ce=g(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||C.value.some(se.value))),je=g(()=>q.focused.value===!0?e.tabindex:-1),ve=g(()=>{const l={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${q.targetUid.value}_lb`};return u.value>=0&&(l["aria-activedescendant"]=`${q.targetUid.value}_${u.value}`),l}),ze=g(()=>({id:`${q.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),_e=g(()=>C.value.map((l,V)=>({index:V,opt:l,html:se.value(l),selected:!0,removeAtIndex:pe,toggleOption:He,tabindex:je.value}))),y=g(()=>{if(de.value===0)return[];const{from:l,to:V}=Le.value;return e.options.slice(l,V).map((x,M)=>{const X=ue.value(x)===!0,J=l+M,re={clickable:!0,active:!1,activeClass:A.value,manualFocus:!0,focused:!1,disable:X,tabindex:-1,dense:e.optionsDense,dark:I.value,role:"option",id:`${q.targetUid.value}_${J}`,onClick:()=>{He(x)}};return X!==!0&&(Ye(x)===!0&&(re.active=!0),u.value===J&&(re.focused=!0),re["aria-selected"]=re.active===!0?"true":"false",i.platform.is.desktop===!0&&(re.onMousemove=()=>{o.value===!0&&Ie(J)})),{index:J,opt:x,html:se.value(x),label:G.value(x),selected:re.active,focused:re.focused,toggleOption:He,setOptionIndex:Ie,itemProps:re}})}),m=g(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),v=g(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),A=g(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),$=g(()=>dt(e.optionValue,"value")),G=g(()=>dt(e.optionLabel,"label")),ue=g(()=>dt(e.optionDisable,"disable")),fe=g(()=>C.value.map(l=>$.value(l))),Y=g(()=>{const l={onInput:s,onChange:ae,onKeydown:We,onKeyup:et,onKeypress:vt,onFocus:ft,onClick(V){w===!0&&Je(V)}};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=ae,l});me(C,l=>{k=l,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&q.innerLoading.value!==!0&&(d.value!==!0&&o.value!==!0||Z.value!==!0)&&(F!==!0&&ot(),(d.value===!0||o.value===!0)&&O(""))},{immediate:!0}),me(()=>e.fillInput,ot),me(o,Mt),me(de,Jl);function ee(l){return e.emitValue===!0?$.value(l):l}function oe(l){if(l>-1&&l<C.value.length)if(e.multiple===!0){const V=e.modelValue.slice();n("remove",{index:l,value:V.splice(l,1)[0]}),n("update:modelValue",V)}else n("update:modelValue",null)}function pe(l){oe(l),q.focus()}function _t(l,V){const x=ee(l);if(e.multiple!==!0){e.fillInput===!0&&T(G.value(l),!0,!0),n("update:modelValue",x);return}if(C.value.length===0){n("add",{index:0,value:x}),n("update:modelValue",e.multiple===!0?[x]:x);return}if(V===!0&&Ye(l)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const M=e.modelValue.slice();n("add",{index:M.length,value:x}),M.push(x),n("update:modelValue",M)}function He(l,V){if(q.editable.value!==!0||l===void 0||ue.value(l)===!0)return;const x=$.value(l);if(e.multiple!==!0){V!==!0&&(T(e.fillInput===!0?G.value(l):"",!0,!0),Ke()),D.value!==null&&D.value.focus(),(C.value.length===0||mt($.value(C.value[0]),x)!==!0)&&n("update:modelValue",e.emitValue===!0?x:l);return}if((w!==!0||b.value===!0)&&q.focus(),ft(),C.value.length===0){const J=e.emitValue===!0?x:l;n("add",{index:0,value:J}),n("update:modelValue",e.multiple===!0?[J]:J);return}const M=e.modelValue.slice(),X=fe.value.findIndex(J=>mt(J,x));if(X>-1)n("remove",{index:X,value:M.splice(X,1)[0]});else{if(e.maxValues!==void 0&&M.length>=e.maxValues)return;const J=e.emitValue===!0?x:l;n("add",{index:M.length,value:J}),M.push(J)}n("update:modelValue",M)}function Ie(l){if(i.platform.is.desktop!==!0)return;const V=l>-1&&l<de.value?l:-1;u.value!==V&&(u.value=V)}function Ve(l=1,V){if(o.value===!0){let x=u.value;do x=nl(x+l,-1,de.value-1);while(x!==-1&&x!==u.value&&ue.value(e.options[x])===!0);u.value!==x&&(Ie(x),Ne(x),V!==!0&&e.useInput===!0&&e.fillInput===!0&&R(x>=0?G.value(e.options[x]):h))}}function Ue(l,V){const x=M=>mt($.value(M),l);return e.options.find(x)||V.find(x)||l}function dt(l,V){const x=l!==void 0?l:V;return typeof x=="function"?x:M=>M!==null&&typeof M=="object"&&x in M?M[x]:M}function Ye(l){const V=$.value(l);return fe.value.find(x=>mt(x,V))!==void 0}function ft(l){e.useInput===!0&&D.value!==null&&(l===void 0||D.value===l.target&&l.target.value===le.value)&&D.value.select()}function pt(l){on(l,27)===!0&&o.value===!0&&(Je(l),Ke(),ot()),n("keyup",l)}function et(l){const{value:V}=l.target;if(l.keyCode!==void 0){pt(l);return}if(l.target.value="",S!==null&&(clearTimeout(S),S=null),ot(),typeof V=="string"&&V.length!==0){const x=V.toLocaleLowerCase(),M=J=>{const re=e.options.find(be=>J.value(be).toLocaleLowerCase()===x);return re===void 0?!1:(C.value.indexOf(re)===-1?He(re):Ke(),!0)},X=J=>{M($)!==!0&&(M(G)===!0||J===!0||O(V,!0,()=>X(!0)))};X()}else q.clearValue(l)}function vt(l){n("keypress",l)}function We(l){if(n("keydown",l),un(l)===!0)return;const V=c.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),x=l.shiftKey!==!0&&e.multiple!==!0&&(u.value>-1||V===!0);if(l.keyCode===27){Nt(l);return}if(l.keyCode===9&&x===!1){nt();return}if(l.target===void 0||l.target.id!==q.targetUid.value||q.editable.value!==!0)return;if(l.keyCode===40&&q.innerLoading.value!==!0&&o.value===!1){Ze(l),at();return}if(l.keyCode===8&&e.hideSelected!==!0&&c.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?oe(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(l.keyCode===35||l.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(Ze(l),u.value=-1,Ve(l.keyCode===36?1:-1,e.multiple)),(l.keyCode===33||l.keyCode===34)&&Ee.value!==void 0&&(Ze(l),u.value=Math.max(-1,Math.min(de.value,u.value+(l.keyCode===33?-1:1)*Ee.value.view)),Ve(l.keyCode===33?1:-1,e.multiple)),(l.keyCode===38||l.keyCode===40)&&(Ze(l),Ve(l.keyCode===38?-1:1,e.multiple));const M=de.value;if((j===void 0||K<Date.now())&&(j=""),M>0&&e.useInput!==!0&&l.key!==void 0&&l.key.length===1&&l.altKey===!1&&l.ctrlKey===!1&&l.metaKey===!1&&(l.keyCode!==32||j.length!==0)){o.value!==!0&&at(l);const X=l.key.toLocaleLowerCase(),J=j.length===1&&j[0]===X;K=Date.now()+1500,J===!1&&(Ze(l),j+=X);const re=new RegExp("^"+j.split("").map(Et=>Gn.indexOf(Et)>-1?"\\"+Et:Et).join(".*"),"i");let be=u.value;if(J===!0||be<0||re.test(G.value(e.options[be]))!==!0)do be=nl(be+1,-1,M-1);while(be!==u.value&&(ue.value(e.options[be])===!0||re.test(G.value(e.options[be]))!==!0));u.value!==be&&De(()=>{Ie(be),Ne(be),be>=0&&e.useInput===!0&&e.fillInput===!0&&R(G.value(e.options[be]))});return}if(!(l.keyCode!==13&&(l.keyCode!==32||e.useInput===!0||j!=="")&&(l.keyCode!==9||x===!1))){if(l.keyCode!==9&&Ze(l),u.value>-1&&u.value<M){He(e.options[u.value]);return}if(V===!0){const X=(J,re)=>{if(re){if(vl(re)!==!0)return}else re=e.newValueMode;if(T("",e.multiple!==!0,!0),J==null)return;(re==="toggle"?He:_t)(J,re==="add-unique"),e.multiple!==!0&&(D.value!==null&&D.value.focus(),Ke())};if(e.onNewValue!==void 0?n("newValue",c.value,X):X(c.value),e.multiple!==!0)return}o.value===!0?nt():q.innerLoading.value!==!0&&at()}}function xt(){return w===!0?ge.value:ce.value!==null&&ce.value.contentEl!==null?ce.value.contentEl:void 0}function At(){return xt()}function zt(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?_e.value.map(l=>t["selected-item"](l)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?_e.value.map((l,V)=>f(Zn,{key:"option-"+V,removable:q.editable.value===!0&&ue.value(l.opt)!==!0,dense:!0,textColor:e.color,tabindex:je.value,onRemove(){l.removeAtIndex(V)}},()=>f("span",{class:"ellipsis",[l.html===!0?"innerHTML":"textContent"]:G.value(l.opt)}))):[f("span",{[Ce.value===!0?"innerHTML":"textContent"]:E.value})]}function kt(){if(L.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:c.value}):void 0;const l=t.option!==void 0?t.option:x=>f(Ft,{key:x.index,...x.itemProps},()=>f(Vt,()=>f(Pt,()=>f("span",{[x.html===!0?"innerHTML":"textContent"]:x.label}))));let V=ye("div",y.value.map(l));return t["before-options"]!==void 0&&(V=t["before-options"]().concat(V)),pl(t["after-options"],V)}function It(l,V){const x=V===!0?{...ve.value,...q.splitAttrs.attributes.value}:void 0,M={ref:V===!0?D:void 0,key:"i_t",class:ie.value,style:e.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...x,id:V===!0?q.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":l===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Y.value};return l!==!0&&w===!0&&(Array.isArray(M.class)===!0?M.class=[...M.class,"no-pointer-events"]:M.class+=" no-pointer-events"),f("input",M)}function s(l){S!==null&&(clearTimeout(S),S=null),!(l&&l.target&&l.target.qComposing===!0)&&(R(l.target.value||""),F=!0,h=c.value,q.focused.value!==!0&&(w!==!0||b.value===!0)&&q.focus(),e.onFilter!==void 0&&(S=setTimeout(()=>{S=null,O(c.value)},e.inputDebounce)))}function R(l){c.value!==l&&(c.value=l,n("inputValue",l))}function T(l,V,x){F=x!==!0,e.useInput===!0&&(R(l),(V===!0||x!==!0)&&(h=l),V!==!0&&O(l))}function O(l,V,x){if(e.onFilter===void 0||V!==!0&&q.focused.value!==!0)return;q.innerLoading.value===!0?n("filterAbort"):(q.innerLoading.value=!0,r.value=!0),l!==""&&e.multiple!==!0&&C.value.length!==0&&F!==!0&&l===G.value(C.value[0])&&(l="");const M=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);p!==null&&clearTimeout(p),p=M,n("filter",l,(X,J)=>{(V===!0||q.focused.value===!0)&&p===M&&(clearTimeout(p),typeof X=="function"&&X(),r.value=!1,De(()=>{q.innerLoading.value=!1,q.editable.value===!0&&(V===!0?o.value===!0&&Ke():o.value===!0?Mt(!0):o.value=!0),typeof J=="function"&&De(()=>{J(a)}),typeof x=="function"&&De(()=>{x(a)})}))},()=>{q.focused.value===!0&&p===M&&(clearTimeout(p),q.innerLoading.value=!1,r.value=!1),o.value===!0&&(o.value=!1)})}function W(){return f(xl,{ref:ce,class:H.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&L.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:I.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:v.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ze.value,onScrollPassive:Ae,onBeforeShow:el,onBeforeHide:ne,onShow:te},kt)}function ne(l){tl(l),nt()}function te(){we()}function Pe(l){Je(l),D.value!==null&&D.value.focus(),b.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function he(l){Je(l),De(()=>{b.value=!1})}function tt(){const l=[f(Kn,{class:`col-auto ${q.fieldClass.value}`,...B.value,for:q.targetUid.value,dark:I.value,square:!0,loading:r.value,itemAligned:!1,filled:!0,stackLabel:c.value.length!==0,...q.splitAttrs.listeners.value,onFocus:Pe,onBlur:he},{...t,rawControl:()=>q.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&l.push(f("div",{ref:ge,class:H.value+" scroll",style:e.popupContentStyle,...ze.value,onClick:Nt,onScrollPassive:Ae},kt())),f(Tt,{ref:ke,modelValue:d.value,position:e.useInput===!0?"top":void 0,transitionShow:Q,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:el,onBeforeHide:lt,onHide:Dt,onShow:Kl},()=>f("div",{class:"q-select__dialog"+(I.value===!0?" q-select__dialog--dark q-dark":"")+(b.value===!0?" q-select__dialog--focused":"")},l))}function lt(l){tl(l),ke.value!==null&&ke.value.__updateRefocusTarget(q.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),q.focused.value=!1}function Dt(l){Ke(),q.focused.value===!1&&n("blur",l),ot()}function Kl(){const l=document.activeElement;(l===null||l.id!==q.targetUid.value)&&D.value!==null&&D.value!==l&&D.value.focus(),we()}function nt(){d.value!==!0&&(u.value=-1,o.value===!0&&(o.value=!1),q.focused.value===!1&&(p!==null&&(clearTimeout(p),p=null),q.innerLoading.value===!0&&(n("filterAbort"),q.innerLoading.value=!1,r.value=!1)))}function at(l){q.editable.value===!0&&(w===!0?(q.onControlFocusin(l),d.value=!0,De(()=>{q.focus()})):q.focus(),e.onFilter!==void 0?O(c.value):(L.value!==!0||t["no-option"]!==void 0)&&(o.value=!0))}function Ke(){d.value=!1,nt()}function ot(){e.useInput===!0&&T(e.multiple!==!0&&e.fillInput===!0&&C.value.length!==0&&G.value(C.value[0])||"",!0,!0)}function Mt(l){let V=-1;if(l===!0){if(C.value.length!==0){const x=$.value(C.value[0]);V=e.options.findIndex(M=>mt($.value(M),x))}qe(V)}Ie(V)}function Jl(l,V){o.value===!0&&q.innerLoading.value===!1&&(qe(-1,!0),De(()=>{o.value===!0&&q.innerLoading.value===!1&&(l>V?qe():Mt(!0))}))}function Yt(){d.value===!1&&ce.value!==null&&ce.value.updatePosition()}function el(l){l!==void 0&&Je(l),n("popupShow",l),q.hasPopupOpen=!0,q.onControlFocusin(l)}function tl(l){l!==void 0&&Je(l),n("popupHide",l),q.hasPopupOpen=!1,q.onControlFocusout(l)}function ll(){w=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||L.value===!1:!0),Q=i.platform.is.ios===!0&&w===!0&&e.useInput===!0?"fade":e.transitionShow}return an(ll),Vl(Yt),ll(),Lt(()=>{S!==null&&clearTimeout(S)}),Object.assign(a,{showPopup:at,hidePopup:Ke,removeAtIndex:oe,add:_t,toggleOption:He,getOptionIndex:()=>u.value,setOptionIndex:Ie,moveOptionSelection:Ve,filter:O,updateMenuPosition:Yt,updateInputValue:T,isOptionSelected:Ye,getEmittingOptionValue:ee,isOptionDisabled:(...l)=>ue.value.apply(null,l)===!0,getOptionValue:(...l)=>$.value.apply(null,l),getOptionLabel:(...l)=>G.value.apply(null,l)}),Object.assign(q,{innerValue:C,fieldClass:g(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:_,targetRef:D,hasValue:Z,showPopup:at,floatingLabel:g(()=>e.hideSelected!==!0&&Z.value===!0||typeof c.value=="number"||c.value.length!==0||ul(e.displayValue)),getControlChild:()=>{if(q.editable.value!==!1&&(d.value===!0||L.value!==!0||t["no-option"]!==void 0))return w===!0?tt():W();q.hasPopupOpen===!0&&(q.hasPopupOpen=!1)},controlEvents:{onFocusin(l){q.onControlFocusin(l)},onFocusout(l){q.onControlFocusout(l,()=>{ot(),nt()})},onClick(l){if(Nt(l),w!==!0&&o.value===!0){nt(),D.value!==null&&D.value.focus();return}at(l)}},getControl:l=>{const V=zt(),x=l===!0||d.value!==!0||w!==!0;if(e.useInput===!0)V.push(It(l,x));else if(q.editable.value===!0){const X=x===!0?ve.value:void 0;V.push(f("input",{ref:x===!0?D:void 0,key:"d_t",class:"q-select__focus-target",id:x===!0?q.targetUid.value:void 0,value:E.value,readonly:!0,"data-autofocus":l===!0||e.autofocus===!0||void 0,...X,onKeydown:We,onKeyup:pt,onKeypress:vt})),x===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&V.push(f("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:et}))}if(Re.value!==void 0&&e.disable!==!0&&fe.value.length!==0){const X=fe.value.map(J=>f("option",{value:J,selected:!0}));V.push(f("select",{class:"hidden",name:Re.value,multiple:e.multiple},X))}const M=e.useInput===!0||x!==!0?void 0:q.splitAttrs.attributes.value;return f("div",{class:"q-field__native row items-center",...M,...q.splitAttrs.listeners.value},V)},getInnerAppend:()=>e.loading!==!0&&r.value!==!0&&e.hideDropdownIcon!==!0?[f(Ge,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:m.value})]:null}),Tl(q)}});let yt=0;const ea={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ta=["update:fullscreen","fullscreen"];function la(){const e=$e(),{props:t,emit:n,proxy:a}=e;let i,o,d;const u=N(!1);en(e)===!0&&me(()=>a.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&r()}),me(()=>t.fullscreen,S=>{u.value!==S&&c()}),me(u,S=>{n("update:fullscreen",S),n("fullscreen",S)});function c(){u.value===!0?r():b()}function b(){u.value!==!0&&(u.value=!0,d=a.$el.parentNode,d.replaceChild(o,a.$el),document.body.appendChild(a.$el),yt++,yt===1&&document.body.classList.add("q-body--fullscreen-mixin"),i={handler:r},ol.add(i))}function r(){u.value===!0&&(i!==void 0&&(ol.remove(i),i=void 0),d.replaceChild(a.$el,o),u.value=!1,yt=Math.max(0,yt-1),yt===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return Gt(()=>{o=document.createElement("span")}),Ct(()=>{t.fullscreen===!0&&b()}),Lt(r),Object.assign(a,{toggleFullscreen:c,setFullscreen:b,exitFullscreen:r}),{inFullscreen:u,toggleFullscreen:c}}function na(e,t){return new Date(e)-new Date(t)}const aa={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function oa(e,t,n,a){const i=g(()=>{const{sortBy:u}=t.value;return u&&n.value.find(c=>c.name===u)||null}),o=g(()=>e.sortMethod!==void 0?e.sortMethod:(u,c,b)=>{const r=n.value.find(w=>w.name===c);if(r===void 0||r.field===void 0)return u;const S=b===!0?-1:1,k=typeof r.field=="function"?w=>r.field(w):w=>w[r.field];return u.sort((w,F)=>{let p=k(w),h=k(F);return p==null?-1*S:h==null?1*S:r.sort!==void 0?r.sort(p,h,w,F)*S:Ut(p)===!0&&Ut(h)===!0?(p-h)*S:il(p)===!0&&il(h)===!0?na(p,h)*S:typeof p=="boolean"&&typeof h=="boolean"?(p-h)*S:([p,h]=[p,h].map(Q=>(Q+"").toLocaleString().toLowerCase()),p<h?-1*S:p===h?0:S)})});function d(u){let c=e.columnSortOrder;if(rn(u)===!0)u.sortOrder&&(c=u.sortOrder),u=u.name;else{const S=n.value.find(k=>k.name===u);S!==void 0&&S.sortOrder&&(c=S.sortOrder)}let{sortBy:b,descending:r}=t.value;b!==u?(b=u,r=c==="da"):e.binaryStateSort===!0?r=!r:r===!0?c==="ad"?b=null:r=!1:c==="ad"?r=!0:b=null,a({sortBy:b,descending:r,page:1})}return{columnToSort:i,computedSortMethod:o,sort:d}}const ia={filter:[String,Object],filterMethod:Function};function ua(e,t){const n=g(()=>e.filterMethod!==void 0?e.filterMethod:(a,i,o,d)=>{const u=i?i.toLowerCase():"";return a.filter(c=>o.some(b=>{const r=d(b,c)+"";return(r==="undefined"||r==="null"?"":r.toLowerCase()).indexOf(u)!==-1}))});return me(()=>e.filter,()=>{De(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function ra(e,t){for(const n in t)if(t[n]!==e[n])return!1;return!0}function ml(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const sa={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ca(e,t){const{props:n,emit:a}=e,i=N(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),o=g(()=>{const r=n["onUpdate:pagination"]!==void 0?{...i.value,...n.pagination}:i.value;return ml(r)}),d=g(()=>o.value.rowsNumber!==void 0);function u(r){c({pagination:r,filter:n.filter})}function c(r={}){De(()=>{a("request",{pagination:r.pagination||o.value,filter:r.filter||n.filter,getCellValue:t})})}function b(r,S){const k=ml({...o.value,...r});if(ra(o.value,k)===!0){d.value===!0&&S===!0&&u(k);return}if(d.value===!0){u(k);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?a("update:pagination",k):i.value=k}return{innerPagination:i,computedPagination:o,isServerSide:d,requestServerInteraction:c,setPagination:b}}function da(e,t,n,a,i,o){const{props:d,emit:u,proxy:{$q:c}}=e,b=g(()=>a.value===!0?n.value.rowsNumber||0:o.value),r=g(()=>{const{page:_,rowsPerPage:D}=n.value;return(_-1)*D}),S=g(()=>{const{page:_,rowsPerPage:D}=n.value;return _*D}),k=g(()=>n.value.page===1),w=g(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(b.value/n.value.rowsPerPage))),F=g(()=>S.value===0?!0:n.value.page>=w.value),p=g(()=>(d.rowsPerPageOptions.includes(t.value.rowsPerPage)?d.rowsPerPageOptions:[t.value.rowsPerPage].concat(d.rowsPerPageOptions)).map(D=>({label:D===0?c.lang.table.allRows:""+D,value:D})));me(w,(_,D)=>{if(_===D)return;const ce=n.value.page;_&&!ce?i({page:1}):_<ce&&i({page:_})});function h(){i({page:1})}function Q(){const{page:_}=n.value;_>1&&i({page:_-1})}function j(){const{page:_,rowsPerPage:D}=n.value;S.value>0&&_*D<b.value&&i({page:_+1})}function K(){i({page:w.value})}return d["onUpdate:pagination"]!==void 0&&u("update:pagination",{...n.value}),{firstRowIndex:r,lastRowIndex:S,isFirstPage:k,isLastPage:F,pagesNumber:w,computedRowsPerPageOptions:p,computedRowsNumber:b,firstPage:h,prevPage:Q,nextPage:j,lastPage:K}}const fa={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},va=["update:selected","selection"];function ma(e,t,n,a){const i=g(()=>{const F={};return e.selected.map(a.value).forEach(p=>{F[p]=!0}),F}),o=g(()=>e.selection!=="none"),d=g(()=>e.selection==="single"),u=g(()=>e.selection==="multiple"),c=g(()=>n.value.length!==0&&n.value.every(F=>i.value[a.value(F)]===!0)),b=g(()=>c.value!==!0&&n.value.some(F=>i.value[a.value(F)]===!0)),r=g(()=>e.selected.length);function S(F){return i.value[F]===!0}function k(){t("update:selected",[])}function w(F,p,h,Q){t("selection",{rows:p,added:h,keys:F,evt:Q});const j=d.value===!0?h===!0?p:[]:h===!0?e.selected.concat(p):e.selected.filter(K=>F.includes(a.value(K))===!1);t("update:selected",j)}return{hasSelectionMode:o,singleSelection:d,multipleSelection:u,allRowsSelected:c,someRowsSelected:b,rowsSelectedNumber:r,isRowSelected:S,clearSelection:k,updateSelection:w}}function gl(e){return Array.isArray(e)?e.slice():[]}const ga={expanded:Array},ha=["update:expanded"];function ba(e,t){const n=N(gl(e.expanded));me(()=>e.expanded,d=>{n.value=gl(d)});function a(d){return n.value.includes(d)}function i(d){e.expanded!==void 0?t("update:expanded",d):n.value=d}function o(d,u){const c=n.value.slice(),b=c.indexOf(d);u===!0?b===-1&&(c.push(d),i(c)):b!==-1&&(c.splice(b,1),i(c))}return{isRowExpanded:a,setExpanded:i,updateExpanded:o}}const Sa={visibleColumns:Array};function ya(e,t,n){const a=g(()=>{if(e.columns!==void 0)return e.columns;const u=e.rows[0];return u!==void 0?Object.keys(u).map(c=>({name:c,label:c.toUpperCase(),field:c,align:Ut(u[c])?"right":"left",sortable:!0})):[]}),i=g(()=>{const{sortBy:u,descending:c}=t.value;return(e.visibleColumns!==void 0?a.value.filter(r=>r.required===!0||e.visibleColumns.includes(r.name)===!0):a.value).map(r=>{const S=r.align||"right",k=`text-${S}`;return{...r,align:S,__iconClass:`q-table__sort-icon q-table__sort-icon--${S}`,__thClass:k+(r.headerClasses!==void 0?" "+r.headerClasses:"")+(r.sortable===!0?" sortable":"")+(r.name===u?` sorted ${c===!0?"sort-desc":""}`:""),__tdStyle:r.style!==void 0?typeof r.style!="function"?()=>r.style:r.style:()=>null,__tdClass:r.classes!==void 0?typeof r.classes!="function"?()=>k+" "+r.classes:w=>k+" "+r.classes(w):()=>k}})}),o=g(()=>{const u={};return i.value.forEach(c=>{u[c.name]=c}),u}),d=g(()=>e.tableColspan!==void 0?e.tableColspan:i.value.length+(n.value===!0?1:0));return{colList:a,computedCols:i,computedColsMap:o,computedColspan:d}}const Rt="q-table__bottom row items-center",Ql={};jl.forEach(e=>{Ql[e]={}});var wa=Te({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Ql,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Al,...ea,...Sa,...ia,...sa,...ga,...fa,...aa},emits:["request","virtualScroll",...ta,...ha,...va],setup(e,{slots:t,emit:n}){const a=$e(),{proxy:{$q:i}}=a,o=zl(e,i),{inFullscreen:d,toggleFullscreen:u}=la(),c=g(()=>typeof e.rowKey=="function"?e.rowKey:s=>s[e.rowKey]),b=N(null),r=N(null),S=g(()=>e.grid!==!0&&e.virtualScroll===!0),k=g(()=>" q-table__card"+(o.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),w=g(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":k.value)+(o.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(d.value===!0?" fullscreen scroll":"")),F=g(()=>w.value+(e.loading===!0?" q-table--loading":""));me(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+w.value,()=>{S.value===!0&&r.value!==null&&r.value.reset()});const{innerPagination:p,computedPagination:h,isServerSide:Q,requestServerInteraction:j,setPagination:K}=ca(a,Ve),{computedFilterMethod:_}=ua(e,K),{isRowExpanded:D,setExpanded:ce,updateExpanded:ke}=ba(e,n),ge=g(()=>{let s=e.rows;if(Q.value===!0||s.length===0)return s;const{sortBy:R,descending:T}=h.value;return e.filter&&(s=_.value(s,e.filter,C.value,Ve)),Z.value!==null&&(s=ie.value(e.rows===s?s.slice():s,R,T)),s}),Re=g(()=>ge.value.length),ae=g(()=>{let s=ge.value;if(Q.value===!0)return s;const{rowsPerPage:R}=h.value;return R!==0&&(L.value===0&&e.rows!==s?s.length>le.value&&(s=s.slice(0,le.value)):s=s.slice(L.value,le.value)),s}),{hasSelectionMode:de,singleSelection:Oe,multipleSelection:Le,allRowsSelected:Ee,someRowsSelected:qe,rowsSelectedNumber:ye,isRowSelected:Ae,clearSelection:Ne,updateSelection:we}=ma(e,n,ae,c),{colList:q,computedCols:C,computedColsMap:B,computedColspan:I}=ya(e,h,de),{columnToSort:Z,computedSortMethod:ie,sort:H}=oa(e,h,q,K),{firstRowIndex:L,lastRowIndex:le,isFirstPage:E,isLastPage:se,pagesNumber:Ce,computedRowsPerPageOptions:je,computedRowsNumber:ve,firstPage:ze,prevPage:_e,nextPage:y,lastPage:m}=da(a,p,h,Q,K,Re),v=g(()=>ae.value.length===0),A=g(()=>{const s={};return jl.forEach(R=>{s[R]=e[R]}),s.virtualScrollItemSize===void 0&&(s.virtualScrollItemSize=e.dense===!0?28:48),s});function $(){S.value===!0&&r.value.reset()}function G(){if(e.grid===!0)return It();const s=e.hideHeader!==!0?ft:null;if(S.value===!0){const T=t["top-row"],O=t["bottom-row"],W={default:ne=>ee(ne.item,t.body,ne.index)};if(T!==void 0){const ne=f("tbody",T({cols:C.value}));W.before=s===null?()=>ne:()=>[s()].concat(ne)}else s!==null&&(W.before=s);return O!==void 0&&(W.after=()=>f("tbody",O({cols:C.value}))),f(Wn,{ref:r,class:e.tableClass,style:e.tableStyle,...A.value,scrollTarget:e.virtualScrollTarget,items:ae.value,type:"__qtable",tableColspan:I.value,onVirtualScroll:fe},W)}const R=[oe()];return s!==null&&R.unshift(s()),Ml({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},R)}function ue(s,R){if(r.value!==null){r.value.scrollTo(s,R);return}s=parseInt(s,10);const T=b.value.querySelector(`tbody tr:nth-of-type(${s+1})`);if(T!==null){const O=b.value.querySelector(".q-table__middle.scroll"),W=T.offsetTop-e.virtualScrollStickySizeStart,ne=W<O.scrollTop?"decrease":"increase";O.scrollTop=W,n("virtualScroll",{index:s,from:0,to:p.value.rowsPerPage-1,direction:ne})}}function fe(s){n("virtualScroll",s)}function Y(){return[f(Ll,{class:"q-table__linear-progress",color:e.color,dark:o.value,indeterminate:!0,trackColor:"transparent"})]}function ee(s,R,T){const O=c.value(s),W=Ae(O);if(R!==void 0)return R(pe({key:O,row:s,pageIndex:T,__trClass:W?"selected":""}));const ne=t["body-cell"],te=C.value.map(he=>{const tt=t[`body-cell-${he.name}`],lt=tt!==void 0?tt:ne;return lt!==void 0?lt(_t({key:O,row:s,pageIndex:T,col:he})):f("td",{class:he.__tdClass(s),style:he.__tdStyle(s)},Ve(he,s))});if(de.value===!0){const he=t["body-selection"],tt=he!==void 0?he(He({key:O,row:s,pageIndex:T})):[f(Bt,{modelValue:W,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(lt,Dt)=>{we([O],[s],lt,Dt)}})];te.unshift(f("td",{class:"q-table--col-auto-width"},tt))}const Pe={key:O,class:{selected:W}};return e.onRowClick!==void 0&&(Pe.class["cursor-pointer"]=!0,Pe.onClick=he=>{n("RowClick",he,s,T)}),e.onRowDblclick!==void 0&&(Pe.class["cursor-pointer"]=!0,Pe.onDblclick=he=>{n("RowDblclick",he,s,T)}),e.onRowContextmenu!==void 0&&(Pe.class["cursor-pointer"]=!0,Pe.onContextmenu=he=>{n("RowContextmenu",he,s,T)}),f("tr",Pe,te)}function oe(){const s=t.body,R=t["top-row"],T=t["bottom-row"];let O=ae.value.map((W,ne)=>ee(W,s,ne));return R!==void 0&&(O=R({cols:C.value}).concat(O)),T!==void 0&&(O=O.concat(T({cols:C.value}))),f("tbody",O)}function pe(s){return Ie(s),s.cols=s.cols.map(R=>gt({...R},"value",()=>Ve(R,s.row))),s}function _t(s){return Ie(s),gt(s,"value",()=>Ve(s.col,s.row)),s}function He(s){return Ie(s),s}function Ie(s){Object.assign(s,{cols:C.value,colsMap:B.value,sort:H,rowIndex:L.value+s.pageIndex,color:e.color,dark:o.value,dense:e.dense}),de.value===!0&&gt(s,"selected",()=>Ae(s.key),(R,T)=>{we([s.key],[s.row],R,T)}),gt(s,"expand",()=>D(s.key),R=>{ke(s.key,R)})}function Ve(s,R){const T=typeof s.field=="function"?s.field(R):R[s.field];return s.format!==void 0?s.format(T,R):T}const Ue=g(()=>({pagination:h.value,pagesNumber:Ce.value,isFirstPage:E.value,isLastPage:se.value,firstPage:ze,prevPage:_e,nextPage:y,lastPage:m,inFullscreen:d.value,toggleFullscreen:u}));function dt(){const s=t.top,R=t["top-left"],T=t["top-right"],O=t["top-selection"],W=de.value===!0&&O!==void 0&&ye.value>0,ne="q-table__top relative-position row items-center";if(s!==void 0)return f("div",{class:ne},[s(Ue.value)]);let te;if(W===!0?te=O(Ue.value).slice():(te=[],R!==void 0?te.push(f("div",{class:"q-table__control"},[R(Ue.value)])):e.title&&te.push(f("div",{class:"q-table__control"},[f("div",{class:["q-table__title",e.titleClass]},e.title)]))),T!==void 0&&(te.push(f("div",{class:"q-table__separator col"})),te.push(f("div",{class:"q-table__control"},[T(Ue.value)]))),te.length!==0)return f("div",{class:ne},te)}const Ye=g(()=>qe.value===!0?null:Ee.value);function ft(){const s=pt();return e.loading===!0&&t.loading===void 0&&s.push(f("tr",{class:"q-table__progress"},[f("th",{class:"relative-position",colspan:I.value},Y())])),f("thead",s)}function pt(){const s=t.header,R=t["header-cell"];if(s!==void 0)return s(et({header:!0})).slice();const T=C.value.map(O=>{const W=t[`header-cell-${O.name}`],ne=W!==void 0?W:R,te=et({col:O});return ne!==void 0?ne(te):f(jn,{key:O.name,props:te},()=>O.label)});if(Oe.value===!0&&e.grid!==!0)T.unshift(f("th",{class:"q-table--col-auto-width"}," "));else if(Le.value===!0){const O=t["header-selection"],W=O!==void 0?O(et({})):[f(Bt,{color:e.color,modelValue:Ye.value,dark:o.value,dense:e.dense,"onUpdate:modelValue":vt})];T.unshift(f("th",{class:"q-table--col-auto-width"},W))}return[f("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},T)]}function et(s){return Object.assign(s,{cols:C.value,sort:H,colsMap:B.value,color:e.color,dark:o.value,dense:e.dense}),Le.value===!0&&gt(s,"selected",()=>Ye.value,vt),s}function vt(s){qe.value===!0&&(s=!1),we(ae.value.map(c.value),ae.value,s)}const We=g(()=>{const s=[e.iconFirstPage||i.iconSet.table.firstPage,e.iconPrevPage||i.iconSet.table.prevPage,e.iconNextPage||i.iconSet.table.nextPage,e.iconLastPage||i.iconSet.table.lastPage];return i.lang.rtl===!0?s.reverse():s});function xt(){if(e.hideBottom===!0)return;if(v.value===!0){if(e.hideNoData===!0)return;const T=e.loading===!0?e.loadingLabel||i.lang.table.loading:e.filter?e.noResultsLabel||i.lang.table.noResults:e.noDataLabel||i.lang.table.noData,O=t["no-data"],W=O!==void 0?[O({message:T,icon:i.iconSet.table.warning,filter:e.filter})]:[f(Ge,{class:"q-table__bottom-nodata-icon",name:i.iconSet.table.warning}),T];return f("div",{class:Rt+" q-table__bottom--nodata"},W)}const s=t.bottom;if(s!==void 0)return f("div",{class:Rt},[s(Ue.value)]);const R=e.hideSelectedBanner!==!0&&de.value===!0&&ye.value>0?[f("div",{class:"q-table__control"},[f("div",[(e.selectedRowsLabel||i.lang.table.selectedRecords)(ye.value)])])]:[];if(e.hidePagination!==!0)return f("div",{class:Rt+" justify-end"},zt(R));if(R.length!==0)return f("div",{class:Rt},R)}function At(s){K({page:1,rowsPerPage:s.value})}function zt(s){let R;const{rowsPerPage:T}=h.value,O=e.paginationLabel||i.lang.table.pagination,W=t.pagination,ne=e.rowsPerPageOptions.length>1;if(s.push(f("div",{class:"q-table__separator col"})),ne===!0&&s.push(f("div",{class:"q-table__control"},[f("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||i.lang.table.recordsPerPage]),f(Yn,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:T,options:je.value,displayValue:T===0?i.lang.table.allRows:T,dark:o.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":At})])),W!==void 0)R=W(Ue.value);else if(R=[f("span",T!==0?{class:"q-table__bottom-item"}:{},[T?O(L.value+1,Math.min(le.value,ve.value),ve.value):O(1,Re.value,ve.value)])],T!==0&&Ce.value>1){const te={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(te.size="sm"),Ce.value>2&&R.push(f(xe,{key:"pgFirst",...te,icon:We.value[0],disable:E.value,onClick:ze})),R.push(f(xe,{key:"pgPrev",...te,icon:We.value[1],disable:E.value,onClick:_e}),f(xe,{key:"pgNext",...te,icon:We.value[2],disable:se.value,onClick:y})),Ce.value>2&&R.push(f(xe,{key:"pgLast",...te,icon:We.value[3],disable:se.value,onClick:m}))}return s.push(f("div",{class:"q-table__control"},R)),s}function kt(){const s=e.gridHeader===!0?[f("table",{class:"q-table"},[ft()])]:e.loading===!0&&t.loading===void 0?Y():void 0;return f("div",{class:"q-table__middle"},s)}function It(){const s=t.item!==void 0?t.item:R=>{const T=R.cols.map(W=>f("div",{class:"q-table__grid-item-row"},[f("div",{class:"q-table__grid-item-title"},[W.label]),f("div",{class:"q-table__grid-item-value"},[W.value])]));if(de.value===!0){const W=t["body-selection"],ne=W!==void 0?W(R):[f(Bt,{modelValue:R.selected,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(te,Pe)=>{we([R.key],[R.row],te,Pe)}})];T.unshift(f("div",{class:"q-table__grid-item-row"},ne),f(kn,{dark:o.value}))}const O={class:["q-table__grid-item-card"+k.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(O.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(O.onClick=W=>{n("RowClick",W,R.row,R.pageIndex)}),e.onRowDblclick!==void 0&&(O.onDblclick=W=>{n("RowDblclick",W,R.row,R.pageIndex)})),f("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(R.selected===!0?" q-table__grid-item--selected":"")},[f("div",O,T)])};return f("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},ae.value.map((R,T)=>s(pe({key:c.value(R),row:R,pageIndex:T}))))}return Object.assign(a.proxy,{requestServerInteraction:j,setPagination:K,firstPage:ze,prevPage:_e,nextPage:y,lastPage:m,isRowSelected:Ae,clearSelection:Ne,isRowExpanded:D,setExpanded:ce,sort:H,resetVirtualScroll:$,scrollTo:ue,getCellValue:Ve}),sn(a.proxy,{filteredSortedRows:()=>ge.value,computedRows:()=>ae.value,computedRowsNumber:()=>ve.value}),()=>{const s=[dt()],R={ref:b,class:F.value};return e.grid===!0?s.push(kt()):Object.assign(R,{class:[R.class,e.cardClass],style:e.cardStyle}),s.push(G(),xt()),e.loading===!0&&t.loading!==void 0&&s.push(t.loading()),f("div",R,s)}}});function Qe(){}Qe.prototype={diff:function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=a.callback;typeof a=="function"&&(i=a,a={}),this.options=a;var o=this;function d(p){return i?(setTimeout(function(){i(void 0,p)},0),!0):p}t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t)),n=this.removeEmpty(this.tokenize(n));var u=n.length,c=t.length,b=1,r=u+c;a.maxEditLength&&(r=Math.min(r,a.maxEditLength));var S=[{newPos:-1,components:[]}],k=this.extractCommon(S[0],n,t,0);if(S[0].newPos+1>=u&&k+1>=c)return d([{value:this.join(n),count:n.length}]);function w(){for(var p=-1*b;p<=b;p+=2){var h=void 0,Q=S[p-1],j=S[p+1],K=(j?j.newPos:0)-p;Q&&(S[p-1]=void 0);var _=Q&&Q.newPos+1<u,D=j&&0<=K&&K<c;if(!_&&!D){S[p]=void 0;continue}if(!_||D&&Q.newPos<j.newPos?(h=_a(j),o.pushComponent(h.components,void 0,!0)):(h=Q,h.newPos++,o.pushComponent(h.components,!0,void 0)),K=o.extractCommon(h,n,t,p),h.newPos+1>=u&&K+1>=c)return d(Ca(o,h.components,n,t,o.useLongestToken));S[p]=h}b++}if(i)(function p(){setTimeout(function(){if(b>r)return i();w()||p()},0)})();else for(;b<=r;){var F=w();if(F)return F}},pushComponent:function(t,n,a){var i=t[t.length-1];i&&i.added===n&&i.removed===a?t[t.length-1]={count:i.count+1,added:n,removed:a}:t.push({count:1,added:n,removed:a})},extractCommon:function(t,n,a,i){for(var o=n.length,d=a.length,u=t.newPos,c=u-i,b=0;u+1<o&&c+1<d&&this.equals(n[u+1],a[c+1]);)u++,c++,b++;return b&&t.components.push({count:b}),t.newPos=u,c},equals:function(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],a=0;a<t.length;a++)t[a]&&n.push(t[a]);return n},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function Ca(e,t,n,a,i){for(var o=0,d=t.length,u=0,c=0;o<d;o++){var b=t[o];if(b.removed){if(b.value=e.join(a.slice(c,c+b.count)),c+=b.count,o&&t[o-1].added){var S=t[o-1];t[o-1]=t[o],t[o]=S}}else{if(!b.added&&i){var r=n.slice(u,u+b.count);r=r.map(function(w,F){var p=a[c+F];return p.length>w.length?p:w}),b.value=e.join(r)}else b.value=e.join(n.slice(u,u+b.count));u+=b.count,b.added||(c+=b.count)}}var k=t[d-1];return d>1&&typeof k.value=="string"&&(k.added||k.removed)&&e.equals("",k.value)&&(t[d-2].value+=k.value,t.pop()),t}function _a(e){return{newPos:e.newPos,components:e.components.slice(0)}}var pa=new Qe;function hl(e,t,n){return pa.diff(e,t,n)}var bl=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Sl=/\S/,Ul=new Qe;Ul.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Sl.test(e)&&!Sl.test(t)};Ul.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&bl.test(t[n])&&bl.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var Wl=new Qe;Wl.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var a=0;a<n.length;a++){var i=n[a];a%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};var xa=new Qe;xa.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var ka=new Qe;ka.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Ot(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ot=function(t){return typeof t}:Ot=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(e)}var qa=Object.prototype.toString,wt=new Qe;wt.useLongestToken=!0;wt.tokenize=Wl.tokenize;wt.castInput=function(e){var t=this.options,n=t.undefinedReplacement,a=t.stringifyReplacer,i=a===void 0?function(o,d){return typeof d=="undefined"?n:d}:a;return typeof e=="string"?e:JSON.stringify(Jt(e,null,null,i),i,"  ")};wt.equals=function(e,t){return Qe.prototype.equals.call(wt,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Jt(e,t,n,a,i){t=t||[],n=n||[],a&&(e=a(i,e));var o;for(o=0;o<t.length;o+=1)if(t[o]===e)return n[o];var d;if(qa.call(e)==="[object Array]"){for(t.push(e),d=new Array(e.length),n.push(d),o=0;o<e.length;o+=1)d[o]=Jt(e[o],t,n,a,i);return t.pop(),n.pop(),d}if(e&&e.toJSON&&(e=e.toJSON()),Ot(e)==="object"&&e!==null){t.push(e),d={},n.push(d);var u=[],c;for(c in e)e.hasOwnProperty(c)&&u.push(c);for(u.sort(),o=0;o<u.length;o+=1)c=u[o],d[c]=Jt(e[c],t,n,a,c);t.pop(),n.pop()}else d=e;return d}var Zt=new Qe;Zt.tokenize=function(e){return e.slice()};Zt.join=Zt.removeEmpty=function(e){return e};const Ra={__name:"CharsDiff",props:["str1","str2"],setup(e){const t=e,n=N(),a=i=>i.added?"green":i.removed?"red":"black";return Ct(()=>{n.value=hl(t.str1,t.str2)}),Vl(()=>{n.value=hl(t.str1,t.str2)}),(i,o)=>(Me(),st("pre",null,[(Me(!0),st(Pl,null,Fl(n.value,(d,u)=>(Me(),st("span",{style:cn({color:a(d)}),key:"c"+u},Se(d.value),5))),128))]))}};const Va={class:"full"},Pa={class:"header"},Fa={class:"text-h6 fontOswald"},Ba={class:"flex-container"},Ta={class:"container"},Oa={class:"overview"},La={class:"statistics"},Aa={class:"row"},za={class:"col-12 col-md statistics-values"},Ia=P("div",{class:"statistics-name"},"Total files: ",-1),Da={class:"statistics-value"},Ma=P("div",{class:"statistics-name"},"Correctly detected files: ",-1),Ea={class:"statistics-value"},Na=P("div",{class:"statistics-name"},"Rate of detected files: ",-1),ja={class:"statistics-value"},Ha=P("div",{class:"statistics-name"},"Average time (ms): ",-1),$a={class:"statistics-value"},Qa=P("div",{class:"statistics-name"},"Average score: ",-1),Ua={class:"statistics-value"},Wa={class:"col-12 col-md statistics-charts"},Ka={class:"row"},Ja={class:"col statistics-chart"},Za={class:"col statistics-chart"},Ga={class:"decoding"},Xa=P("div",null,[P("label",{style:{"font-size":"16px"}},"Engines:")],-1),Ya={class:"row",style:{"padding-bottom":"20px"}},eo=["value"],to={class:"row",style:{"align-items":"center"}},lo={key:0,style:{width:"100px"}},no={class:"absolute-full flex flex-center"},ao={style:{"margin-top":"2em","margin-bottom":"2em"}},oo={class:"filename"},io={class:"text"},uo={class:"text"},ro={class:"dialogs"},so=P("div",{class:"text-h6"},"Add files",-1),co=P("label",{for:"imageFiles"},"Image files.",-1),fo=P("label",{for:"detectionResultFiles"},"Detection result files.",-1),vo=P("label",{for:"imageFiles"},"Ground truth files.",-1),mo=P("label",{for:"zipFile"},"Zip with images and text results.",-1),go=P("div",{class:"text-h6"},"Export",-1),ho=P("div",{class:"text-h6"},"Downloading project data...",-1),Vo=dn({__name:"ProjectPage",setup(e){const t=[{name:"number",required:!0,label:"No.",align:"left",field:"number"},{name:"name",required:!0,label:"Filename",align:"left",field:"filename",sortable:!0},{name:"detectedText",required:!0,label:"Detected Text",align:"left",field:"detectedText"},{name:"groundTruth",required:!0,label:"Ground Truth",align:"left",field:"groundTruth"},{name:"time",required:!0,label:"Time (ms)",align:"left",field:"time"},{name:"score",required:!0,label:"Score",align:"left",field:"score",sortable:!0}];let n,a,i=Rn();const o=N([]),d=fn(),u=N(""),c=N(""),b=N([]),r=N(!1),S=N(!1),k=N(.5),w=N(""),F=N(!1),p=N(!0),h=N({fileNumber:0,correctFilesNumber:0,averageTime:0,score:0}),Q=N(!1),j=N(0);let K=!1,_=[],D=[],ce=[],ke,ge=[];Ct(async()=>{u.value=d.currentRoute.value.params.name,await Re(d.currentRoute.value.params.name);const y=await i.getItem("projects");if(Ln({title:"MRZ Reading Benchmark - "+u.value}),y){ge=JSON.parse(y);for(let m=0;m<ge.length;m++)if(ge[m].info.name===u.value){a=ge[m];break}}if(!a)await _e();else if(a.isRemote){const m=await i.getItem(a.info.name+":results.zip"),v=await bn(a);(!m||!v||a.info.images.length===0)&&await _e()}ae(),j.value=a.info.images.length});const Re=async y=>{const m=await Vn(y);b.value=m,m.length>0&&(c.value=m[0].displayName)},ae=async y=>{if(a){const m=await Pn(a,y!=null?y:c.value);h.value=m.metrics,m.rows&&(console.log(m.rows),o.value=m.rows)}},de=async()=>{let y=Ce();if(F.value===!1&&y){F.value=!0,K=!1,await je(),await ze(y);const m=a.info.images.length;k.value=0,w.value="0/"+m;let v=await i.getItem(u.value+":detectionResultFileNamesList");v||(v=[]);for(let A=0;A<m;A++){if(K){await i.setItem(u.value+":detectionResultFileNamesList",v);return}const $=a.info.images[A];if(p.value&&await i.getItem(u.value+":detectionResult:"+bt($)+"-"+c.value+".json"))continue;const G=await i.getItem(u.value+":image:"+$);if(G){let ue=await n.detect(G);console.log(ue);const fe=bt($)+"-"+c.value+".json";v.indexOf(fe)===-1&&v.push(fe),await i.setItem(u.value+":detectionResult:"+bt($)+"-"+c.value+".json",JSON.stringify(ue))}k.value=parseFloat(((A+1)/m).toFixed(2)),w.value=A+1+"/"+m}await i.setItem(u.value+":detectionResultFileNamesList",v),F.value=!1}else K=!0,F.value=!1;ae()},Oe=y=>{D=y.target.files},Le=y=>{_=y.target.files},Ee=y=>{ce=y.target.files},qe=y=>{ke=y.target.files[0]},ye=async()=>{if(a){for(let m=0;m<ce.length;m++){const v=ce[m],A=await sl(v);await i.setItem(u.value+":groundTruth:"+v.name,A)}let y=await i.getItem(u.value+":detectionResultFileNamesList");y||(y=[]);for(let m=0;m<D.length;m++){const v=D[m],A=await sl(v);y.indexOf(v.name)===-1&&y.push(v.name),await i.setItem(u.value+":detectionResult:"+v.name,A)}for(let m=0;m<_.length;m++){const v=_[m],A=await Fn(v);await i.setItem(u.value+":image:"+v.name,A),a.info.images.push(v.name)}await i.setItem(u.value+":detectionResultFileNamesList",y),await Ae(),ae(),we(),alert("added"),r.value=!1}},Ae=async()=>{if(a&&ke){const y=await ke.arrayBuffer(),m=new jt;await m.loadAsync(y);const v=m.files,A=Object.keys(v),$=[],G=[],ue=[];for(let Y=0;Y<A.length;Y++){const ee=A[Y],oe=ee.toLowerCase(),pe=v[ee];pe.dir===!1&&(oe.endsWith(".jpg")||oe.endsWith(".jpeg")||oe.endsWith(".png")||oe.endsWith(".bmp")?G.push(pe):oe.endsWith(".txt")?$.push(pe):oe.endsWith(".json")&&ue.push(pe))}for(let Y=0;Y<$.length;Y++){const ee=$[Y],oe=await ee.async("string");await i.setItem(u.value+":groundTruth:"+ee.name,oe)}let fe=await i.getItem(u.value+":detectionResultFileNamesList");fe||(fe=[]);for(let Y=0;Y<ue.length;Y++){const ee=ue[Y],oe=await ee.async("string");fe.indexOf(ee.name)===-1&&fe.push(ee.name),await i.setItem(u.value+":detectionResult:"+ee.name,oe)}for(let Y=0;Y<G.length;Y++){const ee=G[Y],oe=await ee.async("base64"),pe=Ne(oe,ee.name);await i.setItem(u.value+":image:"+ee.name,pe),a.info.images.push(ee.name)}await i.setItem(u.value+":detectionResultFileNamesList",fe)}},Ne=(y,m)=>{const v=m.toLowerCase();return v.endsWith(".jpg")||v.endsWith(".jpeg")?"data:image/jpeg;base64,"+y:v.endsWith(".bmp")?"data:image/bmp;base64,"+y:v.endsWith(".bmp")?"data:image/png;base64,"+y:"data:image/jpeg;base64,"+y},we=async()=>{let y=[];ge.forEach(m=>{y.push(m)}),await i.setItem("projects",JSON.stringify(y))},q=()=>{C(),r.value=!0},C=()=>{ke=void 0,_=[],D=[],ce=[]},B=async()=>{await Bn(a),we(),ae()},I=async()=>{S.value=!0},Z=async()=>{for(let y=0;y<a.info.images.length;y++){const m=a.info.images[y],v=await i.getItem(u.value+":image:"+m);if(v){await Tn(1e3);const A=cl(v),$=document.createElement("a");$.href=URL.createObjectURL(A),$.download=m,document.body.appendChild($),$.click(),document.body.removeChild($)}}},ie=async()=>{const y=new jt;for(let m=0;m<a.info.images.length;m++){const v=a.info.images[m],A=await i.getItem(u.value+":image:"+v);if(A){console.log(v);const $=cl(A);y.file(v,$)}}y.generateAsync({type:"blob"}).then(function(m){const v=document.createElement("a");v.href=URL.createObjectURL(m),v.download=u.value+"-images.zip",document.body.appendChild(v),v.click(),document.body.removeChild(v)})},H=async()=>{const y=new jt;for(let v=0;v<a.info.images.length;v++){const A=a.info.images[v],$=bt(A)+".txt",G=await i.getItem(u.value+":groundTruth:"+bt(A)+".txt");G&&y.file($,G)}const m=await i.getItem(u.value+":detectionResultFileNamesList");if(m){for(let v=0;v<m.length;v++){const A=m[v],$=await i.getItem(u.value+":detectionResult:"+A);$&&y.file(A,$)}y.file("detection_result_filenames.json",JSON.stringify(m))}y.file("project_manifest.json",JSON.stringify(a)),await L(y),y.generateAsync({type:"blob"}).then(function(v){const A=document.createElement("a");A.href=URL.createObjectURL(v),A.download=u.value+"-results.zip",document.body.appendChild(A),A.click(),document.body.removeChild(A)})},L=async y=>{y.file("settings.json",JSON.stringify(b.value))},le=y=>{const m="/project/"+encodeURIComponent(u.value)+"/"+encodeURIComponent(y)+"/"+c.value,v=d.resolve(m);window.open(v.href,"_blank")},E=y=>{ae(y)},se=()=>{const y="/project/"+encodeURIComponent(u.value)+"/comparison";d.push(y)},Ce=y=>{let m;y?m=y:m=c.value;for(const v of b.value)if(v.displayName===m)return v},je=async()=>{let y=Ce();if(y){let m=!1;n?n.getEngine()!=y.engine&&(m=!0):m=!0,m&&(w.value="Initializing...",n=await On.createInstance(y.engine),w.value="")}},ve=async()=>{window.open("https://demo.dynamsoft.com/label-recognizer-js/mrz-scanner.html","_blank")},ze=async y=>{console.log("updateBarcodeReaderSettings"),console.log(y),await n.setSupportedSettings(y.settings)},_e=async()=>{Q.value=!0;const y=u.value;try{const v=await(await fetch("./dataset/"+y+"/project_manifest.json")).text(),A=JSON.parse(v);A.isRemote=!0;const G=await(await fetch("./dataset/"+y+"/results.zip")).blob();G.size>0&&await i.setItem(y+":results.zip",G),await Sn(A);let ue,fe=await i.getItem("projects");fe?ue=JSON.parse(fe):ue=[];let Y=[],ee=!1;for(let oe=0;oe<ue.length;oe++){const pe=ue[oe];pe.info.name===A.info.name?(Y.push(A),ee=!0):Y.push(pe)}ee===!1&&Y.push(A),await i.setItem("projects",JSON.stringify(Y)),a=A,await Re(y)}catch(m){console.log(m)}Q.value=!1};return(y,m)=>(Me(),qt(xn,null,{default:U(()=>[P("div",Va,[P("div",Pa,[P("div",Fa,Se(u.value),1),P("div",Ba,[z(Ht,{style:{"margin-left":"15px"},secondary:"",label:"Go to Comparison Page",onClick:se})]),z(Ht,{outline:"",style:{color:"black","border-color":"black","background-color":"#fff"},label:"Export",onClick:I})]),P("div",Ta,[P("div",Oa,[P("div",La,[P("div",Aa,[P("div",za,[P("div",null,[Ia,P("div",Da,Se(j.value),1)]),P("div",null,[Ma,P("div",Ea,Se(h.value.correctFilesNumber),1)]),P("div",null,[Na,P("div",ja,Se((h.value.correctFilesNumber/h.value.fileNumber*100).toFixed(2))+"%",1)]),P("div",null,[Ha,P("div",$a,Se(h.value.averageTime),1)]),P("div",null,[Qa,P("div",Ua,Se(h.value.score),1)])]),P("div",Wa,[P("div",Ka,[P("div",Ja,[Fe(" Reading Rate: "),z(dl,{"show-value":"","font-size":"12px",value:h.value.readingRate,size:"60px",thickness:.22,color:"orange","track-color":"grey-3",class:"q-ma-md"},{default:U(()=>[Fe(Se(h.value.readingRate)+"% ",1)]),_:1},8,["value"])]),P("div",Za,[Fe(" Score: "),z(dl,{"show-value":"","font-size":"12px",value:h.value.score,size:"60px",thickness:.22,color:"orange","track-color":"grey-3",class:"q-ma-md"},{default:U(()=>[Fe(Se(h.value.score)+"% ",1)]),_:1},8,["value"])])])])])]),P("div",Ga,[Xa,P("div",Ya,[it(P("select",{style:{"min-width":"200px",height:"45px"},"onUpdate:modelValue":[m[0]||(m[0]=v=>E(v)),m[1]||(m[1]=v=>c.value=v)]},[(Me(!0),st(Pl,null,Fl(b.value,v=>(Me(),st("option",{value:v.displayName,key:v.displayName},Se(v.displayName),9,eo))),128))],512),[[vn,c.value]])]),P("div",to,[z(Ht,{label:F.value?"Stop Decoding":"Start Decoding",onClick:de},null,8,["label"]),z(Bt,{color:"orange",style:{"padding-left":"10px"},"left-label":"",modelValue:p.value,"onUpdate:modelValue":m[2]||(m[2]=v=>p.value=v),label:"Skip Detected"},null,8,["modelValue"])]),F.value?(Me(),st("div",lo,[z(Ll,{size:"25px",value:k.value,color:"orange"},{default:U(()=>[P("div",no,[z(yn,{color:"white","text-color":"black",label:w.value},null,8,["label"])])]),_:1},8,["value"])])):mn("",!0)])]),P("div",ao,[z(wa,{title:"Images",color:"black","table-header-style":"background:#f5f5f5;",rows:o.value,columns:t,"row-key":"name"},{"top-right":U(()=>[z(En,{unelevated:"",color:"black",label:"Action"},{default:U(()=>[z(kl,null,{default:U(()=>[it((Me(),qt(Ft,{clickable:"",onClick:q},{default:U(()=>[z(Vt,null,{default:U(()=>[z(Pt,null,{default:U(()=>[Fe("Add local files")]),_:1})]),_:1})]),_:1})),[[ht]]),it((Me(),qt(Ft,{clickable:"",onClick:B},{default:U(()=>[z(Vt,null,{default:U(()=>[z(Pt,null,{default:U(()=>[Fe("Clear")]),_:1})]),_:1})]),_:1})),[[ht]]),it((Me(),qt(Ft,{clickable:"",onClick:ve},{default:U(()=>[z(Vt,null,{default:U(()=>[z(Pt,null,{default:U(()=>[Fe("Go to live scanner")]),_:1})]),_:1})]),_:1})),[[ht]])]),_:1})]),_:1})]),body:U(v=>[z(Nn,{props:v},{default:U(()=>[z(rt,{key:"number",props:v},{default:U(()=>[Fe(Se(v.row.number),1)]),_:2},1032,["props"]),z(rt,{key:"name",props:v,onClick:A=>le(v.row.filename)},{default:U(()=>[P("div",oo,Se(v.row.filename),1)]),_:2},1032,["props","onClick"]),z(rt,{key:"detectedText",props:v},{default:U(()=>[P("div",io,[z(Ra,{str2:v.row.detectedText,str1:v.row.groundTruth},null,8,["str2","str1"])])]),_:2},1032,["props"]),z(rt,{key:"groundTruth",props:v},{default:U(()=>[P("div",uo,[P("pre",null,Se(v.row.groundTruth),1)])]),_:2},1032,["props"]),z(rt,{key:"time",props:v},{default:U(()=>[Fe(Se(v.row.time),1)]),_:2},1032,["props"]),z(rt,{key:"score",props:v},{default:U(()=>[Fe(Se(v.row.score),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])])])]),P("div",ro,[z(Tt,{modelValue:r.value,"onUpdate:modelValue":m[7]||(m[7]=v=>r.value=v)},{default:U(()=>[z($t,null,{default:U(()=>[z(ut,null,{default:U(()=>[so]),_:1}),z(ut,{class:"q-pt-none"},{default:U(()=>[P("div",null,[P("input",{type:"file",id:"imageFiles",multiple:"true",onChange:m[3]||(m[3]=v=>{Le(v)}),accept:".jpg,.jpeg,.png,.bmp"},null,32),co]),P("div",null,[P("input",{type:"file",id:"detectionResultFiles",multiple:"true",onChange:m[4]||(m[4]=v=>{Oe(v)}),accept:".json"},null,32),fo]),P("div",null,[P("input",{type:"file",id:"groundTruthFiles",multiple:"true",onChange:m[5]||(m[5]=v=>{Ee(v)}),accept:".txt"},null,32),vo]),P("div",null,[P("input",{type:"file",id:"zipFile",onChange:m[6]||(m[6]=v=>{qe(v)}),accept:".zip"},null,32),mo])]),_:1}),z(rl,{align:"right"},{default:U(()=>[z(xe,{flat:"",color:"primary",label:"Add to project",onClick:ye}),it(z(xe,{flat:"",color:"primary",label:"Close"},null,512),[[ht]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),z(Tt,{modelValue:S.value,"onUpdate:modelValue":m[8]||(m[8]=v=>S.value=v)},{default:U(()=>[z($t,null,{default:U(()=>[z(ut,null,{default:U(()=>[go]),_:1}),z(ut,{class:"q-pt-none"},{default:U(()=>[P("div",null,[z(xe,{outline:"",color:"primary",label:"Download images",onClick:Z})]),P("div",null,[z(xe,{outline:"",color:"primary",label:"Download images in a zip",onClick:ie})]),P("div",null,[z(xe,{outline:"",color:"primary",label:"Download TextResults.zip",onClick:H})])]),_:1}),z(rl,{align:"right"},{default:U(()=>[it(z(xe,{flat:"",color:"primary",label:"Close"},null,512),[[ht]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),z(Tt,{modelValue:Q.value,"onUpdate:modelValue":m[9]||(m[9]=v=>Q.value=v),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:U(()=>[z($t,{style:{width:"300px"}},{default:U(()=>[z(ut,null,{default:U(()=>[ho]),_:1}),z(ut,{class:"q-pt-none"},{default:U(()=>[Fe(" Please wait for a while. ")]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}))}});export{Vo as default};
