import{n as Sl,c as Oe,o as yl,p as wl,h as Ye,q as Cl,l as Xe,Q as ke,r as Kl,a as Jl,b as _l,s as Zl,R as Gl,e as Xl}from"./QBtn.d53ca10c.js";import{b as Yl,Q as pl,a as xl,n as nl,c as Rt,d as Vt,e as Pt}from"./QMenu.6409c1b5.js";import{c as g,h as f,g as Qe,r as H,w as ve,b as Ot,H as Ze,n as en,a3 as tn,a6 as Gt,W as kl,a5 as ql,o as Lt,L as Ne,d as al,J as Ge,a4 as ln,a7 as nn,K as Nt,a8 as gt,E as an,M as on,V as ol,a9 as Ut,aa as il,ab as un,ac as rn,N as ht,s as Be,O as ct,Q as Rl,R as Vl,ad as sn,S as Se,m as cn,u as dn,t as bt,v as U,A as P,x as I,U as Fe,C as ut,ae as fn,P as vn}from"./index.d7e94690.js";import{Q as mn,a as Ft}from"./QMarkupTable.31572bb7.js";import{u as Xt,a as Pl,c as Fl,b as Bl,f as ul,d as gn,Q as Tl,t as hn,l as bn,e as Sn,J as jt}from"./projectUtils.ad282522.js";import{h as yn,y as wn,z as Ol,A as Ll,u as Cn,a as _n,c as Bt,Q as pn,D as Ht,d as $t,e as rt,C as St}from"./DynamsoftButton.edcbc62e.js";import{r as Wt,Q as xn}from"./rtl.017fdebb.js";import{g as kn}from"./scroll.a2dfe52c.js";import{Q as rl}from"./QCardActions.a00cd3a7.js";import{g as qn,l as Rn,d as Vn,b as yt,e as sl,f as Pn,r as Fn,s as Bn,h as cl,M as Tn}from"./utils.9a20fa8f.js";import{u as On}from"./use-meta.f6839d48.js";const Ln={...Sl,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Kt=50,Al=2*Kt,zl=Al*Math.PI,An=Math.round(zl*1e3)/1e3;var dl=Oe({name:"QCircularProgress",props:{...Ln,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Qe(),a=yl(e),i=g(()=>{const k=(n.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-k}deg)`:`rotate3d(0, 0, 1, ${k-90}deg)`}}),o=g(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),d=g(()=>Al/(1-e.thickness/2)),u=g(()=>`${d.value/2} ${d.value/2} ${d.value} ${d.value}`),c=g(()=>Yl(e.value,e.min,e.max)),b=g(()=>zl*(1-(c.value-e.min)/(e.max-e.min))),r=g(()=>e.thickness/2*d.value);function S({thickness:k,offset:w,color:B,cls:p,rounded:h}){return f("circle",{class:"q-circular-progress__"+p+(B!==void 0?` text-${B}`:""),style:o.value,fill:"transparent",stroke:"currentColor","stroke-width":k,"stroke-dasharray":An,"stroke-dashoffset":w,"stroke-linecap":h,cx:d.value,cy:d.value,r:Kt})}return()=>{const k=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&k.push(f("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Kt-r.value/2,cx:d.value,cy:d.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&k.push(S({cls:"track",thickness:r.value,offset:0,color:e.trackColor})),k.push(S({cls:"circle",thickness:r.value,offset:b.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const w=[f("svg",{class:"q-circular-progress__svg",style:i.value,viewBox:u.value,"aria-hidden":"true"},k)];return e.showValue===!0&&w.push(f("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[f("div",c.value)])),f("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:a.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:c.value},wl(t.internal,w))}}}),zn=Oe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=g(()=>{const a=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(i=>e[i]===!0).map(i=>`q-btn-group--${i}`).join(" ");return`q-btn-group row no-wrap${a.length!==0?" "+a:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>f("div",{class:n.value},Ye(t.default))}});const In=Object.keys(Cl),Dn=e=>In.reduce((t,n)=>{const a=e[n];return a!==void 0&&(t[n]=a),t},{});var Mn=Oe({name:"QBtnDropdown",props:{...Cl,...yn,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:a}=Qe(),i=H(e.modelValue),o=H(null),d=wn(),u=g(()=>{const _={"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true","aria-controls":d,"aria-label":e.toggleAriaLabel||a.$q.lang.label[i.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(_["aria-disabled"]="true"),_}),c=g(()=>"q-btn-dropdown__arrow"+(i.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),b=g(()=>Kl(e)),r=g(()=>Dn(e));ve(()=>e.modelValue,_=>{o.value!==null&&o.value[_?"show":"hide"]()}),ve(()=>e.split,K);function S(_){i.value=!0,n("beforeShow",_)}function k(_){n("show",_),n("update:modelValue",!0)}function w(_){i.value=!1,n("beforeHide",_)}function B(_){n("hide",_),n("update:modelValue",!1)}function p(_){n("click",_)}function h(_){Ze(_),K(),n("click",_)}function $(_){o.value!==null&&o.value.toggle(_)}function N(_){o.value!==null&&o.value.show(_)}function K(_){o.value!==null&&o.value.hide(_)}return Object.assign(a,{show:N,hide:K,toggle:$}),Ot(()=>{e.modelValue===!0&&N()}),()=>{const _=[f(Xe,{class:c.value,name:e.dropdownIcon||a.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&_.push(f(pl,{ref:o,id:d,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:S,onShow:k,onBeforeHide:w,onHide:B},t.default)),e.split===!1?f(ke,{class:"q-btn-dropdown q-btn-dropdown--simple",...r.value,...u.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:p},{default:()=>Ye(t.label,[]).concat(_),loading:t.loading}):f(zn,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...b.value,glossy:e.glossy,stretch:e.stretch},()=>[f(ke,{class:"q-btn-dropdown--current",...r.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:h},{default:t.label,loading:t.loading}),f(ke,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...u.value,...b.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>_)])}}}),st=Oe({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const n=Qe(),a=g(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return f("td",{class:a.value},Ye(t.default));const i=n.vnode.key,o=(e.props.colsMap!==void 0?e.props.colsMap[i]:null)||e.props.col;if(o===void 0)return;const{row:d}=e.props;return f("td",{class:a.value+o.__tdClass(d),style:o.__tdStyle(d)},Ye(t.default))}}}),En=Oe({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const n=g(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>f("tr",{class:n.value},Ye(t.default))}}),Nn=Oe({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const a=Qe(),{proxy:{$q:i}}=a,o=d=>{n("click",d)};return()=>{if(e.props===void 0)return f("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:o},Ye(t.default));let d,u;const c=a.vnode.key;if(c){if(d=e.props.colsMap[c],d===void 0)return}else d=e.props.col;if(d.sortable===!0){const r=d.align==="right"?"unshift":"push";u=Jl(t.default,[]),u[r](f(Xe,{class:d.__iconClass,name:i.iconSet.table.arrowUp}))}else u=Ye(t.default);const b={class:d.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:d.headerStyle,onClick:r=>{d.sortable===!0&&e.props.sort(d),o(r)}};return f("th",b,u)}}});function Il(e,t){return f("div",e,[f("table",{class:"q-table"},t)])}const Te=1e3,jn=["start","center","end","start-force","center-force","end-force"],Dl=Array.prototype.filter,Hn=window.getComputedStyle(document.body).overflowAnchor===void 0?en:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Dl.call(n,i=>i.dataset&&i.dataset.qVsAnchor!==void 0).forEach(i=>{delete i.dataset.qVsAnchor});const a=n[t];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function dt(e,t){return e+t}function Qt(e,t,n,a,i,o,d,u){const c=e===window?document.scrollingElement||document.documentElement:e,b=i===!0?"offsetWidth":"offsetHeight",r={scrollStart:0,scrollViewSize:-d-u,scrollMaxSize:0,offsetStart:-d,offsetEnd:-u};if(i===!0?(e===window?(r.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r.scrollViewSize+=document.documentElement.clientWidth):(r.scrollStart=c.scrollLeft,r.scrollViewSize+=c.clientWidth),r.scrollMaxSize=c.scrollWidth,o===!0&&(r.scrollStart=(Wt===!0?r.scrollMaxSize-r.scrollViewSize:0)-r.scrollStart)):(e===window?(r.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,r.scrollViewSize+=document.documentElement.clientHeight):(r.scrollStart=c.scrollTop,r.scrollViewSize+=c.clientHeight),r.scrollMaxSize=c.scrollHeight),n!==null)for(let S=n.previousElementSibling;S!==null;S=S.previousElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetStart+=S[b]);if(a!==null)for(let S=a.nextElementSibling;S!==null;S=S.nextElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetEnd+=S[b]);if(t!==e){const S=c.getBoundingClientRect(),k=t.getBoundingClientRect();i===!0?(r.offsetStart+=k.left-S.left,r.offsetEnd-=k.width):(r.offsetStart+=k.top-S.top,r.offsetEnd-=k.height),e!==window&&(r.offsetStart+=r.scrollStart),r.offsetEnd+=r.scrollMaxSize-r.offsetStart}return r}function fl(e,t,n,a){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(a===!0&&(t=(Wt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(a===!0&&(t=(Wt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function wt(e,t,n,a){if(n>=a)return 0;const i=t.length,o=Math.floor(n/Te),d=Math.floor((a-1)/Te)+1;let u=e.slice(o,d).reduce(dt,0);return n%Te!==0&&(u-=t.slice(o*Te,n).reduce(dt,0)),a%Te!==0&&a!==i&&(u-=t.slice(a,d*Te).reduce(dt,0)),u}const Ml={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},El=Object.keys(Ml),Nl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Ml};function jl({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:a}){const i=Qe(),{props:o,emit:d,proxy:u}=i,{$q:c}=u;let b,r,S,k=[],w;const B=H(0),p=H(0),h=H({}),$=H(null),N=H(null),K=H(null),_=H({from:0,to:0}),D=g(()=>o.tableColspan!==void 0?o.tableColspan:100);a===void 0&&(a=g(()=>o.virtualScrollItemSize));const se=g(()=>a.value+";"+o.virtualScrollHorizontal),qe=g(()=>se.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);ve(qe,()=>{ye()}),ve(se,me);function me(){Re(r,!0)}function Le(C){Re(C===void 0?r:C)}function ce(C,T){const z=t();if(z==null||z.nodeType===8)return;const Z=Qt(z,n(),$.value,N.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);S!==Z.scrollViewSize&&ye(Z.scrollViewSize),Ae(z,Z,Math.min(e.value-1,Math.max(0,parseInt(C,10)||0)),0,jn.indexOf(T)>-1?T:r>-1&&C>r?"end":"start")}function te(){const C=t();if(C==null||C.nodeType===8)return;const T=Qt(C,n(),$.value,N.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),z=e.value-1,Z=T.scrollMaxSize-T.offsetStart-T.offsetEnd-p.value;if(b===T.scrollStart)return;if(T.scrollMaxSize<=0){Ae(C,T,0,0);return}S!==T.scrollViewSize&&ye(T.scrollViewSize),ze(_.value.from);const ae=Math.floor(T.scrollMaxSize-Math.max(T.scrollViewSize,T.offsetEnd)-Math.min(w[z],T.scrollViewSize/2));if(ae>0&&Math.ceil(T.scrollStart)>=ae){Ae(C,T,z,T.scrollMaxSize-T.offsetEnd-k.reduce(dt,0));return}let j=0,A=T.scrollStart-T.offsetStart,le=A;if(A<=Z&&A+T.scrollViewSize>=B.value)A-=B.value,j=_.value.from,le=A;else for(let E=0;A>=k[E]&&j<z;E++)A-=k[E],j+=Te;for(;A>0&&j<z;)A-=w[j],A>-T.scrollViewSize?(j++,le=A):le=w[j]+A;Ae(C,T,j,le)}function Ae(C,T,z,Z,ae){const j=typeof ae=="string"&&ae.indexOf("-force")>-1,A=j===!0?ae.replace("-force",""):ae,le=A!==void 0?A:"start";let E=Math.max(0,z-h.value[le]),re=E+h.value.total;re>e.value&&(re=e.value,E=Math.max(0,re-h.value.total)),b=T.scrollStart;const _e=E!==_.value.from||re!==_.value.to;if(_e===!1&&A===void 0){He(z);return}const{activeElement:De}=document,fe=K.value;_e===!0&&fe!==null&&fe!==De&&fe.contains(De)===!0&&(fe.addEventListener("focusout",je),setTimeout(()=>{fe!==null&&fe.removeEventListener("focusout",je)})),Hn(fe,z-E);const Me=A!==void 0?w.slice(E,z).reduce(dt,0):0;if(_e===!0){const pe=re>=_.value.from&&E<=_.value.to?_.value.to:re;_.value={from:E,to:pe},B.value=wt(k,w,0,E),p.value=wt(k,w,re,e.value),requestAnimationFrame(()=>{_.value.to!==re&&b===T.scrollStart&&(_.value={from:_.value.from,to:re},p.value=wt(k,w,re,e.value))})}requestAnimationFrame(()=>{if(b!==T.scrollStart)return;_e===!0&&ze(E);const pe=w.slice(E,z).reduce(dt,0),xe=pe+T.offsetStart+B.value,y=xe+w[z];let m=xe+Z;if(A!==void 0){const v=pe-Me,F=T.scrollStart+v;m=j!==!0&&F<xe&&y<F+T.scrollViewSize?F:A==="end"?y-T.scrollViewSize:xe-(A==="start"?0:Math.round((T.scrollViewSize-w[z])/2))}b=m,fl(C,m,o.virtualScrollHorizontal,c.lang.rtl),He(z)})}function ze(C){const T=K.value;if(T){const z=Dl.call(T.children,E=>E.classList&&E.classList.contains("q-virtual-scroll--skip")===!1),Z=z.length,ae=o.virtualScrollHorizontal===!0?E=>E.getBoundingClientRect().width:E=>E.offsetHeight;let j=C,A,le;for(let E=0;E<Z;){for(A=ae(z[E]),E++;E<Z&&z[E].classList.contains("q-virtual-scroll--with-prev")===!0;)A+=ae(z[E]),E++;le=A-w[j],le!==0&&(w[j]+=le,k[Math.floor(j/Te)]+=le),j++}}}function je(){K.value!==null&&K.value!==void 0&&K.value.focus()}function Re(C,T){const z=1*a.value;(T===!0||Array.isArray(w)===!1)&&(w=[]);const Z=w.length;w.length=e.value;for(let j=e.value-1;j>=Z;j--)w[j]=z;const ae=Math.floor((e.value-1)/Te);k=[];for(let j=0;j<=ae;j++){let A=0;const le=Math.min((j+1)*Te,e.value);for(let E=j*Te;E<le;E++)A+=w[E];k.push(A)}r=-1,b=void 0,B.value=wt(k,w,0,_.value.from),p.value=wt(k,w,_.value.to,e.value),C>=0?(ze(_.value.from),Ne(()=>{ce(C)})):Ce()}function ye(C){if(C===void 0&&typeof window!="undefined"){const A=t();A!=null&&A.nodeType!==8&&(C=Qt(A,n(),$.value,N.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}S=C;const T=parseFloat(o.virtualScrollSliceRatioBefore)||0,z=parseFloat(o.virtualScrollSliceRatioAfter)||0,Z=1+T+z,ae=C===void 0||C<=0?1:Math.ceil(C/a.value),j=Math.max(1,ae,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/Z));h.value={total:Math.ceil(j*Z),start:Math.ceil(j*T),center:Math.ceil(j*(.5+T)),end:Math.ceil(j*(1+T)),view:ae}}function Ie(C,T){const z=o.virtualScrollHorizontal===!0?"width":"height",Z={["--q-virtual-scroll-item-"+z]:a.value+"px"};return[C==="tbody"?f(C,{class:"q-virtual-scroll__padding",key:"before",ref:$},[f("tr",[f("td",{style:{[z]:`${B.value}px`,...Z},colspan:D.value})])]):f(C,{class:"q-virtual-scroll__padding",key:"before",ref:$,style:{[z]:`${B.value}px`,...Z}}),f(C,{class:"q-virtual-scroll__content",key:"content",ref:K,tabindex:-1},T.flat()),C==="tbody"?f(C,{class:"q-virtual-scroll__padding",key:"after",ref:N},[f("tr",[f("td",{style:{[z]:`${p.value}px`,...Z},colspan:D.value})])]):f(C,{class:"q-virtual-scroll__padding",key:"after",ref:N,style:{[z]:`${p.value}px`,...Z}})]}function He(C){r!==C&&(o.onVirtualScroll!==void 0&&d("virtualScroll",{index:C,from:_.value.from,to:_.value.to-1,direction:C<r?"decrease":"increase",ref:u}),r=C)}ye();const Ce=tn(te,c.platform.is.ios===!0?120:35);Gt(()=>{ye()});let q=!1;return kl(()=>{q=!0}),ql(()=>{if(q!==!0)return;const C=t();b!==void 0&&C!==void 0&&C!==null&&C.nodeType!==8?fl(C,b,o.virtualScrollHorizontal,c.lang.rtl):ce(r)}),Lt(()=>{Ce.cancel()}),Object.assign(u,{scrollTo:ce,reset:me,refresh:Le}),{virtualScrollSliceRange:_,virtualScrollSliceSizeComputed:h,setVirtualScrollSize:ye,onVirtualScrollEvt:Ce,localResetVirtualScroll:Re,padVirtualScroll:Ie,scrollTo:ce,reset:me,refresh:Le}}const $n={list:xl,table:mn},Qn=["list","table","__qtable"];var Un=Oe({name:"QVirtualScroll",props:{...Nl,type:{type:String,default:"list",validator:e=>Qn.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:n}){let a;const i=H(null),o=g(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:d,localResetVirtualScroll:u,padVirtualScroll:c,onVirtualScrollEvt:b}=jl({virtualScrollLength:o,getVirtualScrollTarget:B,getVirtualScrollEl:w}),r=g(()=>{if(o.value===0)return[];const N=(K,_)=>({index:d.value.from+_,item:K});return e.itemsFn===void 0?e.items.slice(d.value.from,d.value.to).map(N):e.itemsFn(d.value.from,d.value.to-d.value.from).map(N)}),S=g(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),k=g(()=>e.scrollTarget!==void 0?{}:{tabindex:0});ve(o,()=>{u()}),ve(()=>e.scrollTarget,()=>{h(),p()});function w(){return i.value.$el||i.value}function B(){return a}function p(){a=kn(w(),e.scrollTarget),a.addEventListener("scroll",b,al.passive)}function h(){a!==void 0&&(a.removeEventListener("scroll",b,al.passive),a=void 0)}function $(){let N=c(e.type==="list"?"div":"tbody",r.value.map(t.default));return t.before!==void 0&&(N=t.before().concat(N)),_l(t.after,N)}return Gt(()=>{u()}),Ot(()=>{p()}),ql(()=>{p()}),kl(()=>{h()}),Lt(()=>{h()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Il({ref:i,class:"q-table__middle "+S.value},$()):f($n[e.type],{...n,ref:i,class:[n.class,S.value],...k.value},$)}}}),Wn=Oe({name:"QField",inheritAttrs:!1,props:Xt,emits:Pl,setup(){return Fl(Bl())}});const Kn={xs:8,sm:10,md:14,lg:20,xl:24};var Jn=Oe({name:"QChip",props:{...Ol,...Sl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=Qe(),i=Ll(e,a),o=yl(e,Kn),d=g(()=>e.selected===!0||e.icon!==void 0),u=g(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),c=g(()=>e.iconRemove||a.iconSet.chip.remove),b=g(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),r=g(()=>{const h=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(h?` text-${h} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(b.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),S=g(()=>{const h=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},$={...h,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:h,remove:$}});function k(h){h.keyCode===13&&w(h)}function w(h){e.disable||(n("update:selected",!e.selected),n("click",h))}function B(h){(h.keyCode===void 0||h.keyCode===13)&&(Ge(h),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function p(){const h=[];b.value===!0&&h.push(f("div",{class:"q-focus-helper"})),d.value===!0&&h.push(f(Xe,{class:"q-chip__icon q-chip__icon--left",name:u.value}));const $=e.label!==void 0?[f("div",{class:"ellipsis"},[e.label])]:void 0;return h.push(f("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},wl(t.default,$))),e.iconRight&&h.push(f(Xe,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&h.push(f(Xe,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...S.value.remove,onClick:B,onKeyup:B})),h}return()=>{if(e.modelValue===!1)return;const h={class:r.value,style:o.value};return b.value===!0&&Object.assign(h,S.value.chip,{onClick:w,onKeyup:k}),Zl("div",h,p(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Gl,e.ripple]])}}});const vl=e=>["add","add-unique","toggle"].includes(e),Zn=".*+?^${}()|[]\\",Gn=Object.keys(Xt);var Xn=Oe({name:"QSelect",inheritAttrs:!1,props:{...Nl,...Cn,...Xt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:vl},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Pl,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:a}=Qe(),{$q:i}=a,o=H(!1),d=H(!1),u=H(-1),c=H(""),b=H(!1),r=H(!1);let S=null,k,w,B,p=null,h,$,N,K;const _=H(null),D=H(null),se=H(null),qe=H(null),me=H(null),Le=_n(e),ce=gn(s),te=g(()=>Array.isArray(e.options)?e.options.length:0),Ae=g(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ze,virtualScrollSliceSizeComputed:je,localResetVirtualScroll:Re,padVirtualScroll:ye,onVirtualScrollEvt:Ie,scrollTo:He,setVirtualScrollSize:Ce}=jl({virtualScrollLength:te,getVirtualScrollTarget:At,getVirtualScrollEl:xt,virtualScrollItemSizeComputed:Ae}),q=Bl(),C=g(()=>{const l=e.mapOptions===!0&&e.multiple!==!0,V=e.modelValue!==void 0&&(e.modelValue!==null||l===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const x=e.mapOptions===!0&&k!==void 0?k:[],M=V.map(X=>We(X,x));return e.modelValue===null&&l===!0?M.filter(X=>X!==null):M}return V}),T=g(()=>{const l={};return Gn.forEach(V=>{const x=e[V];x!==void 0&&(l[V]=x)}),l}),z=g(()=>e.optionsDark===null?q.isDark.value:e.optionsDark),Z=g(()=>ul(C.value)),ae=g(()=>{let l="q-field__input q-placeholder col";return e.hideSelected===!0||C.value.length===0?[l,e.inputClass]:(l+=" q-field__input--padding",e.inputClass===void 0?l:[l,e.inputClass])}),j=g(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),A=g(()=>te.value===0),le=g(()=>C.value.map(l=>Q.value(l)).join(", ")),E=g(()=>e.displayValue!==void 0?e.displayValue:le.value),re=g(()=>e.optionsHtml===!0?()=>!0:l=>l!=null&&l.html===!0),_e=g(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||C.value.some(re.value))),De=g(()=>q.focused.value===!0?e.tabindex:-1),fe=g(()=>{const l={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${q.targetUid.value}_lb`};return u.value>=0&&(l["aria-activedescendant"]=`${q.targetUid.value}_${u.value}`),l}),Me=g(()=>({id:`${q.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),pe=g(()=>C.value.map((l,V)=>({index:V,opt:l,html:re.value(l),selected:!0,removeAtIndex:ie,toggleOption:$e,tabindex:De.value}))),xe=g(()=>{if(te.value===0)return[];const{from:l,to:V}=ze.value;return e.options.slice(l,V).map((x,M)=>{const X=oe.value(x)===!0,J=l+M,ue={clickable:!0,active:!1,activeClass:v.value,manualFocus:!0,focused:!1,disable:X,tabindex:-1,dense:e.optionsDense,dark:z.value,role:"option",id:`${q.targetUid.value}_${J}`,onClick:()=>{$e(x)}};return X!==!0&&(et(x)===!0&&(ue.active=!0),u.value===J&&(ue.focused=!0),ue["aria-selected"]=ue.active===!0?"true":"false",i.platform.is.desktop===!0&&(ue.onMousemove=()=>{o.value===!0&&Ee(J)})),{index:J,opt:x,html:re.value(x),label:Q.value(x),selected:ue.active,focused:ue.focused,toggleOption:$e,setOptionIndex:Ee,itemProps:ue}})}),y=g(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),m=g(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),v=g(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),F=g(()=>ft(e.optionValue,"value")),Q=g(()=>ft(e.optionLabel,"label")),oe=g(()=>ft(e.optionDisable,"disable")),de=g(()=>C.value.map(l=>F.value(l))),ge=g(()=>{const l={onInput:s,onChange:ce,onKeydown:Ke,onKeyup:tt,onKeypress:mt,onFocus:vt,onClick(V){w===!0&&Ze(V)}};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=ce,l});ve(C,l=>{k=l,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&q.innerLoading.value!==!0&&(d.value!==!0&&o.value!==!0||Z.value!==!0)&&(B!==!0&&it(),(d.value===!0||o.value===!0)&&L(""))},{immediate:!0}),ve(()=>e.fillInput,it),ve(o,Mt),ve(te,Wl);function G(l){return e.emitValue===!0?F.value(l):l}function Y(l){if(l>-1&&l<C.value.length)if(e.multiple===!0){const V=e.modelValue.slice();n("remove",{index:l,value:V.splice(l,1)[0]}),n("update:modelValue",V)}else n("update:modelValue",null)}function ie(l){Y(l),q.focus()}function we(l,V){const x=G(l);if(e.multiple!==!0){e.fillInput===!0&&O(Q.value(l),!0,!0),n("update:modelValue",x);return}if(C.value.length===0){n("add",{index:0,value:x}),n("update:modelValue",e.multiple===!0?[x]:x);return}if(V===!0&&et(l)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const M=e.modelValue.slice();n("add",{index:M.length,value:x}),M.push(x),n("update:modelValue",M)}function $e(l,V){if(q.editable.value!==!0||l===void 0||oe.value(l)===!0)return;const x=F.value(l);if(e.multiple!==!0){V!==!0&&(O(e.fillInput===!0?Q.value(l):"",!0,!0),Je()),D.value!==null&&D.value.focus(),(C.value.length===0||gt(F.value(C.value[0]),x)!==!0)&&n("update:modelValue",e.emitValue===!0?x:l);return}if((w!==!0||b.value===!0)&&q.focus(),vt(),C.value.length===0){const J=e.emitValue===!0?x:l;n("add",{index:0,value:J}),n("update:modelValue",e.multiple===!0?[J]:J);return}const M=e.modelValue.slice(),X=de.value.findIndex(J=>gt(J,x));if(X>-1)n("remove",{index:X,value:M.splice(X,1)[0]});else{if(e.maxValues!==void 0&&M.length>=e.maxValues)return;const J=e.emitValue===!0?x:l;n("add",{index:M.length,value:J}),M.push(J)}n("update:modelValue",M)}function Ee(l){if(i.platform.is.desktop!==!0)return;const V=l>-1&&l<te.value?l:-1;u.value!==V&&(u.value=V)}function Ve(l=1,V){if(o.value===!0){let x=u.value;do x=nl(x+l,-1,te.value-1);while(x!==-1&&x!==u.value&&oe.value(e.options[x])===!0);u.value!==x&&(Ee(x),He(x),V!==!0&&e.useInput===!0&&e.fillInput===!0&&R(x>=0?Q.value(e.options[x]):h))}}function We(l,V){const x=M=>gt(F.value(M),l);return e.options.find(x)||V.find(x)||l}function ft(l,V){const x=l!==void 0?l:V;return typeof x=="function"?x:M=>M!==null&&typeof M=="object"&&x in M?M[x]:M}function et(l){const V=F.value(l);return de.value.find(x=>gt(x,V))!==void 0}function vt(l){e.useInput===!0&&D.value!==null&&(l===void 0||D.value===l.target&&l.target.value===le.value)&&D.value.select()}function pt(l){an(l,27)===!0&&o.value===!0&&(Ze(l),Je(),it()),n("keyup",l)}function tt(l){const{value:V}=l.target;if(l.keyCode!==void 0){pt(l);return}if(l.target.value="",S!==null&&(clearTimeout(S),S=null),it(),typeof V=="string"&&V.length!==0){const x=V.toLocaleLowerCase(),M=J=>{const ue=e.options.find(be=>J.value(be).toLocaleLowerCase()===x);return ue===void 0?!1:(C.value.indexOf(ue)===-1?$e(ue):Je(),!0)},X=J=>{M(F)!==!0&&(M(Q)===!0||J===!0||L(V,!0,()=>X(!0)))};X()}else q.clearValue(l)}function mt(l){n("keypress",l)}function Ke(l){if(n("keydown",l),on(l)===!0)return;const V=c.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),x=l.shiftKey!==!0&&e.multiple!==!0&&(u.value>-1||V===!0);if(l.keyCode===27){Nt(l);return}if(l.keyCode===9&&x===!1){at();return}if(l.target===void 0||l.target.id!==q.targetUid.value||q.editable.value!==!0)return;if(l.keyCode===40&&q.innerLoading.value!==!0&&o.value===!1){Ge(l),ot();return}if(l.keyCode===8&&e.hideSelected!==!0&&c.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Y(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(l.keyCode===35||l.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(Ge(l),u.value=-1,Ve(l.keyCode===36?1:-1,e.multiple)),(l.keyCode===33||l.keyCode===34)&&je.value!==void 0&&(Ge(l),u.value=Math.max(-1,Math.min(te.value,u.value+(l.keyCode===33?-1:1)*je.value.view)),Ve(l.keyCode===33?1:-1,e.multiple)),(l.keyCode===38||l.keyCode===40)&&(Ge(l),Ve(l.keyCode===38?-1:1,e.multiple));const M=te.value;if((N===void 0||K<Date.now())&&(N=""),M>0&&e.useInput!==!0&&l.key!==void 0&&l.key.length===1&&l.altKey===!1&&l.ctrlKey===!1&&l.metaKey===!1&&(l.keyCode!==32||N.length!==0)){o.value!==!0&&ot(l);const X=l.key.toLocaleLowerCase(),J=N.length===1&&N[0]===X;K=Date.now()+1500,J===!1&&(Ge(l),N+=X);const ue=new RegExp("^"+N.split("").map(Et=>Zn.indexOf(Et)>-1?"\\"+Et:Et).join(".*"),"i");let be=u.value;if(J===!0||be<0||ue.test(Q.value(e.options[be]))!==!0)do be=nl(be+1,-1,M-1);while(be!==u.value&&(oe.value(e.options[be])===!0||ue.test(Q.value(e.options[be]))!==!0));u.value!==be&&Ne(()=>{Ee(be),He(be),be>=0&&e.useInput===!0&&e.fillInput===!0&&R(Q.value(e.options[be]))});return}if(!(l.keyCode!==13&&(l.keyCode!==32||e.useInput===!0||N!=="")&&(l.keyCode!==9||x===!1))){if(l.keyCode!==9&&Ge(l),u.value>-1&&u.value<M){$e(e.options[u.value]);return}if(V===!0){const X=(J,ue)=>{if(ue){if(vl(ue)!==!0)return}else ue=e.newValueMode;if(O("",e.multiple!==!0,!0),J==null)return;(ue==="toggle"?$e:we)(J,ue==="add-unique"),e.multiple!==!0&&(D.value!==null&&D.value.focus(),Je())};if(e.onNewValue!==void 0?n("newValue",c.value,X):X(c.value),e.multiple!==!0)return}o.value===!0?at():q.innerLoading.value!==!0&&ot()}}function xt(){return w===!0?me.value:se.value!==null&&se.value.contentEl!==null?se.value.contentEl:void 0}function At(){return xt()}function zt(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?pe.value.map(l=>t["selected-item"](l)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?pe.value.map((l,V)=>f(Jn,{key:"option-"+V,removable:q.editable.value===!0&&oe.value(l.opt)!==!0,dense:!0,textColor:e.color,tabindex:De.value,onRemove(){l.removeAtIndex(V)}},()=>f("span",{class:"ellipsis",[l.html===!0?"innerHTML":"textContent"]:Q.value(l.opt)}))):[f("span",{[_e.value===!0?"innerHTML":"textContent"]:E.value})]}function kt(){if(A.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:c.value}):void 0;const l=t.option!==void 0?t.option:x=>f(Pt,{key:x.index,...x.itemProps},()=>f(Rt,()=>f(Vt,()=>f("span",{[x.html===!0?"innerHTML":"textContent"]:x.label}))));let V=ye("div",xe.value.map(l));return t["before-options"]!==void 0&&(V=t["before-options"]().concat(V)),_l(t["after-options"],V)}function It(l,V){const x=V===!0?{...fe.value,...q.splitAttrs.attributes.value}:void 0,M={ref:V===!0?D:void 0,key:"i_t",class:ae.value,style:e.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...x,id:V===!0?q.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":l===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ge.value};return l!==!0&&w===!0&&(Array.isArray(M.class)===!0?M.class=[...M.class,"no-pointer-events"]:M.class+=" no-pointer-events"),f("input",M)}function s(l){S!==null&&(clearTimeout(S),S=null),!(l&&l.target&&l.target.qComposing===!0)&&(R(l.target.value||""),B=!0,h=c.value,q.focused.value!==!0&&(w!==!0||b.value===!0)&&q.focus(),e.onFilter!==void 0&&(S=setTimeout(()=>{S=null,L(c.value)},e.inputDebounce)))}function R(l){c.value!==l&&(c.value=l,n("inputValue",l))}function O(l,V,x){B=x!==!0,e.useInput===!0&&(R(l),(V===!0||x!==!0)&&(h=l),V!==!0&&L(l))}function L(l,V,x){if(e.onFilter===void 0||V!==!0&&q.focused.value!==!0)return;q.innerLoading.value===!0?n("filterAbort"):(q.innerLoading.value=!0,r.value=!0),l!==""&&e.multiple!==!0&&C.value.length!==0&&B!==!0&&l===Q.value(C.value[0])&&(l="");const M=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);p!==null&&clearTimeout(p),p=M,n("filter",l,(X,J)=>{(V===!0||q.focused.value===!0)&&p===M&&(clearTimeout(p),typeof X=="function"&&X(),r.value=!1,Ne(()=>{q.innerLoading.value=!1,q.editable.value===!0&&(V===!0?o.value===!0&&Je():o.value===!0?Mt(!0):o.value=!0),typeof J=="function"&&Ne(()=>{J(a)}),typeof x=="function"&&Ne(()=>{x(a)})}))},()=>{q.focused.value===!0&&p===M&&(clearTimeout(p),q.innerLoading.value=!1,r.value=!1),o.value===!0&&(o.value=!1)})}function W(){return f(pl,{ref:se,class:j.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&A.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:z.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:m.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Me.value,onScrollPassive:Ie,onBeforeShow:el,onBeforeHide:ne,onShow:ee},kt)}function ne(l){tl(l),at()}function ee(){Ce()}function Pe(l){Ze(l),D.value!==null&&D.value.focus(),b.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function he(l){Ze(l),Ne(()=>{b.value=!1})}function lt(){const l=[f(Wn,{class:`col-auto ${q.fieldClass.value}`,...T.value,for:q.targetUid.value,dark:z.value,square:!0,loading:r.value,itemAligned:!1,filled:!0,stackLabel:c.value.length!==0,...q.splitAttrs.listeners.value,onFocus:Pe,onBlur:he},{...t,rawControl:()=>q.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&l.push(f("div",{ref:me,class:j.value+" scroll",style:e.popupContentStyle,...Me.value,onClick:Nt,onScrollPassive:Ie},kt())),f(Bt,{ref:qe,modelValue:d.value,position:e.useInput===!0?"top":void 0,transitionShow:$,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:el,onBeforeHide:nt,onHide:Dt,onShow:Ul},()=>f("div",{class:"q-select__dialog"+(z.value===!0?" q-select__dialog--dark q-dark":"")+(b.value===!0?" q-select__dialog--focused":"")},l))}function nt(l){tl(l),qe.value!==null&&qe.value.__updateRefocusTarget(q.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),q.focused.value=!1}function Dt(l){Je(),q.focused.value===!1&&n("blur",l),it()}function Ul(){const l=document.activeElement;(l===null||l.id!==q.targetUid.value)&&D.value!==null&&D.value!==l&&D.value.focus(),Ce()}function at(){d.value!==!0&&(u.value=-1,o.value===!0&&(o.value=!1),q.focused.value===!1&&(p!==null&&(clearTimeout(p),p=null),q.innerLoading.value===!0&&(n("filterAbort"),q.innerLoading.value=!1,r.value=!1)))}function ot(l){q.editable.value===!0&&(w===!0?(q.onControlFocusin(l),d.value=!0,Ne(()=>{q.focus()})):q.focus(),e.onFilter!==void 0?L(c.value):(A.value!==!0||t["no-option"]!==void 0)&&(o.value=!0))}function Je(){d.value=!1,at()}function it(){e.useInput===!0&&O(e.multiple!==!0&&e.fillInput===!0&&C.value.length!==0&&Q.value(C.value[0])||"",!0,!0)}function Mt(l){let V=-1;if(l===!0){if(C.value.length!==0){const x=F.value(C.value[0]);V=e.options.findIndex(M=>gt(F.value(M),x))}Re(V)}Ee(V)}function Wl(l,V){o.value===!0&&q.innerLoading.value===!1&&(Re(-1,!0),Ne(()=>{o.value===!0&&q.innerLoading.value===!1&&(l>V?Re():Mt(!0))}))}function Yt(){d.value===!1&&se.value!==null&&se.value.updatePosition()}function el(l){l!==void 0&&Ze(l),n("popupShow",l),q.hasPopupOpen=!0,q.onControlFocusin(l)}function tl(l){l!==void 0&&Ze(l),n("popupHide",l),q.hasPopupOpen=!1,q.onControlFocusout(l)}function ll(){w=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||A.value===!1:!0),$=i.platform.is.ios===!0&&w===!0&&e.useInput===!0?"fade":e.transitionShow}return ln(ll),nn(Yt),ll(),Lt(()=>{S!==null&&clearTimeout(S)}),Object.assign(a,{showPopup:ot,hidePopup:Je,removeAtIndex:Y,add:we,toggleOption:$e,getOptionIndex:()=>u.value,setOptionIndex:Ee,moveOptionSelection:Ve,filter:L,updateMenuPosition:Yt,updateInputValue:O,isOptionSelected:et,getEmittingOptionValue:G,isOptionDisabled:(...l)=>oe.value.apply(null,l)===!0,getOptionValue:(...l)=>F.value.apply(null,l),getOptionLabel:(...l)=>Q.value.apply(null,l)}),Object.assign(q,{innerValue:C,fieldClass:g(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:_,targetRef:D,hasValue:Z,showPopup:ot,floatingLabel:g(()=>e.hideSelected!==!0&&Z.value===!0||typeof c.value=="number"||c.value.length!==0||ul(e.displayValue)),getControlChild:()=>{if(q.editable.value!==!1&&(d.value===!0||A.value!==!0||t["no-option"]!==void 0))return w===!0?lt():W();q.hasPopupOpen===!0&&(q.hasPopupOpen=!1)},controlEvents:{onFocusin(l){q.onControlFocusin(l)},onFocusout(l){q.onControlFocusout(l,()=>{it(),at()})},onClick(l){if(Nt(l),w!==!0&&o.value===!0){at(),D.value!==null&&D.value.focus();return}ot(l)}},getControl:l=>{const V=zt(),x=l===!0||d.value!==!0||w!==!0;if(e.useInput===!0)V.push(It(l,x));else if(q.editable.value===!0){const X=x===!0?fe.value:void 0;V.push(f("input",{ref:x===!0?D:void 0,key:"d_t",class:"q-select__focus-target",id:x===!0?q.targetUid.value:void 0,value:E.value,readonly:!0,"data-autofocus":l===!0||e.autofocus===!0||void 0,...X,onKeydown:Ke,onKeyup:pt,onKeypress:mt})),x===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&V.push(f("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:tt}))}if(Le.value!==void 0&&e.disable!==!0&&de.value.length!==0){const X=de.value.map(J=>f("option",{value:J,selected:!0}));V.push(f("select",{class:"hidden",name:Le.value,multiple:e.multiple},X))}const M=e.useInput===!0||x!==!0?void 0:q.splitAttrs.attributes.value;return f("div",{class:"q-field__native row items-center",...M,...q.splitAttrs.listeners.value},V)},getInnerAppend:()=>e.loading!==!0&&r.value!==!0&&e.hideDropdownIcon!==!0?[f(Xe,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:y.value})]:null}),Fl(q)}});let Ct=0;const Yn={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ea=["update:fullscreen","fullscreen"];function ta(){const e=Qe(),{props:t,emit:n,proxy:a}=e;let i,o,d;const u=H(!1);Xl(e)===!0&&ve(()=>a.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&r()}),ve(()=>t.fullscreen,S=>{u.value!==S&&c()}),ve(u,S=>{n("update:fullscreen",S),n("fullscreen",S)});function c(){u.value===!0?r():b()}function b(){u.value!==!0&&(u.value=!0,d=a.$el.parentNode,d.replaceChild(o,a.$el),document.body.appendChild(a.$el),Ct++,Ct===1&&document.body.classList.add("q-body--fullscreen-mixin"),i={handler:r},ol.add(i))}function r(){u.value===!0&&(i!==void 0&&(ol.remove(i),i=void 0),d.replaceChild(a.$el,o),u.value=!1,Ct=Math.max(0,Ct-1),Ct===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return Gt(()=>{o=document.createElement("span")}),Ot(()=>{t.fullscreen===!0&&b()}),Lt(r),Object.assign(a,{toggleFullscreen:c,setFullscreen:b,exitFullscreen:r}),{inFullscreen:u,toggleFullscreen:c}}function la(e,t){return new Date(e)-new Date(t)}const na={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function aa(e,t,n,a){const i=g(()=>{const{sortBy:u}=t.value;return u&&n.value.find(c=>c.name===u)||null}),o=g(()=>e.sortMethod!==void 0?e.sortMethod:(u,c,b)=>{const r=n.value.find(w=>w.name===c);if(r===void 0||r.field===void 0)return u;const S=b===!0?-1:1,k=typeof r.field=="function"?w=>r.field(w):w=>w[r.field];return u.sort((w,B)=>{let p=k(w),h=k(B);return p==null?-1*S:h==null?1*S:r.sort!==void 0?r.sort(p,h,w,B)*S:Ut(p)===!0&&Ut(h)===!0?(p-h)*S:il(p)===!0&&il(h)===!0?la(p,h)*S:typeof p=="boolean"&&typeof h=="boolean"?(p-h)*S:([p,h]=[p,h].map($=>($+"").toLocaleString().toLowerCase()),p<h?-1*S:p===h?0:S)})});function d(u){let c=e.columnSortOrder;if(un(u)===!0)u.sortOrder&&(c=u.sortOrder),u=u.name;else{const S=n.value.find(k=>k.name===u);S!==void 0&&S.sortOrder&&(c=S.sortOrder)}let{sortBy:b,descending:r}=t.value;b!==u?(b=u,r=c==="da"):e.binaryStateSort===!0?r=!r:r===!0?c==="ad"?b=null:r=!1:c==="ad"?r=!0:b=null,a({sortBy:b,descending:r,page:1})}return{columnToSort:i,computedSortMethod:o,sort:d}}const oa={filter:[String,Object],filterMethod:Function};function ia(e,t){const n=g(()=>e.filterMethod!==void 0?e.filterMethod:(a,i,o,d)=>{const u=i?i.toLowerCase():"";return a.filter(c=>o.some(b=>{const r=d(b,c)+"";return(r==="undefined"||r==="null"?"":r.toLowerCase()).indexOf(u)!==-1}))});return ve(()=>e.filter,()=>{Ne(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function ua(e,t){for(const n in t)if(t[n]!==e[n])return!1;return!0}function ml(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const ra={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function sa(e,t){const{props:n,emit:a}=e,i=H(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),o=g(()=>{const r=n["onUpdate:pagination"]!==void 0?{...i.value,...n.pagination}:i.value;return ml(r)}),d=g(()=>o.value.rowsNumber!==void 0);function u(r){c({pagination:r,filter:n.filter})}function c(r={}){Ne(()=>{a("request",{pagination:r.pagination||o.value,filter:r.filter||n.filter,getCellValue:t})})}function b(r,S){const k=ml({...o.value,...r});if(ua(o.value,k)===!0){d.value===!0&&S===!0&&u(k);return}if(d.value===!0){u(k);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?a("update:pagination",k):i.value=k}return{innerPagination:i,computedPagination:o,isServerSide:d,requestServerInteraction:c,setPagination:b}}function ca(e,t,n,a,i,o){const{props:d,emit:u,proxy:{$q:c}}=e,b=g(()=>a.value===!0?n.value.rowsNumber||0:o.value),r=g(()=>{const{page:_,rowsPerPage:D}=n.value;return(_-1)*D}),S=g(()=>{const{page:_,rowsPerPage:D}=n.value;return _*D}),k=g(()=>n.value.page===1),w=g(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(b.value/n.value.rowsPerPage))),B=g(()=>S.value===0?!0:n.value.page>=w.value),p=g(()=>(d.rowsPerPageOptions.includes(t.value.rowsPerPage)?d.rowsPerPageOptions:[t.value.rowsPerPage].concat(d.rowsPerPageOptions)).map(D=>({label:D===0?c.lang.table.allRows:""+D,value:D})));ve(w,(_,D)=>{if(_===D)return;const se=n.value.page;_&&!se?i({page:1}):_<se&&i({page:_})});function h(){i({page:1})}function $(){const{page:_}=n.value;_>1&&i({page:_-1})}function N(){const{page:_,rowsPerPage:D}=n.value;S.value>0&&_*D<b.value&&i({page:_+1})}function K(){i({page:w.value})}return d["onUpdate:pagination"]!==void 0&&u("update:pagination",{...n.value}),{firstRowIndex:r,lastRowIndex:S,isFirstPage:k,isLastPage:B,pagesNumber:w,computedRowsPerPageOptions:p,computedRowsNumber:b,firstPage:h,prevPage:$,nextPage:N,lastPage:K}}const da={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},fa=["update:selected","selection"];function va(e,t,n,a){const i=g(()=>{const B={};return e.selected.map(a.value).forEach(p=>{B[p]=!0}),B}),o=g(()=>e.selection!=="none"),d=g(()=>e.selection==="single"),u=g(()=>e.selection==="multiple"),c=g(()=>n.value.length!==0&&n.value.every(B=>i.value[a.value(B)]===!0)),b=g(()=>c.value!==!0&&n.value.some(B=>i.value[a.value(B)]===!0)),r=g(()=>e.selected.length);function S(B){return i.value[B]===!0}function k(){t("update:selected",[])}function w(B,p,h,$){t("selection",{rows:p,added:h,keys:B,evt:$});const N=d.value===!0?h===!0?p:[]:h===!0?e.selected.concat(p):e.selected.filter(K=>B.includes(a.value(K))===!1);t("update:selected",N)}return{hasSelectionMode:o,singleSelection:d,multipleSelection:u,allRowsSelected:c,someRowsSelected:b,rowsSelectedNumber:r,isRowSelected:S,clearSelection:k,updateSelection:w}}function gl(e){return Array.isArray(e)?e.slice():[]}const ma={expanded:Array},ga=["update:expanded"];function ha(e,t){const n=H(gl(e.expanded));ve(()=>e.expanded,d=>{n.value=gl(d)});function a(d){return n.value.includes(d)}function i(d){e.expanded!==void 0?t("update:expanded",d):n.value=d}function o(d,u){const c=n.value.slice(),b=c.indexOf(d);u===!0?b===-1&&(c.push(d),i(c)):b!==-1&&(c.splice(b,1),i(c))}return{isRowExpanded:a,setExpanded:i,updateExpanded:o}}const ba={visibleColumns:Array};function Sa(e,t,n){const a=g(()=>{if(e.columns!==void 0)return e.columns;const u=e.rows[0];return u!==void 0?Object.keys(u).map(c=>({name:c,label:c.toUpperCase(),field:c,align:Ut(u[c])?"right":"left",sortable:!0})):[]}),i=g(()=>{const{sortBy:u,descending:c}=t.value;return(e.visibleColumns!==void 0?a.value.filter(r=>r.required===!0||e.visibleColumns.includes(r.name)===!0):a.value).map(r=>{const S=r.align||"right",k=`text-${S}`;return{...r,align:S,__iconClass:`q-table__sort-icon q-table__sort-icon--${S}`,__thClass:k+(r.headerClasses!==void 0?" "+r.headerClasses:"")+(r.sortable===!0?" sortable":"")+(r.name===u?` sorted ${c===!0?"sort-desc":""}`:""),__tdStyle:r.style!==void 0?typeof r.style!="function"?()=>r.style:r.style:()=>null,__tdClass:r.classes!==void 0?typeof r.classes!="function"?()=>k+" "+r.classes:w=>k+" "+r.classes(w):()=>k}})}),o=g(()=>{const u={};return i.value.forEach(c=>{u[c.name]=c}),u}),d=g(()=>e.tableColspan!==void 0?e.tableColspan:i.value.length+(n.value===!0?1:0));return{colList:a,computedCols:i,computedColsMap:o,computedColspan:d}}const qt="q-table__bottom row items-center",Hl={};El.forEach(e=>{Hl[e]={}});var ya=Oe({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Hl,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Ol,...Yn,...ba,...oa,...ra,...ma,...da,...na},emits:["request","virtualScroll",...ea,...ga,...fa],setup(e,{slots:t,emit:n}){const a=Qe(),{proxy:{$q:i}}=a,o=Ll(e,i),{inFullscreen:d,toggleFullscreen:u}=ta(),c=g(()=>typeof e.rowKey=="function"?e.rowKey:s=>s[e.rowKey]),b=H(null),r=H(null),S=g(()=>e.grid!==!0&&e.virtualScroll===!0),k=g(()=>" q-table__card"+(o.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),w=g(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":k.value)+(o.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(d.value===!0?" fullscreen scroll":"")),B=g(()=>w.value+(e.loading===!0?" q-table--loading":""));ve(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+w.value,()=>{S.value===!0&&r.value!==null&&r.value.reset()});const{innerPagination:p,computedPagination:h,isServerSide:$,requestServerInteraction:N,setPagination:K}=sa(a,Ve),{computedFilterMethod:_}=ia(e,K),{isRowExpanded:D,setExpanded:se,updateExpanded:qe}=ha(e,n),me=g(()=>{let s=e.rows;if($.value===!0||s.length===0)return s;const{sortBy:R,descending:O}=h.value;return e.filter&&(s=_.value(s,e.filter,C.value,Ve)),Z.value!==null&&(s=ae.value(e.rows===s?s.slice():s,R,O)),s}),Le=g(()=>me.value.length),ce=g(()=>{let s=me.value;if($.value===!0)return s;const{rowsPerPage:R}=h.value;return R!==0&&(A.value===0&&e.rows!==s?s.length>le.value&&(s=s.slice(0,le.value)):s=s.slice(A.value,le.value)),s}),{hasSelectionMode:te,singleSelection:Ae,multipleSelection:ze,allRowsSelected:je,someRowsSelected:Re,rowsSelectedNumber:ye,isRowSelected:Ie,clearSelection:He,updateSelection:Ce}=va(e,n,ce,c),{colList:q,computedCols:C,computedColsMap:T,computedColspan:z}=Sa(e,h,te),{columnToSort:Z,computedSortMethod:ae,sort:j}=aa(e,h,q,K),{firstRowIndex:A,lastRowIndex:le,isFirstPage:E,isLastPage:re,pagesNumber:_e,computedRowsPerPageOptions:De,computedRowsNumber:fe,firstPage:Me,prevPage:pe,nextPage:xe,lastPage:y}=ca(a,p,h,$,K,Le),m=g(()=>ce.value.length===0),v=g(()=>{const s={};return El.forEach(R=>{s[R]=e[R]}),s.virtualScrollItemSize===void 0&&(s.virtualScrollItemSize=e.dense===!0?28:48),s});function F(){S.value===!0&&r.value.reset()}function Q(){if(e.grid===!0)return It();const s=e.hideHeader!==!0?vt:null;if(S.value===!0){const O=t["top-row"],L=t["bottom-row"],W={default:ne=>G(ne.item,t.body,ne.index)};if(O!==void 0){const ne=f("tbody",O({cols:C.value}));W.before=s===null?()=>ne:()=>[s()].concat(ne)}else s!==null&&(W.before=s);return L!==void 0&&(W.after=()=>f("tbody",L({cols:C.value}))),f(Un,{ref:r,class:e.tableClass,style:e.tableStyle,...v.value,scrollTarget:e.virtualScrollTarget,items:ce.value,type:"__qtable",tableColspan:z.value,onVirtualScroll:de},W)}const R=[Y()];return s!==null&&R.unshift(s()),Il({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},R)}function oe(s,R){if(r.value!==null){r.value.scrollTo(s,R);return}s=parseInt(s,10);const O=b.value.querySelector(`tbody tr:nth-of-type(${s+1})`);if(O!==null){const L=b.value.querySelector(".q-table__middle.scroll"),W=O.offsetTop-e.virtualScrollStickySizeStart,ne=W<L.scrollTop?"decrease":"increase";L.scrollTop=W,n("virtualScroll",{index:s,from:0,to:p.value.rowsPerPage-1,direction:ne})}}function de(s){n("virtualScroll",s)}function ge(){return[f(Tl,{class:"q-table__linear-progress",color:e.color,dark:o.value,indeterminate:!0,trackColor:"transparent"})]}function G(s,R,O){const L=c.value(s),W=Ie(L);if(R!==void 0)return R(ie({key:L,row:s,pageIndex:O,__trClass:W?"selected":""}));const ne=t["body-cell"],ee=C.value.map(he=>{const lt=t[`body-cell-${he.name}`],nt=lt!==void 0?lt:ne;return nt!==void 0?nt(we({key:L,row:s,pageIndex:O,col:he})):f("td",{class:he.__tdClass(s),style:he.__tdStyle(s)},Ve(he,s))});if(te.value===!0){const he=t["body-selection"],lt=he!==void 0?he($e({key:L,row:s,pageIndex:O})):[f(Ft,{modelValue:W,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(nt,Dt)=>{Ce([L],[s],nt,Dt)}})];ee.unshift(f("td",{class:"q-table--col-auto-width"},lt))}const Pe={key:L,class:{selected:W}};return e.onRowClick!==void 0&&(Pe.class["cursor-pointer"]=!0,Pe.onClick=he=>{n("RowClick",he,s,O)}),e.onRowDblclick!==void 0&&(Pe.class["cursor-pointer"]=!0,Pe.onDblclick=he=>{n("RowDblclick",he,s,O)}),e.onRowContextmenu!==void 0&&(Pe.class["cursor-pointer"]=!0,Pe.onContextmenu=he=>{n("RowContextmenu",he,s,O)}),f("tr",Pe,ee)}function Y(){const s=t.body,R=t["top-row"],O=t["bottom-row"];let L=ce.value.map((W,ne)=>G(W,s,ne));return R!==void 0&&(L=R({cols:C.value}).concat(L)),O!==void 0&&(L=L.concat(O({cols:C.value}))),f("tbody",L)}function ie(s){return Ee(s),s.cols=s.cols.map(R=>ht({...R},"value",()=>Ve(R,s.row))),s}function we(s){return Ee(s),ht(s,"value",()=>Ve(s.col,s.row)),s}function $e(s){return Ee(s),s}function Ee(s){Object.assign(s,{cols:C.value,colsMap:T.value,sort:j,rowIndex:A.value+s.pageIndex,color:e.color,dark:o.value,dense:e.dense}),te.value===!0&&ht(s,"selected",()=>Ie(s.key),(R,O)=>{Ce([s.key],[s.row],R,O)}),ht(s,"expand",()=>D(s.key),R=>{qe(s.key,R)})}function Ve(s,R){const O=typeof s.field=="function"?s.field(R):R[s.field];return s.format!==void 0?s.format(O,R):O}const We=g(()=>({pagination:h.value,pagesNumber:_e.value,isFirstPage:E.value,isLastPage:re.value,firstPage:Me,prevPage:pe,nextPage:xe,lastPage:y,inFullscreen:d.value,toggleFullscreen:u}));function ft(){const s=t.top,R=t["top-left"],O=t["top-right"],L=t["top-selection"],W=te.value===!0&&L!==void 0&&ye.value>0,ne="q-table__top relative-position row items-center";if(s!==void 0)return f("div",{class:ne},[s(We.value)]);let ee;if(W===!0?ee=L(We.value).slice():(ee=[],R!==void 0?ee.push(f("div",{class:"q-table__control"},[R(We.value)])):e.title&&ee.push(f("div",{class:"q-table__control"},[f("div",{class:["q-table__title",e.titleClass]},e.title)]))),O!==void 0&&(ee.push(f("div",{class:"q-table__separator col"})),ee.push(f("div",{class:"q-table__control"},[O(We.value)]))),ee.length!==0)return f("div",{class:ne},ee)}const et=g(()=>Re.value===!0?null:je.value);function vt(){const s=pt();return e.loading===!0&&t.loading===void 0&&s.push(f("tr",{class:"q-table__progress"},[f("th",{class:"relative-position",colspan:z.value},ge())])),f("thead",s)}function pt(){const s=t.header,R=t["header-cell"];if(s!==void 0)return s(tt({header:!0})).slice();const O=C.value.map(L=>{const W=t[`header-cell-${L.name}`],ne=W!==void 0?W:R,ee=tt({col:L});return ne!==void 0?ne(ee):f(Nn,{key:L.name,props:ee},()=>L.label)});if(Ae.value===!0&&e.grid!==!0)O.unshift(f("th",{class:"q-table--col-auto-width"}," "));else if(ze.value===!0){const L=t["header-selection"],W=L!==void 0?L(tt({})):[f(Ft,{color:e.color,modelValue:et.value,dark:o.value,dense:e.dense,"onUpdate:modelValue":mt})];O.unshift(f("th",{class:"q-table--col-auto-width"},W))}return[f("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},O)]}function tt(s){return Object.assign(s,{cols:C.value,sort:j,colsMap:T.value,color:e.color,dark:o.value,dense:e.dense}),ze.value===!0&&ht(s,"selected",()=>et.value,mt),s}function mt(s){Re.value===!0&&(s=!1),Ce(ce.value.map(c.value),ce.value,s)}const Ke=g(()=>{const s=[e.iconFirstPage||i.iconSet.table.firstPage,e.iconPrevPage||i.iconSet.table.prevPage,e.iconNextPage||i.iconSet.table.nextPage,e.iconLastPage||i.iconSet.table.lastPage];return i.lang.rtl===!0?s.reverse():s});function xt(){if(e.hideBottom===!0)return;if(m.value===!0){if(e.hideNoData===!0)return;const O=e.loading===!0?e.loadingLabel||i.lang.table.loading:e.filter?e.noResultsLabel||i.lang.table.noResults:e.noDataLabel||i.lang.table.noData,L=t["no-data"],W=L!==void 0?[L({message:O,icon:i.iconSet.table.warning,filter:e.filter})]:[f(Xe,{class:"q-table__bottom-nodata-icon",name:i.iconSet.table.warning}),O];return f("div",{class:qt+" q-table__bottom--nodata"},W)}const s=t.bottom;if(s!==void 0)return f("div",{class:qt},[s(We.value)]);const R=e.hideSelectedBanner!==!0&&te.value===!0&&ye.value>0?[f("div",{class:"q-table__control"},[f("div",[(e.selectedRowsLabel||i.lang.table.selectedRecords)(ye.value)])])]:[];if(e.hidePagination!==!0)return f("div",{class:qt+" justify-end"},zt(R));if(R.length!==0)return f("div",{class:qt},R)}function At(s){K({page:1,rowsPerPage:s.value})}function zt(s){let R;const{rowsPerPage:O}=h.value,L=e.paginationLabel||i.lang.table.pagination,W=t.pagination,ne=e.rowsPerPageOptions.length>1;if(s.push(f("div",{class:"q-table__separator col"})),ne===!0&&s.push(f("div",{class:"q-table__control"},[f("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||i.lang.table.recordsPerPage]),f(Xn,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:O,options:De.value,displayValue:O===0?i.lang.table.allRows:O,dark:o.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":At})])),W!==void 0)R=W(We.value);else if(R=[f("span",O!==0?{class:"q-table__bottom-item"}:{},[O?L(A.value+1,Math.min(le.value,fe.value),fe.value):L(1,Le.value,fe.value)])],O!==0&&_e.value>1){const ee={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(ee.size="sm"),_e.value>2&&R.push(f(ke,{key:"pgFirst",...ee,icon:Ke.value[0],disable:E.value,onClick:Me})),R.push(f(ke,{key:"pgPrev",...ee,icon:Ke.value[1],disable:E.value,onClick:pe}),f(ke,{key:"pgNext",...ee,icon:Ke.value[2],disable:re.value,onClick:xe})),_e.value>2&&R.push(f(ke,{key:"pgLast",...ee,icon:Ke.value[3],disable:re.value,onClick:y}))}return s.push(f("div",{class:"q-table__control"},R)),s}function kt(){const s=e.gridHeader===!0?[f("table",{class:"q-table"},[vt()])]:e.loading===!0&&t.loading===void 0?ge():void 0;return f("div",{class:"q-table__middle"},s)}function It(){const s=t.item!==void 0?t.item:R=>{const O=R.cols.map(W=>f("div",{class:"q-table__grid-item-row"},[f("div",{class:"q-table__grid-item-title"},[W.label]),f("div",{class:"q-table__grid-item-value"},[W.value])]));if(te.value===!0){const W=t["body-selection"],ne=W!==void 0?W(R):[f(Ft,{modelValue:R.selected,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(ee,Pe)=>{Ce([R.key],[R.row],ee,Pe)}})];O.unshift(f("div",{class:"q-table__grid-item-row"},ne),f(xn,{dark:o.value}))}const L={class:["q-table__grid-item-card"+k.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(L.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(L.onClick=W=>{n("RowClick",W,R.row,R.pageIndex)}),e.onRowDblclick!==void 0&&(L.onDblclick=W=>{n("RowDblclick",W,R.row,R.pageIndex)})),f("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(R.selected===!0?" q-table__grid-item--selected":"")},[f("div",L,O)])};return f("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},ce.value.map((R,O)=>s(ie({key:c.value(R),row:R,pageIndex:O}))))}return Object.assign(a.proxy,{requestServerInteraction:N,setPagination:K,firstPage:Me,prevPage:pe,nextPage:xe,lastPage:y,isRowSelected:Ie,clearSelection:He,isRowExpanded:D,setExpanded:se,sort:j,resetVirtualScroll:F,scrollTo:oe,getCellValue:Ve}),rn(a.proxy,{filteredSortedRows:()=>me.value,computedRows:()=>ce.value,computedRowsNumber:()=>fe.value}),()=>{const s=[ft()],R={ref:b,class:B.value};return e.grid===!0?s.push(kt()):Object.assign(R,{class:[R.class,e.cardClass],style:e.cardStyle}),s.push(Q(),xt()),e.loading===!0&&t.loading!==void 0&&s.push(t.loading()),f("div",R,s)}}});const wa={__name:"CharsDiff",props:["diff"],setup(e){const t=e,n=a=>a.added?"green":a.removed?"red":"black";return(a,i)=>(Be(),ct("pre",null,[(Be(!0),ct(Rl,null,Vl(t.diff,(o,d)=>(Be(),ct("span",{style:sn({color:n(o)}),key:"c"+d},Se(o.value),5))),128))]))}};function Ue(){}Ue.prototype={diff:function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=a.callback;typeof a=="function"&&(i=a,a={}),this.options=a;var o=this;function d(p){return i?(setTimeout(function(){i(void 0,p)},0),!0):p}t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t)),n=this.removeEmpty(this.tokenize(n));var u=n.length,c=t.length,b=1,r=u+c;a.maxEditLength&&(r=Math.min(r,a.maxEditLength));var S=[{newPos:-1,components:[]}],k=this.extractCommon(S[0],n,t,0);if(S[0].newPos+1>=u&&k+1>=c)return d([{value:this.join(n),count:n.length}]);function w(){for(var p=-1*b;p<=b;p+=2){var h=void 0,$=S[p-1],N=S[p+1],K=(N?N.newPos:0)-p;$&&(S[p-1]=void 0);var _=$&&$.newPos+1<u,D=N&&0<=K&&K<c;if(!_&&!D){S[p]=void 0;continue}if(!_||D&&$.newPos<N.newPos?(h=_a(N),o.pushComponent(h.components,void 0,!0)):(h=$,h.newPos++,o.pushComponent(h.components,!0,void 0)),K=o.extractCommon(h,n,t,p),h.newPos+1>=u&&K+1>=c)return d(Ca(o,h.components,n,t,o.useLongestToken));S[p]=h}b++}if(i)(function p(){setTimeout(function(){if(b>r)return i();w()||p()},0)})();else for(;b<=r;){var B=w();if(B)return B}},pushComponent:function(t,n,a){var i=t[t.length-1];i&&i.added===n&&i.removed===a?t[t.length-1]={count:i.count+1,added:n,removed:a}:t.push({count:1,added:n,removed:a})},extractCommon:function(t,n,a,i){for(var o=n.length,d=a.length,u=t.newPos,c=u-i,b=0;u+1<o&&c+1<d&&this.equals(n[u+1],a[c+1]);)u++,c++,b++;return b&&t.components.push({count:b}),t.newPos=u,c},equals:function(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],a=0;a<t.length;a++)t[a]&&n.push(t[a]);return n},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function Ca(e,t,n,a,i){for(var o=0,d=t.length,u=0,c=0;o<d;o++){var b=t[o];if(b.removed){if(b.value=e.join(a.slice(c,c+b.count)),c+=b.count,o&&t[o-1].added){var S=t[o-1];t[o-1]=t[o],t[o]=S}}else{if(!b.added&&i){var r=n.slice(u,u+b.count);r=r.map(function(w,B){var p=a[c+B];return p.length>w.length?p:w}),b.value=e.join(r)}else b.value=e.join(n.slice(u,u+b.count));u+=b.count,b.added||(c+=b.count)}}var k=t[d-1];return d>1&&typeof k.value=="string"&&(k.added||k.removed)&&e.equals("",k.value)&&(t[d-2].value+=k.value,t.pop()),t}function _a(e){return{newPos:e.newPos,components:e.components.slice(0)}}var pa=new Ue;function xa(e,t,n){return pa.diff(e,t,n)}var hl=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,bl=/\S/,$l=new Ue;$l.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!bl.test(e)&&!bl.test(t)};$l.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&hl.test(t[n])&&hl.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var Ql=new Ue;Ql.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var a=0;a<n.length;a++){var i=n[a];a%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};var ka=new Ue;ka.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var qa=new Ue;qa.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Tt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tt=function(t){return typeof t}:Tt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(e)}var Ra=Object.prototype.toString,_t=new Ue;_t.useLongestToken=!0;_t.tokenize=Ql.tokenize;_t.castInput=function(e){var t=this.options,n=t.undefinedReplacement,a=t.stringifyReplacer,i=a===void 0?function(o,d){return typeof d=="undefined"?n:d}:a;return typeof e=="string"?e:JSON.stringify(Jt(e,null,null,i),i,"  ")};_t.equals=function(e,t){return Ue.prototype.equals.call(_t,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Jt(e,t,n,a,i){t=t||[],n=n||[],a&&(e=a(i,e));var o;for(o=0;o<t.length;o+=1)if(t[o]===e)return n[o];var d;if(Ra.call(e)==="[object Array]"){for(t.push(e),d=new Array(e.length),n.push(d),o=0;o<e.length;o+=1)d[o]=Jt(e[o],t,n,a,i);return t.pop(),n.pop(),d}if(e&&e.toJSON&&(e=e.toJSON()),Tt(e)==="object"&&e!==null){t.push(e),d={},n.push(d);var u=[],c;for(c in e)e.hasOwnProperty(c)&&u.push(c);for(u.sort(),o=0;o<u.length;o+=1)c=u[o],d[c]=Jt(e[c],t,n,a,c);t.pop(),n.pop()}else d=e;return d}var Zt=new Ue;Zt.tokenize=function(e){return e.slice()};Zt.join=Zt.removeEmpty=function(e){return e};const Va={class:"full"},Pa={class:"header"},Fa={class:"text-h6 fontOswald"},Ba={class:"flex-container"},Ta={class:"container"},Oa={class:"overview"},La={class:"statistics"},Aa={class:"row"},za={class:"col-12 col-md statistics-values"},Ia=P("div",{class:"statistics-name"},"Total files: ",-1),Da={class:"statistics-value"},Ma=P("div",{class:"statistics-name"},"Correctly detected files: ",-1),Ea={class:"statistics-value"},Na=P("div",{class:"statistics-name"},"Rate of detected files: ",-1),ja={class:"statistics-value"},Ha=P("div",{class:"statistics-name"},"Average time (ms): ",-1),$a={class:"statistics-value"},Qa=P("div",{class:"statistics-name"},"Average score: ",-1),Ua={class:"statistics-value"},Wa={class:"col-12 col-md statistics-charts"},Ka={class:"row"},Ja={class:"col statistics-chart"},Za={class:"col statistics-chart"},Ga={class:"decoding"},Xa=P("div",null,[P("label",{style:{"font-size":"16px"}},"Engines:")],-1),Ya={class:"row",style:{"padding-bottom":"20px"}},eo=["value"],to={class:"row",style:{"align-items":"center"}},lo={key:0,style:{width:"100px"}},no={class:"absolute-full flex flex-center"},ao={style:{"margin-top":"2em","margin-bottom":"2em"}},oo={class:"filename"},io={class:"text"},uo={class:"text"},ro={class:"dialogs"},so=P("div",{class:"text-h6"},"Add files",-1),co=P("label",{for:"imageFiles"},"Image files.",-1),fo=P("label",{for:"detectionResultFiles"},"Detection result files.",-1),vo=P("label",{for:"imageFiles"},"Ground truth files.",-1),mo=P("label",{for:"zipFile"},"Zip with images and text results.",-1),go=P("div",{class:"text-h6"},"Export",-1),ho=P("div",{class:"text-h6"},"Downloading project data...",-1),Vo=cn({__name:"ProjectPage",setup(e){const t=[{name:"number",required:!0,label:"No.",align:"left",field:"number"},{name:"name",required:!0,label:"Filename",align:"left",field:"filename",sortable:!0},{name:"detectedText",required:!0,label:"Detected Text",align:"left",field:"detectedText"},{name:"groundTruth",required:!0,label:"Ground Truth",align:"left",field:"groundTruth"},{name:"time",required:!0,label:"Time (ms)",align:"left",field:"time"},{name:"score",required:!0,label:"Score",align:"left",field:"score",sortable:!0}];let n,a,i=qn();const o=H([]),d=dn(),u=H(""),c=H(""),b=H([]),r=H(!1),S=H(!1),k=H(.5),w=H(""),B=H(!1),p=H(!0),h=H({fileNumber:0,correctFilesNumber:0,averageTime:0,score:0}),$=H(!1),N=H(0);let K=!1,_=[],D=[],se=[],qe,me=[];Ot(async()=>{u.value=d.currentRoute.value.params.name,await ce(d.currentRoute.value.params.name);const y=await i.getItem("projects");if(On({title:"MRZ Reading Benchmark - "+u.value}),y){me=JSON.parse(y);for(let m=0;m<me.length;m++)if(me[m].info.name===u.value){a=me[m];break}}if(!a)await xe();else if(a.isRemote){const m=await i.getItem(a.info.name+":results.zip"),v=await hn(a);(!m||!v||a.info.images.length===0)&&await xe()}te(),N.value=a.info.images.length});const Le=(y,m)=>xa(m,y),ce=async y=>{const m=await Rn(y);b.value=m,m.length>0&&(c.value=m[0].displayName)},te=async y=>{if(a){const m=await Vn(a,y!=null?y:c.value);h.value=m.metrics,m.rows&&(console.log(m.rows),o.value=m.rows)}},Ae=async()=>{let y=De();if(B.value===!1&&y){B.value=!0,K=!1,await fe(),await pe(y);const m=a.info.images.length;k.value=0,w.value="0/"+m;let v=await i.getItem(u.value+":detectionResultFileNamesList");v||(v=[]);for(let F=0;F<m;F++){if(K){await i.setItem(u.value+":detectionResultFileNamesList",v);return}const Q=a.info.images[F];if(p.value&&await i.getItem(u.value+":detectionResult:"+yt(Q)+"-"+c.value+".json"))continue;const oe=await i.getItem(u.value+":image:"+Q);if(oe){let de=await n.detect(oe);console.log(de);const ge=yt(Q)+"-"+c.value+".json";v.indexOf(ge)===-1&&v.push(ge),await i.setItem(u.value+":detectionResult:"+yt(Q)+"-"+c.value+".json",JSON.stringify(de))}k.value=parseFloat(((F+1)/m).toFixed(2)),w.value=F+1+"/"+m}await i.setItem(u.value+":detectionResultFileNamesList",v),B.value=!1}else K=!0,B.value=!1;te()},ze=y=>{D=y.target.files},je=y=>{_=y.target.files},Re=y=>{se=y.target.files},ye=y=>{qe=y.target.files[0]},Ie=async()=>{if(a){for(let m=0;m<se.length;m++){const v=se[m],F=await sl(v);await i.setItem(u.value+":groundTruth:"+v.name,F)}let y=await i.getItem(u.value+":detectionResultFileNamesList");y||(y=[]);for(let m=0;m<D.length;m++){const v=D[m],F=await sl(v);y.indexOf(v.name)===-1&&y.push(v.name),await i.setItem(u.value+":detectionResult:"+v.name,F)}for(let m=0;m<_.length;m++){const v=_[m],F=await Pn(v);await i.setItem(u.value+":image:"+v.name,F),a.info.images.push(v.name)}await i.setItem(u.value+":detectionResultFileNamesList",y),await He(),te(),q(),alert("added"),r.value=!1}},He=async()=>{if(a&&qe){const y=await qe.arrayBuffer(),m=new jt;await m.loadAsync(y);const v=m.files,F=Object.keys(v),Q=[],oe=[],de=[];for(let G=0;G<F.length;G++){const Y=F[G],ie=Y.toLowerCase(),we=v[Y];we.dir===!1&&(ie.endsWith(".jpg")||ie.endsWith(".jpeg")||ie.endsWith(".png")||ie.endsWith(".bmp")?oe.push(we):ie.endsWith(".txt")?Q.push(we):ie.endsWith(".json")&&de.push(we))}for(let G=0;G<Q.length;G++){const Y=Q[G],ie=await Y.async("string");await i.setItem(u.value+":groundTruth:"+Y.name,ie)}let ge=await i.getItem(u.value+":detectionResultFileNamesList");ge||(ge=[]);for(let G=0;G<de.length;G++){const Y=de[G],ie=await Y.async("string");ge.indexOf(Y.name)===-1&&ge.push(Y.name),await i.setItem(u.value+":detectionResult:"+Y.name,ie)}for(let G=0;G<oe.length;G++){const Y=oe[G],ie=await Y.async("base64"),we=Ce(ie,Y.name);await i.setItem(u.value+":image:"+Y.name,we),a.info.images.push(Y.name)}await i.setItem(u.value+":detectionResultFileNamesList",ge)}},Ce=(y,m)=>{const v=m.toLowerCase();return v.endsWith(".jpg")||v.endsWith(".jpeg")?"data:image/jpeg;base64,"+y:v.endsWith(".bmp")?"data:image/bmp;base64,"+y:v.endsWith(".bmp")?"data:image/png;base64,"+y:"data:image/jpeg;base64,"+y},q=async()=>{let y=[];me.forEach(m=>{y.push(m)}),await i.setItem("projects",JSON.stringify(y))},C=()=>{T(),r.value=!0},T=()=>{qe=void 0,_=[],D=[],se=[]},z=async()=>{await Fn(a),q(),te()},Z=async()=>{S.value=!0},ae=async()=>{for(let y=0;y<a.info.images.length;y++){const m=a.info.images[y],v=await i.getItem(u.value+":image:"+m);if(v){await Bn(1e3);const F=cl(v),Q=document.createElement("a");Q.href=URL.createObjectURL(F),Q.download=m,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)}}},j=async()=>{const y=new jt;for(let m=0;m<a.info.images.length;m++){const v=a.info.images[m],F=await i.getItem(u.value+":image:"+v);if(F){console.log(v);const Q=cl(F);y.file(v,Q)}}y.generateAsync({type:"blob"}).then(function(m){const v=document.createElement("a");v.href=URL.createObjectURL(m),v.download=u.value+"-images.zip",document.body.appendChild(v),v.click(),document.body.removeChild(v)})},A=async()=>{const y=new jt;for(let v=0;v<a.info.images.length;v++){const F=a.info.images[v],Q=yt(F)+".txt",oe=await i.getItem(u.value+":groundTruth:"+yt(F)+".txt");oe&&y.file(Q,oe)}const m=await i.getItem(u.value+":detectionResultFileNamesList");if(m){for(let v=0;v<m.length;v++){const F=m[v],Q=await i.getItem(u.value+":detectionResult:"+F);Q&&y.file(F,Q)}y.file("detection_result_filenames.json",JSON.stringify(m))}y.file("project_manifest.json",JSON.stringify(a)),await le(y),y.generateAsync({type:"blob"}).then(function(v){const F=document.createElement("a");F.href=URL.createObjectURL(v),F.download=u.value+"-results.zip",document.body.appendChild(F),F.click(),document.body.removeChild(F)})},le=async y=>{y.file("settings.json",JSON.stringify(b.value))},E=y=>{const m="/project/"+encodeURIComponent(u.value)+"/"+encodeURIComponent(y)+"/"+c.value,v=d.resolve(m);window.open(v.href,"_blank")},re=y=>{te(y)},_e=()=>{const y="/project/"+encodeURIComponent(u.value)+"/comparison";d.push(y)},De=y=>{let m;y?m=y:m=c.value;for(const v of b.value)if(v.displayName===m)return v},fe=async()=>{let y=De();if(y){let m=!1;n?n.getEngine()!=y.engine&&(m=!0):m=!0,m&&(w.value="Initializing...",n=await Tn.createInstance(y.engine),w.value="")}},Me=async()=>{window.open("https://demo.dynamsoft.com/label-recognizer-js/mrz-scanner.html","_blank")},pe=async y=>{console.log("updateBarcodeReaderSettings"),console.log(y),await n.setSupportedSettings(y.settings)},xe=async()=>{$.value=!0;const y=u.value;try{const v=await(await fetch("./dataset/"+y+"/project_manifest.json")).text(),F=JSON.parse(v);F.isRemote=!0;const oe=await(await fetch("./dataset/"+y+"/results.zip")).blob();oe.size>0&&await i.setItem(y+":results.zip",oe),await bn(F);let de,ge=await i.getItem("projects");ge?de=JSON.parse(ge):de=[];let G=[],Y=!1;for(let ie=0;ie<de.length;ie++){const we=de[ie];we.info.name===F.info.name?(G.push(F),Y=!0):G.push(we)}Y===!1&&G.push(F),await i.setItem("projects",JSON.stringify(G)),a=F,await ce(y)}catch(m){console.log(m)}$.value=!1};return(y,m)=>(Be(),bt(pn,null,{default:U(()=>[P("div",Va,[P("div",Pa,[P("div",Fa,Se(u.value),1),P("div",Ba,[I(Ht,{style:{"margin-left":"15px"},secondary:"",label:"Go to Comparison Page",onClick:_e})]),I(Ht,{outline:"",style:{color:"black","border-color":"black","background-color":"#fff"},label:"Export",onClick:Z})]),P("div",Ta,[P("div",Oa,[P("div",La,[P("div",Aa,[P("div",za,[P("div",null,[Ia,P("div",Da,Se(N.value),1)]),P("div",null,[Ma,P("div",Ea,Se(h.value.correctFilesNumber),1)]),P("div",null,[Na,P("div",ja,Se((h.value.correctFilesNumber/h.value.fileNumber*100).toFixed(2))+"%",1)]),P("div",null,[Ha,P("div",$a,Se(h.value.averageTime),1)]),P("div",null,[Qa,P("div",Ua,Se(h.value.score),1)])]),P("div",Wa,[P("div",Ka,[P("div",Ja,[Fe(" Reading Rate: "),I(dl,{"show-value":"","font-size":"12px",value:h.value.readingRate,size:"60px",thickness:.22,color:"orange","track-color":"grey-3",class:"q-ma-md"},{default:U(()=>[Fe(Se(h.value.readingRate)+"% ",1)]),_:1},8,["value"])]),P("div",Za,[Fe(" Score: "),I(dl,{"show-value":"","font-size":"12px",value:h.value.score,size:"60px",thickness:.22,color:"orange","track-color":"grey-3",class:"q-ma-md"},{default:U(()=>[Fe(Se(h.value.score)+"% ",1)]),_:1},8,["value"])])])])])]),P("div",Ga,[Xa,P("div",Ya,[ut(P("select",{style:{"min-width":"200px",height:"45px"},"onUpdate:modelValue":[m[0]||(m[0]=v=>re(v)),m[1]||(m[1]=v=>c.value=v)]},[(Be(!0),ct(Rl,null,Vl(b.value,v=>(Be(),ct("option",{value:v.displayName,key:v.displayName},Se(v.displayName),9,eo))),128))],512),[[fn,c.value]])]),P("div",to,[I(Ht,{label:B.value?"Stop Decoding":"Start Decoding",onClick:Ae},null,8,["label"]),I(Ft,{color:"orange",style:{"padding-left":"10px"},"left-label":"",modelValue:p.value,"onUpdate:modelValue":m[2]||(m[2]=v=>p.value=v),label:"Skip Detected"},null,8,["modelValue"])]),B.value?(Be(),ct("div",lo,[I(Tl,{size:"25px",value:k.value,color:"orange"},{default:U(()=>[P("div",no,[I(Sn,{color:"white","text-color":"black",label:w.value},null,8,["label"])])]),_:1},8,["value"])])):vn("",!0)])]),P("div",ao,[I(ya,{title:"Images",color:"black","table-header-style":"background:#f5f5f5;",rows:o.value,columns:t,"row-key":"name"},{"top-right":U(()=>[I(Mn,{unelevated:"",color:"black",label:"Action"},{default:U(()=>[I(xl,null,{default:U(()=>[ut((Be(),bt(Pt,{clickable:"",onClick:C},{default:U(()=>[I(Rt,null,{default:U(()=>[I(Vt,null,{default:U(()=>[Fe("Add local files")]),_:1})]),_:1})]),_:1})),[[St]]),ut((Be(),bt(Pt,{clickable:"",onClick:z},{default:U(()=>[I(Rt,null,{default:U(()=>[I(Vt,null,{default:U(()=>[Fe("Clear")]),_:1})]),_:1})]),_:1})),[[St]]),ut((Be(),bt(Pt,{clickable:"",onClick:Me},{default:U(()=>[I(Rt,null,{default:U(()=>[I(Vt,null,{default:U(()=>[Fe("Go to live scanner")]),_:1})]),_:1})]),_:1})),[[St]])]),_:1})]),_:1})]),body:U(v=>[(Be(),bt(En,{props:v,key:v.row.number},{default:U(()=>[I(st,{key:"number",props:v},{default:U(()=>[Fe(Se(v.row.number),1)]),_:2},1032,["props"]),I(st,{key:"name",props:v,onClick:F=>E(v.row.filename)},{default:U(()=>[P("div",oo,Se(v.row.filename),1)]),_:2},1032,["props","onClick"]),I(st,{key:"detectedText",props:v},{default:U(()=>[P("div",io,[I(wa,{diff:Le(v.row.detectedText,v.row.groundTruth)},null,8,["diff"])])]),_:2},1032,["props"]),I(st,{key:"groundTruth",props:v},{default:U(()=>[P("div",uo,[P("pre",null,Se(v.row.groundTruth),1)])]),_:2},1032,["props"]),I(st,{key:"time",props:v},{default:U(()=>[Fe(Se(v.row.time),1)]),_:2},1032,["props"]),I(st,{key:"score",props:v},{default:U(()=>[Fe(Se(v.row.score),1)]),_:2},1032,["props"])]),_:2},1032,["props"]))]),_:1},8,["rows"])])])]),P("div",ro,[I(Bt,{modelValue:r.value,"onUpdate:modelValue":m[7]||(m[7]=v=>r.value=v)},{default:U(()=>[I($t,null,{default:U(()=>[I(rt,null,{default:U(()=>[so]),_:1}),I(rt,{class:"q-pt-none"},{default:U(()=>[P("div",null,[P("input",{type:"file",id:"imageFiles",multiple:"true",onChange:m[3]||(m[3]=v=>{je(v)}),accept:".jpg,.jpeg,.png,.bmp"},null,32),co]),P("div",null,[P("input",{type:"file",id:"detectionResultFiles",multiple:"true",onChange:m[4]||(m[4]=v=>{ze(v)}),accept:".json"},null,32),fo]),P("div",null,[P("input",{type:"file",id:"groundTruthFiles",multiple:"true",onChange:m[5]||(m[5]=v=>{Re(v)}),accept:".txt"},null,32),vo]),P("div",null,[P("input",{type:"file",id:"zipFile",onChange:m[6]||(m[6]=v=>{ye(v)}),accept:".zip"},null,32),mo])]),_:1}),I(rl,{align:"right"},{default:U(()=>[I(ke,{flat:"",color:"primary",label:"Add to project",onClick:Ie}),ut(I(ke,{flat:"",color:"primary",label:"Close"},null,512),[[St]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),I(Bt,{modelValue:S.value,"onUpdate:modelValue":m[8]||(m[8]=v=>S.value=v)},{default:U(()=>[I($t,null,{default:U(()=>[I(rt,null,{default:U(()=>[go]),_:1}),I(rt,{class:"q-pt-none"},{default:U(()=>[P("div",null,[I(ke,{outline:"",color:"primary",label:"Download images",onClick:ae})]),P("div",null,[I(ke,{outline:"",color:"primary",label:"Download images in a zip",onClick:j})]),P("div",null,[I(ke,{outline:"",color:"primary",label:"Download TextResults.zip",onClick:A})])]),_:1}),I(rl,{align:"right"},{default:U(()=>[ut(I(ke,{flat:"",color:"primary",label:"Close"},null,512),[[St]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),I(Bt,{modelValue:$.value,"onUpdate:modelValue":m[9]||(m[9]=v=>$.value=v),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:U(()=>[I($t,{style:{width:"300px"}},{default:U(()=>[I(rt,null,{default:U(()=>[ho]),_:1}),I(rt,{class:"q-pt-none"},{default:U(()=>[Fe(" Please wait for a while. ")]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}))}});export{Vo as default};
