import{n as wl,c as Oe,o as Cl,p as _l,h as Xe,q as pl,l as Ge,Q as qe,r as Gl,a as Xl,b as xl,s as Yl,R as en,e as tn}from"./QBtn.73b60384.js";import{b as ln,Q as kl,a as ql,n as al,c as Pt,d as Ft,e as Bt}from"./QMenu.3bdc8fbb.js";import{c as g,h as f,g as $e,r as j,w as ge,b as Ct,H as Je,n as nn,a3 as an,a6 as Xt,W as Rl,a5 as Vl,o as Lt,L as Me,d as ol,J as Ze,a4 as on,a7 as Pl,K as jt,a8 as mt,E as un,M as rn,V as il,a9 as Wt,aa as ul,ab as sn,ac as cn,N as gt,s as Ee,O as st,Q as Fl,R as Bl,ad as dn,S as ye,m as fn,u as vn,t as Rt,v as $,A as P,x as z,U as Be,C as it,ae as mn,P as gn}from"./index.bc444c79.js";import{Q as hn,a as Tt}from"./QMarkupTable.7ec2ce60.js";import{u as Yt,a as Tl,c as Ol,b as Al,f as rl,d as bn,Q as Ll,t as Sn,l as yn,e as wn,J as Ht}from"./projectUtils.92f41c4c.js";import{h as Cn,y as _n,z as zl,A as Il,u as pn,a as xn,c as Ot,Q as kn,D as $t,d as Qt,e as ut,C as ht}from"./DynamsoftButton.2336c55b.js";import{r as Kt,Q as qn}from"./rtl.e34751c3.js";import{g as Rn}from"./scroll.eac57511.js";import{Q as sl}from"./QCardActions.9b56cee3.js";import{l as ee,b as Vn,d as Pn,g as bt,e as cl,f as Fn,r as Bn,s as Tn,h as dl,M as On}from"./utils.022943bc.js";import{u as An}from"./use-meta.dab633ad.js";const Ln={...wl,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Jt=50,Dl=2*Jt,Ml=Dl*Math.PI,zn=Math.round(Ml*1e3)/1e3;var fl=Oe({name:"QCircularProgress",props:{...Ln,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=$e(),a=Cl(e),c=g(()=>{const x=(n.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-x}deg)`:`rotate3d(0, 0, 1, ${x-90}deg)`}}),o=g(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),i=g(()=>Dl/(1-e.thickness/2)),r=g(()=>`${i.value/2} ${i.value/2} ${i.value} ${i.value}`),d=g(()=>ln(e.value,e.min,e.max)),h=g(()=>Ml*(1-(d.value-e.min)/(e.max-e.min))),u=g(()=>e.thickness/2*i.value);function b({thickness:x,offset:C,color:B,cls:w,rounded:S}){return f("circle",{class:"q-circular-progress__"+w+(B!==void 0?` text-${B}`:""),style:o.value,fill:"transparent",stroke:"currentColor","stroke-width":x,"stroke-dasharray":zn,"stroke-dashoffset":C,"stroke-linecap":S,cx:i.value,cy:i.value,r:Jt})}return()=>{const x=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&x.push(f("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Jt-u.value/2,cx:i.value,cy:i.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&x.push(b({cls:"track",thickness:u.value,offset:0,color:e.trackColor})),x.push(b({cls:"circle",thickness:u.value,offset:h.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const C=[f("svg",{class:"q-circular-progress__svg",style:c.value,viewBox:r.value,"aria-hidden":"true"},x)];return e.showValue===!0&&C.push(f("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[f("div",d.value)])),f("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:a.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:d.value},_l(t.internal,C))}}}),In=Oe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=g(()=>{const a=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(c=>e[c]===!0).map(c=>`q-btn-group--${c}`).join(" ");return`q-btn-group row no-wrap${a.length!==0?" "+a:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>f("div",{class:n.value},Xe(t.default))}});const Dn=Object.keys(pl),Mn=e=>Dn.reduce((t,n)=>{const a=e[n];return a!==void 0&&(t[n]=a),t},{});var En=Oe({name:"QBtnDropdown",props:{...pl,...Cn,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:a}=$e(),c=j(e.modelValue),o=j(null),i=_n(),r=g(()=>{const p={"aria-expanded":c.value===!0?"true":"false","aria-haspopup":"true","aria-controls":i,"aria-label":e.toggleAriaLabel||a.$q.lang.label[c.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(p["aria-disabled"]="true"),p}),d=g(()=>"q-btn-dropdown__arrow"+(c.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),h=g(()=>Gl(e)),u=g(()=>Mn(e));ge(()=>e.modelValue,p=>{o.value!==null&&o.value[p?"show":"hide"]()}),ge(()=>e.split,W);function b(p){c.value=!0,n("beforeShow",p)}function x(p){n("show",p),n("update:modelValue",!0)}function C(p){c.value=!1,n("beforeHide",p)}function B(p){n("hide",p),n("update:modelValue",!1)}function w(p){n("click",p)}function S(p){Je(p),W(),n("click",p)}function U(p){o.value!==null&&o.value.toggle(p)}function N(p){o.value!==null&&o.value.show(p)}function W(p){o.value!==null&&o.value.hide(p)}return Object.assign(a,{show:N,hide:W,toggle:U}),Ct(()=>{e.modelValue===!0&&N()}),()=>{const p=[f(Ge,{class:d.value,name:e.dropdownIcon||a.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&p.push(f(kl,{ref:o,id:i,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:b,onShow:x,onBeforeHide:C,onHide:B},t.default)),e.split===!1?f(qe,{class:"q-btn-dropdown q-btn-dropdown--simple",...u.value,...r.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:w},{default:()=>Xe(t.label,[]).concat(p),loading:t.loading}):f(In,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...h.value,glossy:e.glossy,stretch:e.stretch},()=>[f(qe,{class:"q-btn-dropdown--current",...u.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:S},{default:t.label,loading:t.loading}),f(qe,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...r.value,...h.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>p)])}}}),rt=Oe({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const n=$e(),a=g(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return f("td",{class:a.value},Xe(t.default));const c=n.vnode.key,o=(e.props.colsMap!==void 0?e.props.colsMap[c]:null)||e.props.col;if(o===void 0)return;const{row:i}=e.props;return f("td",{class:a.value+o.__tdClass(i),style:o.__tdStyle(i)},Xe(t.default))}}}),Nn=Oe({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const n=g(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>f("tr",{class:n.value},Xe(t.default))}}),jn=Oe({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const a=$e(),{proxy:{$q:c}}=a,o=i=>{n("click",i)};return()=>{if(e.props===void 0)return f("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:o},Xe(t.default));let i,r;const d=a.vnode.key;if(d){if(i=e.props.colsMap[d],i===void 0)return}else i=e.props.col;if(i.sortable===!0){const u=i.align==="right"?"unshift":"push";r=Xl(t.default,[]),r[u](f(Ge,{class:i.__iconClass,name:c.iconSet.table.arrowUp}))}else r=Xe(t.default);const h={class:i.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:i.headerStyle,onClick:u=>{i.sortable===!0&&e.props.sort(i),o(u)}};return f("th",h,r)}}});function El(e,t){return f("div",e,[f("table",{class:"q-table"},t)])}const Te=1e3,Hn=["start","center","end","start-force","center-force","end-force"],Nl=Array.prototype.filter,$n=window.getComputedStyle(document.body).overflowAnchor===void 0?nn:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Nl.call(n,c=>c.dataset&&c.dataset.qVsAnchor!==void 0).forEach(c=>{delete c.dataset.qVsAnchor});const a=n[t];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function ct(e,t){return e+t}function Ut(e,t,n,a,c,o,i,r){const d=e===window?document.scrollingElement||document.documentElement:e,h=c===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-i-r,scrollMaxSize:0,offsetStart:-i,offsetEnd:-r};if(c===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=d.scrollLeft,u.scrollViewSize+=d.clientWidth),u.scrollMaxSize=d.scrollWidth,o===!0&&(u.scrollStart=(Kt===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=d.scrollTop,u.scrollViewSize+=d.clientHeight),u.scrollMaxSize=d.scrollHeight),n!==null)for(let b=n.previousElementSibling;b!==null;b=b.previousElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=b[h]);if(a!==null)for(let b=a.nextElementSibling;b!==null;b=b.nextElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=b[h]);if(t!==e){const b=d.getBoundingClientRect(),x=t.getBoundingClientRect();c===!0?(u.offsetStart+=x.left-b.left,u.offsetEnd-=x.width):(u.offsetStart+=x.top-b.top,u.offsetEnd-=x.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function vl(e,t,n,a){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(a===!0&&(t=(Kt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(a===!0&&(t=(Kt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function St(e,t,n,a){if(n>=a)return 0;const c=t.length,o=Math.floor(n/Te),i=Math.floor((a-1)/Te)+1;let r=e.slice(o,i).reduce(ct,0);return n%Te!==0&&(r-=t.slice(o*Te,n).reduce(ct,0)),a%Te!==0&&a!==c&&(r-=t.slice(a,i*Te).reduce(ct,0)),r}const jl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Hl=Object.keys(jl),$l={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...jl};function Ql({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:a}){const c=$e(),{props:o,emit:i,proxy:r}=c,{$q:d}=r;let h,u,b,x=[],C;const B=j(0),w=j(0),S=j({}),U=j(null),N=j(null),W=j(null),p=j({from:0,to:0}),D=g(()=>o.tableColspan!==void 0?o.tableColspan:100);a===void 0&&(a=g(()=>o.virtualScrollItemSize));const de=g(()=>a.value+";"+o.virtualScrollHorizontal),_e=g(()=>de.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);ge(_e,()=>{Ce()}),ge(de,pe);function pe(){Re(u,!0)}function we(_){Re(_===void 0?u:_)}function ve(_,F){const I=t();if(I==null||I.nodeType===8)return;const Z=Ut(I,n(),U.value,N.value,o.virtualScrollHorizontal,d.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);b!==Z.scrollViewSize&&Ce(Z.scrollViewSize),Ae(I,Z,Math.min(e.value-1,Math.max(0,parseInt(_,10)||0)),0,Hn.indexOf(F)>-1?F:u>-1&&_>u?"end":"start")}function fe(){const _=t();if(_==null||_.nodeType===8)return;const F=Ut(_,n(),U.value,N.value,o.virtualScrollHorizontal,d.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),I=e.value-1,Z=F.scrollMaxSize-F.offsetStart-F.offsetEnd-w.value;if(h===F.scrollStart)return;if(F.scrollMaxSize<=0){Ae(_,F,0,0);return}b!==F.scrollViewSize&&Ce(F.scrollViewSize),Le(p.value.from);const ue=Math.floor(F.scrollMaxSize-Math.max(F.scrollViewSize,F.offsetEnd)-Math.min(C[I],F.scrollViewSize/2));if(ue>0&&Math.ceil(F.scrollStart)>=ue){Ae(_,F,I,F.scrollMaxSize-F.offsetEnd-x.reduce(ct,0));return}let H=0,L=F.scrollStart-F.offsetStart,ne=L;if(L<=Z&&L+F.scrollViewSize>=B.value)L-=B.value,H=p.value.from,ne=L;else for(let E=0;L>=x[E]&&H<I;E++)L-=x[E],H+=Te;for(;L>0&&H<I;)L-=C[H],L>-F.scrollViewSize?(H++,ne=L):ne=C[H]+L;Ae(_,F,H,ne)}function Ae(_,F,I,Z,ue){const H=typeof ue=="string"&&ue.indexOf("-force")>-1,L=H===!0?ue.replace("-force",""):ue,ne=L!==void 0?L:"start";let E=Math.max(0,I-S.value[ne]),re=E+S.value.total;re>e.value&&(re=e.value,E=Math.max(0,re-S.value.total)),h=F.scrollStart;const ke=E!==p.value.from||re!==p.value.to;if(ke===!1&&L===void 0){Ie(I);return}const{activeElement:je}=document,me=W.value;ke===!0&&me!==null&&me!==je&&me.contains(je)===!0&&(me.addEventListener("focusout",Ne),setTimeout(()=>{me!==null&&me.removeEventListener("focusout",Ne)})),$n(me,I-E);const Ve=L!==void 0?C.slice(E,I).reduce(ct,0):0;if(ke===!0){const y=re>=p.value.from&&E<=p.value.to?p.value.to:re;p.value={from:E,to:y},B.value=St(x,C,0,E),w.value=St(x,C,re,e.value),requestAnimationFrame(()=>{p.value.to!==re&&h===F.scrollStart&&(p.value={from:p.value.from,to:re},w.value=St(x,C,re,e.value))})}requestAnimationFrame(()=>{if(h!==F.scrollStart)return;ke===!0&&Le(E);const y=C.slice(E,I).reduce(ct,0),m=y+F.offsetStart+B.value,v=m+C[I];let O=m+Z;if(L!==void 0){const G=y-Ve,K=F.scrollStart+G;O=H!==!0&&K<m&&v<K+F.scrollViewSize?K:L==="end"?v-F.scrollViewSize:m-(L==="start"?0:Math.round((F.scrollViewSize-C[I])/2))}h=O,vl(_,O,o.virtualScrollHorizontal,d.lang.rtl),Ie(I)})}function Le(_){const F=W.value;if(F){const I=Nl.call(F.children,E=>E.classList&&E.classList.contains("q-virtual-scroll--skip")===!1),Z=I.length,ue=o.virtualScrollHorizontal===!0?E=>E.getBoundingClientRect().width:E=>E.offsetHeight;let H=_,L,ne;for(let E=0;E<Z;){for(L=ue(I[E]),E++;E<Z&&I[E].classList.contains("q-virtual-scroll--with-prev")===!0;)L+=ue(I[E]),E++;ne=L-C[H],ne!==0&&(C[H]+=ne,x[Math.floor(H/Te)]+=ne),H++}}}function Ne(){W.value!==null&&W.value!==void 0&&W.value.focus()}function Re(_,F){const I=1*a.value;(F===!0||Array.isArray(C)===!1)&&(C=[]);const Z=C.length;C.length=e.value;for(let H=e.value-1;H>=Z;H--)C[H]=I;const ue=Math.floor((e.value-1)/Te);x=[];for(let H=0;H<=ue;H++){let L=0;const ne=Math.min((H+1)*Te,e.value);for(let E=H*Te;E<ne;E++)L+=C[E];x.push(L)}u=-1,h=void 0,B.value=St(x,C,0,p.value.from),w.value=St(x,C,p.value.to,e.value),_>=0?(Le(p.value.from),Me(()=>{ve(_)})):xe()}function Ce(_){if(_===void 0&&typeof window!="undefined"){const L=t();L!=null&&L.nodeType!==8&&(_=Ut(L,n(),U.value,N.value,o.virtualScrollHorizontal,d.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}b=_;const F=parseFloat(o.virtualScrollSliceRatioBefore)||0,I=parseFloat(o.virtualScrollSliceRatioAfter)||0,Z=1+F+I,ue=_===void 0||_<=0?1:Math.ceil(_/a.value),H=Math.max(1,ue,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/Z));S.value={total:Math.ceil(H*Z),start:Math.ceil(H*F),center:Math.ceil(H*(.5+F)),end:Math.ceil(H*(1+F)),view:ue}}function ze(_,F){const I=o.virtualScrollHorizontal===!0?"width":"height",Z={["--q-virtual-scroll-item-"+I]:a.value+"px"};return[_==="tbody"?f(_,{class:"q-virtual-scroll__padding",key:"before",ref:U},[f("tr",[f("td",{style:{[I]:`${B.value}px`,...Z},colspan:D.value})])]):f(_,{class:"q-virtual-scroll__padding",key:"before",ref:U,style:{[I]:`${B.value}px`,...Z}}),f(_,{class:"q-virtual-scroll__content",key:"content",ref:W,tabindex:-1},F.flat()),_==="tbody"?f(_,{class:"q-virtual-scroll__padding",key:"after",ref:N},[f("tr",[f("td",{style:{[I]:`${w.value}px`,...Z},colspan:D.value})])]):f(_,{class:"q-virtual-scroll__padding",key:"after",ref:N,style:{[I]:`${w.value}px`,...Z}})]}function Ie(_){u!==_&&(o.onVirtualScroll!==void 0&&i("virtualScroll",{index:_,from:p.value.from,to:p.value.to-1,direction:_<u?"decrease":"increase",ref:r}),u=_)}Ce();const xe=an(fe,d.platform.is.ios===!0?120:35);Xt(()=>{Ce()});let q=!1;return Rl(()=>{q=!0}),Vl(()=>{if(q!==!0)return;const _=t();h!==void 0&&_!==void 0&&_!==null&&_.nodeType!==8?vl(_,h,o.virtualScrollHorizontal,d.lang.rtl):ve(u)}),Lt(()=>{xe.cancel()}),Object.assign(r,{scrollTo:ve,reset:pe,refresh:we}),{virtualScrollSliceRange:p,virtualScrollSliceSizeComputed:S,setVirtualScrollSize:Ce,onVirtualScrollEvt:xe,localResetVirtualScroll:Re,padVirtualScroll:ze,scrollTo:ve,reset:pe,refresh:we}}const Qn={list:ql,table:hn},Un=["list","table","__qtable"];var Wn=Oe({name:"QVirtualScroll",props:{...$l,type:{type:String,default:"list",validator:e=>Un.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:n}){let a;const c=j(null),o=g(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:i,localResetVirtualScroll:r,padVirtualScroll:d,onVirtualScrollEvt:h}=Ql({virtualScrollLength:o,getVirtualScrollTarget:B,getVirtualScrollEl:C}),u=g(()=>{if(o.value===0)return[];const N=(W,p)=>({index:i.value.from+p,item:W});return e.itemsFn===void 0?e.items.slice(i.value.from,i.value.to).map(N):e.itemsFn(i.value.from,i.value.to-i.value.from).map(N)}),b=g(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),x=g(()=>e.scrollTarget!==void 0?{}:{tabindex:0});ge(o,()=>{r()}),ge(()=>e.scrollTarget,()=>{S(),w()});function C(){return c.value.$el||c.value}function B(){return a}function w(){a=Rn(C(),e.scrollTarget),a.addEventListener("scroll",h,ol.passive)}function S(){a!==void 0&&(a.removeEventListener("scroll",h,ol.passive),a=void 0)}function U(){let N=d(e.type==="list"?"div":"tbody",u.value.map(t.default));return t.before!==void 0&&(N=t.before().concat(N)),xl(t.after,N)}return Xt(()=>{r()}),Ct(()=>{w()}),Vl(()=>{w()}),Rl(()=>{S()}),Lt(()=>{S()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?El({ref:c,class:"q-table__middle "+b.value},U()):f(Qn[e.type],{...n,ref:c,class:[n.class,b.value],...x.value},U)}}}),Kn=Oe({name:"QField",inheritAttrs:!1,props:Yt,emits:Tl,setup(){return Ol(Al())}});const Jn={xs:8,sm:10,md:14,lg:20,xl:24};var Zn=Oe({name:"QChip",props:{...zl,...wl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=$e(),c=Il(e,a),o=Cl(e,Jn),i=g(()=>e.selected===!0||e.icon!==void 0),r=g(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),d=g(()=>e.iconRemove||a.iconSet.chip.remove),h=g(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),u=g(()=>{const S=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(S?` text-${S} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(h.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(c.value===!0?" q-chip--dark q-dark":"")}),b=g(()=>{const S=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},U={...S,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:S,remove:U}});function x(S){S.keyCode===13&&C(S)}function C(S){e.disable||(n("update:selected",!e.selected),n("click",S))}function B(S){(S.keyCode===void 0||S.keyCode===13)&&(Ze(S),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function w(){const S=[];h.value===!0&&S.push(f("div",{class:"q-focus-helper"})),i.value===!0&&S.push(f(Ge,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const U=e.label!==void 0?[f("div",{class:"ellipsis"},[e.label])]:void 0;return S.push(f("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},_l(t.default,U))),e.iconRight&&S.push(f(Ge,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&S.push(f(Ge,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:d.value,...b.value.remove,onClick:B,onKeyup:B})),S}return()=>{if(e.modelValue===!1)return;const S={class:u.value,style:o.value};return h.value===!0&&Object.assign(S,b.value.chip,{onClick:C,onKeyup:x}),Yl("div",S,w(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[en,e.ripple]])}}});const ml=e=>["add","add-unique","toggle"].includes(e),Gn=".*+?^${}()|[]\\",Xn=Object.keys(Yt);var Yn=Oe({name:"QSelect",inheritAttrs:!1,props:{...$l,...pn,...Yt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:ml},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Tl,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:a}=$e(),{$q:c}=a,o=j(!1),i=j(!1),r=j(-1),d=j(""),h=j(!1),u=j(!1);let b=null,x,C,B,w=null,S,U,N,W;const p=j(null),D=j(null),de=j(null),_e=j(null),pe=j(null),we=xn(e),ve=bn(s),fe=g(()=>Array.isArray(e.options)?e.options.length:0),Ae=g(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Le,virtualScrollSliceSizeComputed:Ne,localResetVirtualScroll:Re,padVirtualScroll:Ce,onVirtualScrollEvt:ze,scrollTo:Ie,setVirtualScrollSize:xe}=Ql({virtualScrollLength:fe,getVirtualScrollTarget:zt,getVirtualScrollEl:kt,virtualScrollItemSizeComputed:Ae}),q=Al(),_=g(()=>{const l=e.mapOptions===!0&&e.multiple!==!0,V=e.modelValue!==void 0&&(e.modelValue!==null||l===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const k=e.mapOptions===!0&&x!==void 0?x:[],M=V.map(te=>Ue(te,k));return e.modelValue===null&&l===!0?M.filter(te=>te!==null):M}return V}),F=g(()=>{const l={};return Xn.forEach(V=>{const k=e[V];k!==void 0&&(l[V]=k)}),l}),I=g(()=>e.optionsDark===null?q.isDark.value:e.optionsDark),Z=g(()=>rl(_.value)),ue=g(()=>{let l="q-field__input q-placeholder col";return e.hideSelected===!0||_.value.length===0?[l,e.inputClass]:(l+=" q-field__input--padding",e.inputClass===void 0?l:[l,e.inputClass])}),H=g(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),L=g(()=>fe.value===0),ne=g(()=>_.value.map(l=>X.value(l)).join(", ")),E=g(()=>e.displayValue!==void 0?e.displayValue:ne.value),re=g(()=>e.optionsHtml===!0?()=>!0:l=>l!=null&&l.html===!0),ke=g(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||_.value.some(re.value))),je=g(()=>q.focused.value===!0?e.tabindex:-1),me=g(()=>{const l={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${q.targetUid.value}_lb`};return r.value>=0&&(l["aria-activedescendant"]=`${q.targetUid.value}_${r.value}`),l}),Ve=g(()=>({id:`${q.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),y=g(()=>_.value.map((l,V)=>({index:V,opt:l,html:re.value(l),selected:!0,removeAtIndex:_t,toggleOption:He,tabindex:je.value}))),m=g(()=>{if(fe.value===0)return[];const{from:l,to:V}=Le.value;return e.options.slice(l,V).map((k,M)=>{const te=ce.value(k)===!0,J=l+M,se={clickable:!0,active:!1,activeClass:G.value,manualFocus:!0,focused:!1,disable:te,tabindex:-1,dense:e.optionsDense,dark:I.value,role:"option",id:`${q.targetUid.value}_${J}`,onClick:()=>{He(k)}};return te!==!0&&(Ye(k)===!0&&(se.active=!0),r.value===J&&(se.focused=!0),se["aria-selected"]=se.active===!0?"true":"false",c.platform.is.desktop===!0&&(se.onMousemove=()=>{o.value===!0&&De(J)})),{index:J,opt:k,html:re.value(k),label:X.value(k),selected:se.active,focused:se.focused,toggleOption:He,setOptionIndex:De,itemProps:se}})}),v=g(()=>e.dropdownIcon!==void 0?e.dropdownIcon:c.iconSet.arrow.dropdown),O=g(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),G=g(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),K=g(()=>dt(e.optionValue,"value")),X=g(()=>dt(e.optionLabel,"label")),ce=g(()=>dt(e.optionDisable,"disable")),Y=g(()=>_.value.map(l=>K.value(l))),ae=g(()=>{const l={onInput:s,onChange:ve,onKeydown:We,onKeyup:et,onKeypress:vt,onFocus:ft,onClick(V){C===!0&&Je(V)}};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=ve,l});ge(_,l=>{x=l,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&q.innerLoading.value!==!0&&(i.value!==!0&&o.value!==!0||Z.value!==!0)&&(B!==!0&&ot(),(i.value===!0||o.value===!0)&&A(""))},{immediate:!0}),ge(()=>e.fillInput,ot),ge(o,Et),ge(fe,Zl);function ie(l){return e.emitValue===!0?K.value(l):l}function be(l){if(l>-1&&l<_.value.length)if(e.multiple===!0){const V=e.modelValue.slice();n("remove",{index:l,value:V.splice(l,1)[0]}),n("update:modelValue",V)}else n("update:modelValue",null)}function _t(l){be(l),q.focus()}function pt(l,V){const k=ie(l);if(e.multiple!==!0){e.fillInput===!0&&T(X.value(l),!0,!0),n("update:modelValue",k);return}if(_.value.length===0){n("add",{index:0,value:k}),n("update:modelValue",e.multiple===!0?[k]:k);return}if(V===!0&&Ye(l)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const M=e.modelValue.slice();n("add",{index:M.length,value:k}),M.push(k),n("update:modelValue",M)}function He(l,V){if(q.editable.value!==!0||l===void 0||ce.value(l)===!0)return;const k=K.value(l);if(e.multiple!==!0){V!==!0&&(T(e.fillInput===!0?X.value(l):"",!0,!0),Ke()),D.value!==null&&D.value.focus(),(_.value.length===0||mt(K.value(_.value[0]),k)!==!0)&&n("update:modelValue",e.emitValue===!0?k:l);return}if((C!==!0||h.value===!0)&&q.focus(),ft(),_.value.length===0){const J=e.emitValue===!0?k:l;n("add",{index:0,value:J}),n("update:modelValue",e.multiple===!0?[J]:J);return}const M=e.modelValue.slice(),te=Y.value.findIndex(J=>mt(J,k));if(te>-1)n("remove",{index:te,value:M.splice(te,1)[0]});else{if(e.maxValues!==void 0&&M.length>=e.maxValues)return;const J=e.emitValue===!0?k:l;n("add",{index:M.length,value:J}),M.push(J)}n("update:modelValue",M)}function De(l){if(c.platform.is.desktop!==!0)return;const V=l>-1&&l<fe.value?l:-1;r.value!==V&&(r.value=V)}function Pe(l=1,V){if(o.value===!0){let k=r.value;do k=al(k+l,-1,fe.value-1);while(k!==-1&&k!==r.value&&ce.value(e.options[k])===!0);r.value!==k&&(De(k),Ie(k),V!==!0&&e.useInput===!0&&e.fillInput===!0&&R(k>=0?X.value(e.options[k]):S))}}function Ue(l,V){const k=M=>mt(K.value(M),l);return e.options.find(k)||V.find(k)||l}function dt(l,V){const k=l!==void 0?l:V;return typeof k=="function"?k:M=>M!==null&&typeof M=="object"&&k in M?M[k]:M}function Ye(l){const V=K.value(l);return Y.value.find(k=>mt(k,V))!==void 0}function ft(l){e.useInput===!0&&D.value!==null&&(l===void 0||D.value===l.target&&l.target.value===ne.value)&&D.value.select()}function xt(l){un(l,27)===!0&&o.value===!0&&(Je(l),Ke(),ot()),n("keyup",l)}function et(l){const{value:V}=l.target;if(l.keyCode!==void 0){xt(l);return}if(l.target.value="",b!==null&&(clearTimeout(b),b=null),ot(),typeof V=="string"&&V.length!==0){const k=V.toLocaleLowerCase(),M=J=>{const se=e.options.find(Se=>J.value(Se).toLocaleLowerCase()===k);return se===void 0?!1:(_.value.indexOf(se)===-1?He(se):Ke(),!0)},te=J=>{M(K)!==!0&&(M(X)===!0||J===!0||A(V,!0,()=>te(!0)))};te()}else q.clearValue(l)}function vt(l){n("keypress",l)}function We(l){if(n("keydown",l),rn(l)===!0)return;const V=d.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),k=l.shiftKey!==!0&&e.multiple!==!0&&(r.value>-1||V===!0);if(l.keyCode===27){jt(l);return}if(l.keyCode===9&&k===!1){nt();return}if(l.target===void 0||l.target.id!==q.targetUid.value||q.editable.value!==!0)return;if(l.keyCode===40&&q.innerLoading.value!==!0&&o.value===!1){Ze(l),at();return}if(l.keyCode===8&&e.hideSelected!==!0&&d.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?be(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(l.keyCode===35||l.keyCode===36)&&(typeof d.value!="string"||d.value.length===0)&&(Ze(l),r.value=-1,Pe(l.keyCode===36?1:-1,e.multiple)),(l.keyCode===33||l.keyCode===34)&&Ne.value!==void 0&&(Ze(l),r.value=Math.max(-1,Math.min(fe.value,r.value+(l.keyCode===33?-1:1)*Ne.value.view)),Pe(l.keyCode===33?1:-1,e.multiple)),(l.keyCode===38||l.keyCode===40)&&(Ze(l),Pe(l.keyCode===38?-1:1,e.multiple));const M=fe.value;if((N===void 0||W<Date.now())&&(N=""),M>0&&e.useInput!==!0&&l.key!==void 0&&l.key.length===1&&l.altKey===!1&&l.ctrlKey===!1&&l.metaKey===!1&&(l.keyCode!==32||N.length!==0)){o.value!==!0&&at(l);const te=l.key.toLocaleLowerCase(),J=N.length===1&&N[0]===te;W=Date.now()+1500,J===!1&&(Ze(l),N+=te);const se=new RegExp("^"+N.split("").map(Nt=>Gn.indexOf(Nt)>-1?"\\"+Nt:Nt).join(".*"),"i");let Se=r.value;if(J===!0||Se<0||se.test(X.value(e.options[Se]))!==!0)do Se=al(Se+1,-1,M-1);while(Se!==r.value&&(ce.value(e.options[Se])===!0||se.test(X.value(e.options[Se]))!==!0));r.value!==Se&&Me(()=>{De(Se),Ie(Se),Se>=0&&e.useInput===!0&&e.fillInput===!0&&R(X.value(e.options[Se]))});return}if(!(l.keyCode!==13&&(l.keyCode!==32||e.useInput===!0||N!=="")&&(l.keyCode!==9||k===!1))){if(l.keyCode!==9&&Ze(l),r.value>-1&&r.value<M){He(e.options[r.value]);return}if(V===!0){const te=(J,se)=>{if(se){if(ml(se)!==!0)return}else se=e.newValueMode;if(T("",e.multiple!==!0,!0),J==null)return;(se==="toggle"?He:pt)(J,se==="add-unique"),e.multiple!==!0&&(D.value!==null&&D.value.focus(),Ke())};if(e.onNewValue!==void 0?n("newValue",d.value,te):te(d.value),e.multiple!==!0)return}o.value===!0?nt():q.innerLoading.value!==!0&&at()}}function kt(){return C===!0?pe.value:de.value!==null&&de.value.contentEl!==null?de.value.contentEl:void 0}function zt(){return kt()}function It(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?y.value.map(l=>t["selected-item"](l)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?y.value.map((l,V)=>f(Zn,{key:"option-"+V,removable:q.editable.value===!0&&ce.value(l.opt)!==!0,dense:!0,textColor:e.color,tabindex:je.value,onRemove(){l.removeAtIndex(V)}},()=>f("span",{class:"ellipsis",[l.html===!0?"innerHTML":"textContent"]:X.value(l.opt)}))):[f("span",{[ke.value===!0?"innerHTML":"textContent"]:E.value})]}function qt(){if(L.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:d.value}):void 0;const l=t.option!==void 0?t.option:k=>f(Bt,{key:k.index,...k.itemProps},()=>f(Pt,()=>f(Ft,()=>f("span",{[k.html===!0?"innerHTML":"textContent"]:k.label}))));let V=Ce("div",m.value.map(l));return t["before-options"]!==void 0&&(V=t["before-options"]().concat(V)),xl(t["after-options"],V)}function Dt(l,V){const k=V===!0?{...me.value,...q.splitAttrs.attributes.value}:void 0,M={ref:V===!0?D:void 0,key:"i_t",class:ue.value,style:e.inputStyle,value:d.value!==void 0?d.value:"",type:"search",...k,id:V===!0?q.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":l===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ae.value};return l!==!0&&C===!0&&(Array.isArray(M.class)===!0?M.class=[...M.class,"no-pointer-events"]:M.class+=" no-pointer-events"),f("input",M)}function s(l){b!==null&&(clearTimeout(b),b=null),!(l&&l.target&&l.target.qComposing===!0)&&(R(l.target.value||""),B=!0,S=d.value,q.focused.value!==!0&&(C!==!0||h.value===!0)&&q.focus(),e.onFilter!==void 0&&(b=setTimeout(()=>{b=null,A(d.value)},e.inputDebounce)))}function R(l){d.value!==l&&(d.value=l,n("inputValue",l))}function T(l,V,k){B=k!==!0,e.useInput===!0&&(R(l),(V===!0||k!==!0)&&(S=l),V!==!0&&A(l))}function A(l,V,k){if(e.onFilter===void 0||V!==!0&&q.focused.value!==!0)return;q.innerLoading.value===!0?n("filterAbort"):(q.innerLoading.value=!0,u.value=!0),l!==""&&e.multiple!==!0&&_.value.length!==0&&B!==!0&&l===X.value(_.value[0])&&(l="");const M=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);w!==null&&clearTimeout(w),w=M,n("filter",l,(te,J)=>{(V===!0||q.focused.value===!0)&&w===M&&(clearTimeout(w),typeof te=="function"&&te(),u.value=!1,Me(()=>{q.innerLoading.value=!1,q.editable.value===!0&&(V===!0?o.value===!0&&Ke():o.value===!0?Et(!0):o.value=!0),typeof J=="function"&&Me(()=>{J(a)}),typeof k=="function"&&Me(()=>{k(a)})}))},()=>{q.focused.value===!0&&w===M&&(clearTimeout(w),q.innerLoading.value=!1,u.value=!1),o.value===!0&&(o.value=!1)})}function Q(){return f(kl,{ref:de,class:H.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&L.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:I.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:O.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ve.value,onScrollPassive:ze,onBeforeShow:tl,onBeforeHide:oe,onShow:le},qt)}function oe(l){ll(l),nt()}function le(){xe()}function Fe(l){Je(l),D.value!==null&&D.value.focus(),h.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function he(l){Je(l),Me(()=>{h.value=!1})}function tt(){const l=[f(Kn,{class:`col-auto ${q.fieldClass.value}`,...F.value,for:q.targetUid.value,dark:I.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:d.value.length!==0,...q.splitAttrs.listeners.value,onFocus:Fe,onBlur:he},{...t,rawControl:()=>q.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&l.push(f("div",{ref:pe,class:H.value+" scroll",style:e.popupContentStyle,...Ve.value,onClick:jt,onScrollPassive:ze},qt())),f(Ot,{ref:_e,modelValue:i.value,position:e.useInput===!0?"top":void 0,transitionShow:U,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:tl,onBeforeHide:lt,onHide:Mt,onShow:Jl},()=>f("div",{class:"q-select__dialog"+(I.value===!0?" q-select__dialog--dark q-dark":"")+(h.value===!0?" q-select__dialog--focused":"")},l))}function lt(l){ll(l),_e.value!==null&&_e.value.__updateRefocusTarget(q.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),q.focused.value=!1}function Mt(l){Ke(),q.focused.value===!1&&n("blur",l),ot()}function Jl(){const l=document.activeElement;(l===null||l.id!==q.targetUid.value)&&D.value!==null&&D.value!==l&&D.value.focus(),xe()}function nt(){i.value!==!0&&(r.value=-1,o.value===!0&&(o.value=!1),q.focused.value===!1&&(w!==null&&(clearTimeout(w),w=null),q.innerLoading.value===!0&&(n("filterAbort"),q.innerLoading.value=!1,u.value=!1)))}function at(l){q.editable.value===!0&&(C===!0?(q.onControlFocusin(l),i.value=!0,Me(()=>{q.focus()})):q.focus(),e.onFilter!==void 0?A(d.value):(L.value!==!0||t["no-option"]!==void 0)&&(o.value=!0))}function Ke(){i.value=!1,nt()}function ot(){e.useInput===!0&&T(e.multiple!==!0&&e.fillInput===!0&&_.value.length!==0&&X.value(_.value[0])||"",!0,!0)}function Et(l){let V=-1;if(l===!0){if(_.value.length!==0){const k=K.value(_.value[0]);V=e.options.findIndex(M=>mt(K.value(M),k))}Re(V)}De(V)}function Zl(l,V){o.value===!0&&q.innerLoading.value===!1&&(Re(-1,!0),Me(()=>{o.value===!0&&q.innerLoading.value===!1&&(l>V?Re():Et(!0))}))}function el(){i.value===!1&&de.value!==null&&de.value.updatePosition()}function tl(l){l!==void 0&&Je(l),n("popupShow",l),q.hasPopupOpen=!0,q.onControlFocusin(l)}function ll(l){l!==void 0&&Je(l),n("popupHide",l),q.hasPopupOpen=!1,q.onControlFocusout(l)}function nl(){C=c.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||L.value===!1:!0),U=c.platform.is.ios===!0&&C===!0&&e.useInput===!0?"fade":e.transitionShow}return on(nl),Pl(el),nl(),Lt(()=>{b!==null&&clearTimeout(b)}),Object.assign(a,{showPopup:at,hidePopup:Ke,removeAtIndex:be,add:pt,toggleOption:He,getOptionIndex:()=>r.value,setOptionIndex:De,moveOptionSelection:Pe,filter:A,updateMenuPosition:el,updateInputValue:T,isOptionSelected:Ye,getEmittingOptionValue:ie,isOptionDisabled:(...l)=>ce.value.apply(null,l)===!0,getOptionValue:(...l)=>K.value.apply(null,l),getOptionLabel:(...l)=>X.value.apply(null,l)}),Object.assign(q,{innerValue:_,fieldClass:g(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:p,targetRef:D,hasValue:Z,showPopup:at,floatingLabel:g(()=>e.hideSelected!==!0&&Z.value===!0||typeof d.value=="number"||d.value.length!==0||rl(e.displayValue)),getControlChild:()=>{if(q.editable.value!==!1&&(i.value===!0||L.value!==!0||t["no-option"]!==void 0))return C===!0?tt():Q();q.hasPopupOpen===!0&&(q.hasPopupOpen=!1)},controlEvents:{onFocusin(l){q.onControlFocusin(l)},onFocusout(l){q.onControlFocusout(l,()=>{ot(),nt()})},onClick(l){if(jt(l),C!==!0&&o.value===!0){nt(),D.value!==null&&D.value.focus();return}at(l)}},getControl:l=>{const V=It(),k=l===!0||i.value!==!0||C!==!0;if(e.useInput===!0)V.push(Dt(l,k));else if(q.editable.value===!0){const te=k===!0?me.value:void 0;V.push(f("input",{ref:k===!0?D:void 0,key:"d_t",class:"q-select__focus-target",id:k===!0?q.targetUid.value:void 0,value:E.value,readonly:!0,"data-autofocus":l===!0||e.autofocus===!0||void 0,...te,onKeydown:We,onKeyup:xt,onKeypress:vt})),k===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&V.push(f("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:et}))}if(we.value!==void 0&&e.disable!==!0&&Y.value.length!==0){const te=Y.value.map(J=>f("option",{value:J,selected:!0}));V.push(f("select",{class:"hidden",name:we.value,multiple:e.multiple},te))}const M=e.useInput===!0||k!==!0?void 0:q.splitAttrs.attributes.value;return f("div",{class:"q-field__native row items-center",...M,...q.splitAttrs.listeners.value},V)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[f(Ge,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:v.value})]:null}),Ol(q)}});let yt=0;const ea={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ta=["update:fullscreen","fullscreen"];function la(){const e=$e(),{props:t,emit:n,proxy:a}=e;let c,o,i;const r=j(!1);tn(e)===!0&&ge(()=>a.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&u()}),ge(()=>t.fullscreen,b=>{r.value!==b&&d()}),ge(r,b=>{n("update:fullscreen",b),n("fullscreen",b)});function d(){r.value===!0?u():h()}function h(){r.value!==!0&&(r.value=!0,i=a.$el.parentNode,i.replaceChild(o,a.$el),document.body.appendChild(a.$el),yt++,yt===1&&document.body.classList.add("q-body--fullscreen-mixin"),c={handler:u},il.add(c))}function u(){r.value===!0&&(c!==void 0&&(il.remove(c),c=void 0),i.replaceChild(a.$el,o),r.value=!1,yt=Math.max(0,yt-1),yt===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return Xt(()=>{o=document.createElement("span")}),Ct(()=>{t.fullscreen===!0&&h()}),Lt(u),Object.assign(a,{toggleFullscreen:d,setFullscreen:h,exitFullscreen:u}),{inFullscreen:r,toggleFullscreen:d}}function na(e,t){return new Date(e)-new Date(t)}const aa={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function oa(e,t,n,a){const c=g(()=>{const{sortBy:r}=t.value;return r&&n.value.find(d=>d.name===r)||null}),o=g(()=>e.sortMethod!==void 0?e.sortMethod:(r,d,h)=>{const u=n.value.find(C=>C.name===d);if(u===void 0||u.field===void 0)return r;const b=h===!0?-1:1,x=typeof u.field=="function"?C=>u.field(C):C=>C[u.field];return r.sort((C,B)=>{let w=x(C),S=x(B);return w==null?-1*b:S==null?1*b:u.sort!==void 0?u.sort(w,S,C,B)*b:Wt(w)===!0&&Wt(S)===!0?(w-S)*b:ul(w)===!0&&ul(S)===!0?na(w,S)*b:typeof w=="boolean"&&typeof S=="boolean"?(w-S)*b:([w,S]=[w,S].map(U=>(U+"").toLocaleString().toLowerCase()),w<S?-1*b:w===S?0:b)})});function i(r){let d=e.columnSortOrder;if(sn(r)===!0)r.sortOrder&&(d=r.sortOrder),r=r.name;else{const b=n.value.find(x=>x.name===r);b!==void 0&&b.sortOrder&&(d=b.sortOrder)}let{sortBy:h,descending:u}=t.value;h!==r?(h=r,u=d==="da"):e.binaryStateSort===!0?u=!u:u===!0?d==="ad"?h=null:u=!1:d==="ad"?u=!0:h=null,a({sortBy:h,descending:u,page:1})}return{columnToSort:c,computedSortMethod:o,sort:i}}const ia={filter:[String,Object],filterMethod:Function};function ua(e,t){const n=g(()=>e.filterMethod!==void 0?e.filterMethod:(a,c,o,i)=>{const r=c?c.toLowerCase():"";return a.filter(d=>o.some(h=>{const u=i(h,d)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(r)!==-1}))});return ge(()=>e.filter,()=>{Me(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function ra(e,t){for(const n in t)if(t[n]!==e[n])return!1;return!0}function gl(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const sa={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ca(e,t){const{props:n,emit:a}=e,c=j(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),o=g(()=>{const u=n["onUpdate:pagination"]!==void 0?{...c.value,...n.pagination}:c.value;return gl(u)}),i=g(()=>o.value.rowsNumber!==void 0);function r(u){d({pagination:u,filter:n.filter})}function d(u={}){Me(()=>{a("request",{pagination:u.pagination||o.value,filter:u.filter||n.filter,getCellValue:t})})}function h(u,b){const x=gl({...o.value,...u});if(ra(o.value,x)===!0){i.value===!0&&b===!0&&r(x);return}if(i.value===!0){r(x);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?a("update:pagination",x):c.value=x}return{innerPagination:c,computedPagination:o,isServerSide:i,requestServerInteraction:d,setPagination:h}}function da(e,t,n,a,c,o){const{props:i,emit:r,proxy:{$q:d}}=e,h=g(()=>a.value===!0?n.value.rowsNumber||0:o.value),u=g(()=>{const{page:p,rowsPerPage:D}=n.value;return(p-1)*D}),b=g(()=>{const{page:p,rowsPerPage:D}=n.value;return p*D}),x=g(()=>n.value.page===1),C=g(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(h.value/n.value.rowsPerPage))),B=g(()=>b.value===0?!0:n.value.page>=C.value),w=g(()=>(i.rowsPerPageOptions.includes(t.value.rowsPerPage)?i.rowsPerPageOptions:[t.value.rowsPerPage].concat(i.rowsPerPageOptions)).map(D=>({label:D===0?d.lang.table.allRows:""+D,value:D})));ge(C,(p,D)=>{if(p===D)return;const de=n.value.page;p&&!de?c({page:1}):p<de&&c({page:p})});function S(){c({page:1})}function U(){const{page:p}=n.value;p>1&&c({page:p-1})}function N(){const{page:p,rowsPerPage:D}=n.value;b.value>0&&p*D<h.value&&c({page:p+1})}function W(){c({page:C.value})}return i["onUpdate:pagination"]!==void 0&&r("update:pagination",{...n.value}),{firstRowIndex:u,lastRowIndex:b,isFirstPage:x,isLastPage:B,pagesNumber:C,computedRowsPerPageOptions:w,computedRowsNumber:h,firstPage:S,prevPage:U,nextPage:N,lastPage:W}}const fa={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},va=["update:selected","selection"];function ma(e,t,n,a){const c=g(()=>{const B={};return e.selected.map(a.value).forEach(w=>{B[w]=!0}),B}),o=g(()=>e.selection!=="none"),i=g(()=>e.selection==="single"),r=g(()=>e.selection==="multiple"),d=g(()=>n.value.length!==0&&n.value.every(B=>c.value[a.value(B)]===!0)),h=g(()=>d.value!==!0&&n.value.some(B=>c.value[a.value(B)]===!0)),u=g(()=>e.selected.length);function b(B){return c.value[B]===!0}function x(){t("update:selected",[])}function C(B,w,S,U){t("selection",{rows:w,added:S,keys:B,evt:U});const N=i.value===!0?S===!0?w:[]:S===!0?e.selected.concat(w):e.selected.filter(W=>B.includes(a.value(W))===!1);t("update:selected",N)}return{hasSelectionMode:o,singleSelection:i,multipleSelection:r,allRowsSelected:d,someRowsSelected:h,rowsSelectedNumber:u,isRowSelected:b,clearSelection:x,updateSelection:C}}function hl(e){return Array.isArray(e)?e.slice():[]}const ga={expanded:Array},ha=["update:expanded"];function ba(e,t){const n=j(hl(e.expanded));ge(()=>e.expanded,i=>{n.value=hl(i)});function a(i){return n.value.includes(i)}function c(i){e.expanded!==void 0?t("update:expanded",i):n.value=i}function o(i,r){const d=n.value.slice(),h=d.indexOf(i);r===!0?h===-1&&(d.push(i),c(d)):h!==-1&&(d.splice(h,1),c(d))}return{isRowExpanded:a,setExpanded:c,updateExpanded:o}}const Sa={visibleColumns:Array};function ya(e,t,n){const a=g(()=>{if(e.columns!==void 0)return e.columns;const r=e.rows[0];return r!==void 0?Object.keys(r).map(d=>({name:d,label:d.toUpperCase(),field:d,align:Wt(r[d])?"right":"left",sortable:!0})):[]}),c=g(()=>{const{sortBy:r,descending:d}=t.value;return(e.visibleColumns!==void 0?a.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):a.value).map(u=>{const b=u.align||"right",x=`text-${b}`;return{...u,align:b,__iconClass:`q-table__sort-icon q-table__sort-icon--${b}`,__thClass:x+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===r?` sorted ${d===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>x+" "+u.classes:C=>x+" "+u.classes(C):()=>x}})}),o=g(()=>{const r={};return c.value.forEach(d=>{r[d.name]=d}),r}),i=g(()=>e.tableColspan!==void 0?e.tableColspan:c.value.length+(n.value===!0?1:0));return{colList:a,computedCols:c,computedColsMap:o,computedColspan:i}}const Vt="q-table__bottom row items-center",Ul={};Hl.forEach(e=>{Ul[e]={}});var wa=Oe({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Ul,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...zl,...ea,...Sa,...ia,...sa,...ga,...fa,...aa},emits:["request","virtualScroll",...ta,...ha,...va],setup(e,{slots:t,emit:n}){const a=$e(),{proxy:{$q:c}}=a,o=Il(e,c),{inFullscreen:i,toggleFullscreen:r}=la(),d=g(()=>typeof e.rowKey=="function"?e.rowKey:s=>s[e.rowKey]),h=j(null),u=j(null),b=g(()=>e.grid!==!0&&e.virtualScroll===!0),x=g(()=>" q-table__card"+(o.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),C=g(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":x.value)+(o.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(i.value===!0?" fullscreen scroll":"")),B=g(()=>C.value+(e.loading===!0?" q-table--loading":""));ge(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+C.value,()=>{b.value===!0&&u.value!==null&&u.value.reset()});const{innerPagination:w,computedPagination:S,isServerSide:U,requestServerInteraction:N,setPagination:W}=ca(a,Pe),{computedFilterMethod:p}=ua(e,W),{isRowExpanded:D,setExpanded:de,updateExpanded:_e}=ba(e,n),pe=g(()=>{let s=e.rows;if(U.value===!0||s.length===0)return s;const{sortBy:R,descending:T}=S.value;return e.filter&&(s=p.value(s,e.filter,_.value,Pe)),Z.value!==null&&(s=ue.value(e.rows===s?s.slice():s,R,T)),s}),we=g(()=>pe.value.length),ve=g(()=>{let s=pe.value;if(U.value===!0)return s;const{rowsPerPage:R}=S.value;return R!==0&&(L.value===0&&e.rows!==s?s.length>ne.value&&(s=s.slice(0,ne.value)):s=s.slice(L.value,ne.value)),s}),{hasSelectionMode:fe,singleSelection:Ae,multipleSelection:Le,allRowsSelected:Ne,someRowsSelected:Re,rowsSelectedNumber:Ce,isRowSelected:ze,clearSelection:Ie,updateSelection:xe}=ma(e,n,ve,d),{colList:q,computedCols:_,computedColsMap:F,computedColspan:I}=ya(e,S,fe),{columnToSort:Z,computedSortMethod:ue,sort:H}=oa(e,S,q,W),{firstRowIndex:L,lastRowIndex:ne,isFirstPage:E,isLastPage:re,pagesNumber:ke,computedRowsPerPageOptions:je,computedRowsNumber:me,firstPage:Ve,prevPage:y,nextPage:m,lastPage:v}=da(a,w,S,U,W,we),O=g(()=>ve.value.length===0),G=g(()=>{const s={};return Hl.forEach(R=>{s[R]=e[R]}),s.virtualScrollItemSize===void 0&&(s.virtualScrollItemSize=e.dense===!0?28:48),s});function K(){b.value===!0&&u.value.reset()}function X(){if(e.grid===!0)return Dt();const s=e.hideHeader!==!0?ft:null;if(b.value===!0){const T=t["top-row"],A=t["bottom-row"],Q={default:oe=>ie(oe.item,t.body,oe.index)};if(T!==void 0){const oe=f("tbody",T({cols:_.value}));Q.before=s===null?()=>oe:()=>[s()].concat(oe)}else s!==null&&(Q.before=s);return A!==void 0&&(Q.after=()=>f("tbody",A({cols:_.value}))),f(Wn,{ref:u,class:e.tableClass,style:e.tableStyle,...G.value,scrollTarget:e.virtualScrollTarget,items:ve.value,type:"__qtable",tableColspan:I.value,onVirtualScroll:Y},Q)}const R=[be()];return s!==null&&R.unshift(s()),El({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},R)}function ce(s,R){if(u.value!==null){u.value.scrollTo(s,R);return}s=parseInt(s,10);const T=h.value.querySelector(`tbody tr:nth-of-type(${s+1})`);if(T!==null){const A=h.value.querySelector(".q-table__middle.scroll"),Q=T.offsetTop-e.virtualScrollStickySizeStart,oe=Q<A.scrollTop?"decrease":"increase";A.scrollTop=Q,n("virtualScroll",{index:s,from:0,to:w.value.rowsPerPage-1,direction:oe})}}function Y(s){n("virtualScroll",s)}function ae(){return[f(Ll,{class:"q-table__linear-progress",color:e.color,dark:o.value,indeterminate:!0,trackColor:"transparent"})]}function ie(s,R,T){const A=d.value(s),Q=ze(A);if(R!==void 0)return R(_t({key:A,row:s,pageIndex:T,__trClass:Q?"selected":""}));const oe=t["body-cell"],le=_.value.map(he=>{const tt=t[`body-cell-${he.name}`],lt=tt!==void 0?tt:oe;return lt!==void 0?lt(pt({key:A,row:s,pageIndex:T,col:he})):f("td",{class:he.__tdClass(s),style:he.__tdStyle(s)},Pe(he,s))});if(fe.value===!0){const he=t["body-selection"],tt=he!==void 0?he(He({key:A,row:s,pageIndex:T})):[f(Tt,{modelValue:Q,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(lt,Mt)=>{xe([A],[s],lt,Mt)}})];le.unshift(f("td",{class:"q-table--col-auto-width"},tt))}const Fe={key:A,class:{selected:Q}};return e.onRowClick!==void 0&&(Fe.class["cursor-pointer"]=!0,Fe.onClick=he=>{n("RowClick",he,s,T)}),e.onRowDblclick!==void 0&&(Fe.class["cursor-pointer"]=!0,Fe.onDblclick=he=>{n("RowDblclick",he,s,T)}),e.onRowContextmenu!==void 0&&(Fe.class["cursor-pointer"]=!0,Fe.onContextmenu=he=>{n("RowContextmenu",he,s,T)}),f("tr",Fe,le)}function be(){const s=t.body,R=t["top-row"],T=t["bottom-row"];let A=ve.value.map((Q,oe)=>ie(Q,s,oe));return R!==void 0&&(A=R({cols:_.value}).concat(A)),T!==void 0&&(A=A.concat(T({cols:_.value}))),f("tbody",A)}function _t(s){return De(s),s.cols=s.cols.map(R=>gt({...R},"value",()=>Pe(R,s.row))),s}function pt(s){return De(s),gt(s,"value",()=>Pe(s.col,s.row)),s}function He(s){return De(s),s}function De(s){Object.assign(s,{cols:_.value,colsMap:F.value,sort:H,rowIndex:L.value+s.pageIndex,color:e.color,dark:o.value,dense:e.dense}),fe.value===!0&&gt(s,"selected",()=>ze(s.key),(R,T)=>{xe([s.key],[s.row],R,T)}),gt(s,"expand",()=>D(s.key),R=>{_e(s.key,R)})}function Pe(s,R){const T=typeof s.field=="function"?s.field(R):R[s.field];return s.format!==void 0?s.format(T,R):T}const Ue=g(()=>({pagination:S.value,pagesNumber:ke.value,isFirstPage:E.value,isLastPage:re.value,firstPage:Ve,prevPage:y,nextPage:m,lastPage:v,inFullscreen:i.value,toggleFullscreen:r}));function dt(){const s=t.top,R=t["top-left"],T=t["top-right"],A=t["top-selection"],Q=fe.value===!0&&A!==void 0&&Ce.value>0,oe="q-table__top relative-position row items-center";if(s!==void 0)return f("div",{class:oe},[s(Ue.value)]);let le;if(Q===!0?le=A(Ue.value).slice():(le=[],R!==void 0?le.push(f("div",{class:"q-table__control"},[R(Ue.value)])):e.title&&le.push(f("div",{class:"q-table__control"},[f("div",{class:["q-table__title",e.titleClass]},e.title)]))),T!==void 0&&(le.push(f("div",{class:"q-table__separator col"})),le.push(f("div",{class:"q-table__control"},[T(Ue.value)]))),le.length!==0)return f("div",{class:oe},le)}const Ye=g(()=>Re.value===!0?null:Ne.value);function ft(){const s=xt();return e.loading===!0&&t.loading===void 0&&s.push(f("tr",{class:"q-table__progress"},[f("th",{class:"relative-position",colspan:I.value},ae())])),f("thead",s)}function xt(){const s=t.header,R=t["header-cell"];if(s!==void 0)return s(et({header:!0})).slice();const T=_.value.map(A=>{const Q=t[`header-cell-${A.name}`],oe=Q!==void 0?Q:R,le=et({col:A});return oe!==void 0?oe(le):f(jn,{key:A.name,props:le},()=>A.label)});if(Ae.value===!0&&e.grid!==!0)T.unshift(f("th",{class:"q-table--col-auto-width"}," "));else if(Le.value===!0){const A=t["header-selection"],Q=A!==void 0?A(et({})):[f(Tt,{color:e.color,modelValue:Ye.value,dark:o.value,dense:e.dense,"onUpdate:modelValue":vt})];T.unshift(f("th",{class:"q-table--col-auto-width"},Q))}return[f("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},T)]}function et(s){return Object.assign(s,{cols:_.value,sort:H,colsMap:F.value,color:e.color,dark:o.value,dense:e.dense}),Le.value===!0&&gt(s,"selected",()=>Ye.value,vt),s}function vt(s){Re.value===!0&&(s=!1),xe(ve.value.map(d.value),ve.value,s)}const We=g(()=>{const s=[e.iconFirstPage||c.iconSet.table.firstPage,e.iconPrevPage||c.iconSet.table.prevPage,e.iconNextPage||c.iconSet.table.nextPage,e.iconLastPage||c.iconSet.table.lastPage];return c.lang.rtl===!0?s.reverse():s});function kt(){if(e.hideBottom===!0)return;if(O.value===!0){if(e.hideNoData===!0)return;const T=e.loading===!0?e.loadingLabel||c.lang.table.loading:e.filter?e.noResultsLabel||c.lang.table.noResults:e.noDataLabel||c.lang.table.noData,A=t["no-data"],Q=A!==void 0?[A({message:T,icon:c.iconSet.table.warning,filter:e.filter})]:[f(Ge,{class:"q-table__bottom-nodata-icon",name:c.iconSet.table.warning}),T];return f("div",{class:Vt+" q-table__bottom--nodata"},Q)}const s=t.bottom;if(s!==void 0)return f("div",{class:Vt},[s(Ue.value)]);const R=e.hideSelectedBanner!==!0&&fe.value===!0&&Ce.value>0?[f("div",{class:"q-table__control"},[f("div",[(e.selectedRowsLabel||c.lang.table.selectedRecords)(Ce.value)])])]:[];if(e.hidePagination!==!0)return f("div",{class:Vt+" justify-end"},It(R));if(R.length!==0)return f("div",{class:Vt},R)}function zt(s){W({page:1,rowsPerPage:s.value})}function It(s){let R;const{rowsPerPage:T}=S.value,A=e.paginationLabel||c.lang.table.pagination,Q=t.pagination,oe=e.rowsPerPageOptions.length>1;if(s.push(f("div",{class:"q-table__separator col"})),oe===!0&&s.push(f("div",{class:"q-table__control"},[f("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||c.lang.table.recordsPerPage]),f(Yn,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:T,options:je.value,displayValue:T===0?c.lang.table.allRows:T,dark:o.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":zt})])),Q!==void 0)R=Q(Ue.value);else if(R=[f("span",T!==0?{class:"q-table__bottom-item"}:{},[T?A(L.value+1,Math.min(ne.value,me.value),me.value):A(1,we.value,me.value)])],T!==0&&ke.value>1){const le={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(le.size="sm"),ke.value>2&&R.push(f(qe,{key:"pgFirst",...le,icon:We.value[0],disable:E.value,onClick:Ve})),R.push(f(qe,{key:"pgPrev",...le,icon:We.value[1],disable:E.value,onClick:y}),f(qe,{key:"pgNext",...le,icon:We.value[2],disable:re.value,onClick:m})),ke.value>2&&R.push(f(qe,{key:"pgLast",...le,icon:We.value[3],disable:re.value,onClick:v}))}return s.push(f("div",{class:"q-table__control"},R)),s}function qt(){const s=e.gridHeader===!0?[f("table",{class:"q-table"},[ft()])]:e.loading===!0&&t.loading===void 0?ae():void 0;return f("div",{class:"q-table__middle"},s)}function Dt(){const s=t.item!==void 0?t.item:R=>{const T=R.cols.map(Q=>f("div",{class:"q-table__grid-item-row"},[f("div",{class:"q-table__grid-item-title"},[Q.label]),f("div",{class:"q-table__grid-item-value"},[Q.value])]));if(fe.value===!0){const Q=t["body-selection"],oe=Q!==void 0?Q(R):[f(Tt,{modelValue:R.selected,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(le,Fe)=>{xe([R.key],[R.row],le,Fe)}})];T.unshift(f("div",{class:"q-table__grid-item-row"},oe),f(qn,{dark:o.value}))}const A={class:["q-table__grid-item-card"+x.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(A.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(A.onClick=Q=>{n("RowClick",Q,R.row,R.pageIndex)}),e.onRowDblclick!==void 0&&(A.onDblclick=Q=>{n("RowDblclick",Q,R.row,R.pageIndex)})),f("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(R.selected===!0?" q-table__grid-item--selected":"")},[f("div",A,T)])};return f("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},ve.value.map((R,T)=>s(_t({key:d.value(R),row:R,pageIndex:T}))))}return Object.assign(a.proxy,{requestServerInteraction:N,setPagination:W,firstPage:Ve,prevPage:y,nextPage:m,lastPage:v,isRowSelected:ze,clearSelection:Ie,isRowExpanded:D,setExpanded:de,sort:H,resetVirtualScroll:K,scrollTo:ce,getCellValue:Pe}),cn(a.proxy,{filteredSortedRows:()=>pe.value,computedRows:()=>ve.value,computedRowsNumber:()=>me.value}),()=>{const s=[dt()],R={ref:h,class:B.value};return e.grid===!0?s.push(qt()):Object.assign(R,{class:[R.class,e.cardClass],style:e.cardStyle}),s.push(X(),kt()),e.loading===!0&&t.loading!==void 0&&s.push(t.loading()),f("div",R,s)}}});function Qe(){}Qe.prototype={diff:function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=a.callback;typeof a=="function"&&(c=a,a={}),this.options=a;var o=this;function i(w){return c?(setTimeout(function(){c(void 0,w)},0),!0):w}t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t)),n=this.removeEmpty(this.tokenize(n));var r=n.length,d=t.length,h=1,u=r+d;a.maxEditLength&&(u=Math.min(u,a.maxEditLength));var b=[{newPos:-1,components:[]}],x=this.extractCommon(b[0],n,t,0);if(b[0].newPos+1>=r&&x+1>=d)return i([{value:this.join(n),count:n.length}]);function C(){for(var w=-1*h;w<=h;w+=2){var S=void 0,U=b[w-1],N=b[w+1],W=(N?N.newPos:0)-w;U&&(b[w-1]=void 0);var p=U&&U.newPos+1<r,D=N&&0<=W&&W<d;if(!p&&!D){b[w]=void 0;continue}if(!p||D&&U.newPos<N.newPos?(S=_a(N),o.pushComponent(S.components,void 0,!0)):(S=U,S.newPos++,o.pushComponent(S.components,!0,void 0)),W=o.extractCommon(S,n,t,w),S.newPos+1>=r&&W+1>=d)return i(Ca(o,S.components,n,t,o.useLongestToken));b[w]=S}h++}if(c)(function w(){setTimeout(function(){if(h>u)return c();C()||w()},0)})();else for(;h<=u;){var B=C();if(B)return B}},pushComponent:function(t,n,a){var c=t[t.length-1];c&&c.added===n&&c.removed===a?t[t.length-1]={count:c.count+1,added:n,removed:a}:t.push({count:1,added:n,removed:a})},extractCommon:function(t,n,a,c){for(var o=n.length,i=a.length,r=t.newPos,d=r-c,h=0;r+1<o&&d+1<i&&this.equals(n[r+1],a[d+1]);)r++,d++,h++;return h&&t.components.push({count:h}),t.newPos=r,d},equals:function(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],a=0;a<t.length;a++)t[a]&&n.push(t[a]);return n},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function Ca(e,t,n,a,c){for(var o=0,i=t.length,r=0,d=0;o<i;o++){var h=t[o];if(h.removed){if(h.value=e.join(a.slice(d,d+h.count)),d+=h.count,o&&t[o-1].added){var b=t[o-1];t[o-1]=t[o],t[o]=b}}else{if(!h.added&&c){var u=n.slice(r,r+h.count);u=u.map(function(C,B){var w=a[d+B];return w.length>C.length?w:C}),h.value=e.join(u)}else h.value=e.join(n.slice(r,r+h.count));r+=h.count,h.added||(d+=h.count)}}var x=t[i-1];return i>1&&typeof x.value=="string"&&(x.added||x.removed)&&e.equals("",x.value)&&(t[i-2].value+=x.value,t.pop()),t}function _a(e){return{newPos:e.newPos,components:e.components.slice(0)}}var pa=new Qe;function bl(e,t,n){return pa.diff(e,t,n)}var Sl=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,yl=/\S/,Wl=new Qe;Wl.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!yl.test(e)&&!yl.test(t)};Wl.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&Sl.test(t[n])&&Sl.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var Kl=new Qe;Kl.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var a=0;a<n.length;a++){var c=n[a];a%2&&!this.options.newlineIsToken?t[t.length-1]+=c:(this.options.ignoreWhitespace&&(c=c.trim()),t.push(c))}return t};var xa=new Qe;xa.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var ka=new Qe;ka.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function At(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?At=function(t){return typeof t}:At=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(e)}var qa=Object.prototype.toString,wt=new Qe;wt.useLongestToken=!0;wt.tokenize=Kl.tokenize;wt.castInput=function(e){var t=this.options,n=t.undefinedReplacement,a=t.stringifyReplacer,c=a===void 0?function(o,i){return typeof i=="undefined"?n:i}:a;return typeof e=="string"?e:JSON.stringify(Zt(e,null,null,c),c,"  ")};wt.equals=function(e,t){return Qe.prototype.equals.call(wt,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Zt(e,t,n,a,c){t=t||[],n=n||[],a&&(e=a(c,e));var o;for(o=0;o<t.length;o+=1)if(t[o]===e)return n[o];var i;if(qa.call(e)==="[object Array]"){for(t.push(e),i=new Array(e.length),n.push(i),o=0;o<e.length;o+=1)i[o]=Zt(e[o],t,n,a,c);return t.pop(),n.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),At(e)==="object"&&e!==null){t.push(e),i={},n.push(i);var r=[],d;for(d in e)e.hasOwnProperty(d)&&r.push(d);for(r.sort(),o=0;o<r.length;o+=1)d=r[o],i[d]=Zt(e[d],t,n,a,d);t.pop(),n.pop()}else i=e;return i}var Gt=new Qe;Gt.tokenize=function(e){return e.slice()};Gt.join=Gt.removeEmpty=function(e){return e};const Ra={__name:"CharsDiff",props:["str1","str2"],setup(e){const t=e,n=j(),a=c=>c.added?"green":c.removed?"red":"black";return Ct(()=>{n.value=bl(t.str1,t.str2)}),Pl(()=>{n.value=bl(t.str1,t.str2)}),(c,o)=>(Ee(),st("pre",null,[(Ee(!0),st(Fl,null,Bl(n.value,(i,r)=>(Ee(),st("span",{style:dn({color:a(i)}),key:"c"+r},ye(i.value),5))),128))]))}};const Va={class:"full"},Pa={class:"header"},Fa={class:"text-h6 fontOswald"},Ba={class:"flex-container"},Ta={class:"container"},Oa={class:"overview"},Aa={class:"statistics"},La={class:"row"},za={class:"col-12 col-md statistics-values"},Ia=P("div",{class:"statistics-name"},"Total files: ",-1),Da={class:"statistics-value"},Ma=P("div",{class:"statistics-name"},"Correctly detected files: ",-1),Ea={class:"statistics-value"},Na=P("div",{class:"statistics-name"},"Rate of detected files: ",-1),ja={class:"statistics-value"},Ha=P("div",{class:"statistics-name"},"Average time (ms): ",-1),$a={class:"statistics-value"},Qa=P("div",{class:"statistics-name"},"Average score: ",-1),Ua={class:"statistics-value"},Wa={class:"col-12 col-md statistics-charts"},Ka={class:"row"},Ja={class:"col statistics-chart"},Za={class:"col statistics-chart"},Ga={class:"decoding"},Xa=P("div",null,[P("label",{style:{"font-size":"16px"}},"Engines:")],-1),Ya={class:"row",style:{"padding-bottom":"20px"}},eo=["value"],to={class:"row",style:{"align-items":"center"}},lo={key:0,style:{width:"100px"}},no={class:"absolute-full flex flex-center"},ao={style:{"margin-top":"2em","margin-bottom":"2em"}},oo={class:"filename"},io={class:"text"},uo={class:"text"},ro={class:"dialogs"},so=P("div",{class:"text-h6"},"Add files",-1),co=P("label",{for:"imageFiles"},"Image files.",-1),fo=P("label",{for:"detectionResultFiles"},"Detection result files.",-1),vo=P("label",{for:"imageFiles"},"Ground truth files.",-1),mo=P("label",{for:"zipFile"},"Zip with images and text results.",-1),go=P("div",{class:"text-h6"},"Export",-1),ho=P("div",{class:"text-h6"},"Downloading project data...",-1),Vo=fn({__name:"ProjectPage",setup(e){const t=[{name:"number",required:!0,label:"No.",align:"left",field:"number"},{name:"name",required:!0,label:"Filename",align:"left",field:"filename",sortable:!0},{name:"detectedText",required:!0,label:"Detected Text",align:"left",field:"detectedText"},{name:"groundTruth",required:!0,label:"Ground Truth",align:"left",field:"groundTruth"},{name:"time",required:!0,label:"Time (ms)",align:"left",field:"time"},{name:"score",required:!0,label:"Score",align:"left",field:"score",sortable:!0}];let n,a;const c=j([]),o=vn(),i=j(""),r=j(""),d=j([]),h=j(!1),u=j(!1),b=j(.5),x=j(""),C=j(!1),B=j(!0),w=j({fileNumber:0,correctFilesNumber:0,averageTime:0,score:0}),S=j(!1),U=j(0);let N=!1,W=[],p=[],D=[],de,_e=[];Ct(async()=>{i.value=o.currentRoute.value.params.name,await pe(o.currentRoute.value.params.name);const y=await ee.getItem("projects");if(An({title:"MRZ Reading Benchmark - "+i.value}),y){_e=JSON.parse(y);for(let m=0;m<_e.length;m++)if(_e[m].info.name===i.value){a=_e[m];break}}if(!a)await Ve();else if(a.isRemote){const m=await ee.getItem(a.info.name+":results.zip"),v=await Sn(a);(!m||!v||a.info.images.length===0)&&await Ve()}we(),U.value=a.info.images.length});const pe=async y=>{const m=await Vn(y);d.value=m,m.length>0&&(r.value=m[0].displayName)},we=async y=>{if(a){const m=await Pn(a,y!=null?y:r.value);w.value=m.metrics,m.rows&&(console.log(m.rows),c.value=m.rows)}},ve=async()=>{let y=re();if(C.value===!1&&y){C.value=!0,N=!1,await ke(),await me(y);const m=a.info.images.length;b.value=0,x.value="0/"+m;let v=await ee.getItem(i.value+":detectionResultFileNamesList");v||(v=[]);for(let O=0;O<m;O++){if(N){await ee.setItem(i.value+":detectionResultFileNamesList",v);return}const G=a.info.images[O];if(B.value&&await ee.getItem(i.value+":detectionResult:"+bt(G)+"-"+r.value+".json"))continue;const K=await ee.getItem(i.value+":image:"+G);if(K){let X=await n.detect(K);console.log(X);const ce=bt(G)+"-"+r.value+".json";v.indexOf(ce)===-1&&v.push(ce),await ee.setItem(i.value+":detectionResult:"+bt(G)+"-"+r.value+".json",JSON.stringify(X))}b.value=parseFloat(((O+1)/m).toFixed(2)),x.value=O+1+"/"+m}await ee.setItem(i.value+":detectionResultFileNamesList",v),C.value=!1}else N=!0,C.value=!1;we()},fe=y=>{p=y.target.files},Ae=y=>{W=y.target.files},Le=y=>{D=y.target.files},Ne=y=>{de=y.target.files[0]},Re=async()=>{if(a){for(let m=0;m<D.length;m++){const v=D[m],O=await cl(v);await ee.setItem(i.value+":groundTruth:"+v.name,O)}let y=await ee.getItem(i.value+":detectionResultFileNamesList");y||(y=[]);for(let m=0;m<p.length;m++){const v=p[m],O=await cl(v);y.indexOf(v.name)===-1&&y.push(v.name),await ee.setItem(i.value+":detectionResult:"+v.name,O)}for(let m=0;m<W.length;m++){const v=W[m],O=await Fn(v);await ee.setItem(i.value+":image:"+v.name,O),a.info.images.push(v.name)}await ee.setItem(i.value+":detectionResultFileNamesList",y),await Ce(),we(),Ie(),alert("added"),h.value=!1}},Ce=async()=>{if(a&&de){const y=await de.arrayBuffer(),m=new Ht;await m.loadAsync(y);const v=m.files,O=Object.keys(v),G=[],K=[],X=[];for(let Y=0;Y<O.length;Y++){const ae=O[Y],ie=ae.toLowerCase(),be=v[ae];be.dir===!1&&(ie.endsWith(".jpg")||ie.endsWith(".jpeg")||ie.endsWith(".png")||ie.endsWith(".bmp")?K.push(be):ie.endsWith(".txt")?G.push(be):ie.endsWith(".json")&&X.push(be))}for(let Y=0;Y<G.length;Y++){const ae=G[Y],ie=await ae.async("string");await ee.setItem(i.value+":groundTruth:"+ae.name,ie)}let ce=await ee.getItem(i.value+":detectionResultFileNamesList");ce||(ce=[]);for(let Y=0;Y<X.length;Y++){const ae=X[Y],ie=await ae.async("string");ce.indexOf(ae.name)===-1&&ce.push(ae.name),await ee.setItem(i.value+":detectionResult:"+ae.name,ie)}for(let Y=0;Y<K.length;Y++){const ae=K[Y],ie=await ae.async("base64"),be=ze(ie,ae.name);await ee.setItem(i.value+":image:"+ae.name,be),a.info.images.push(ae.name)}await ee.setItem(i.value+":detectionResultFileNamesList",ce)}},ze=(y,m)=>{const v=m.toLowerCase();return v.endsWith(".jpg")||v.endsWith(".jpeg")?"data:image/jpeg;base64,"+y:v.endsWith(".bmp")?"data:image/bmp;base64,"+y:v.endsWith(".bmp")?"data:image/png;base64,"+y:"data:image/jpeg;base64,"+y},Ie=async()=>{let y=[];_e.forEach(m=>{y.push(m)}),await ee.setItem("projects",JSON.stringify(y))},xe=()=>{q(),h.value=!0},q=()=>{de=void 0,W=[],p=[],D=[]},_=async()=>{await Bn(a),Ie(),we()},F=async()=>{u.value=!0},I=async()=>{for(let y=0;y<a.info.images.length;y++){const m=a.info.images[y],v=await ee.getItem(i.value+":image:"+m);if(v){await Tn(1e3);const O=dl(v),G=document.createElement("a");G.href=URL.createObjectURL(O),G.download=m,document.body.appendChild(G),G.click(),document.body.removeChild(G)}}},Z=async()=>{const y=new Ht;for(let m=0;m<a.info.images.length;m++){const v=a.info.images[m],O=await ee.getItem(i.value+":image:"+v);if(O){console.log(v);const G=dl(O);y.file(v,G)}}y.generateAsync({type:"blob"}).then(function(m){const v=document.createElement("a");v.href=URL.createObjectURL(m),v.download=i.value+"-images.zip",document.body.appendChild(v),v.click(),document.body.removeChild(v)})},ue=async()=>{const y=new Ht;for(let v=0;v<a.info.images.length;v++){const O=a.info.images[v],G=bt(O)+".txt",K=await ee.getItem(i.value+":groundTruth:"+bt(O)+".txt");K&&y.file(G,K)}const m=await ee.getItem(i.value+":detectionResultFileNamesList");if(m){for(let v=0;v<m.length;v++){const O=m[v],G=await ee.getItem(i.value+":detectionResult:"+O);G&&y.file(O,G)}y.file("detection_result_filenames.json",JSON.stringify(m))}y.file("project_manifest.json",JSON.stringify(a)),await H(y),y.generateAsync({type:"blob"}).then(function(v){const O=document.createElement("a");O.href=URL.createObjectURL(v),O.download=i.value+"-results.zip",document.body.appendChild(O),O.click(),document.body.removeChild(O)})},H=async y=>{y.file("settings.json",JSON.stringify(d.value))},L=y=>{const m="/project/"+encodeURIComponent(i.value)+"/"+encodeURIComponent(y)+"/"+r.value,v=o.resolve(m);window.open(v.href,"_blank")},ne=y=>{we(y)},E=()=>{const y="/project/"+encodeURIComponent(i.value)+"/comparison";o.push(y)},re=y=>{let m;y?m=y:m=r.value;for(const v of d.value)if(v.displayName===m)return v},ke=async()=>{let y=re();if(y){let m=!1;n?n.getEngine()!=y.engine&&(m=!0):m=!0,m&&(x.value="Initializing...",n=await On.createInstance(y.engine),x.value="")}},je=async()=>{window.open("https://demo.dynamsoft.com/label-recognizer-js/mrz-scanner.html","_blank")},me=async y=>{console.log("updateBarcodeReaderSettings"),console.log(y),await n.setSupportedSettings(y.settings)},Ve=async()=>{S.value=!0;const y=i.value;try{const v=await(await fetch("./dataset/"+y+"/project_manifest.json")).text(),O=JSON.parse(v);O.isRemote=!0;const K=await(await fetch("./dataset/"+y+"/results.zip")).blob();K.size>0&&await ee.setItem(y+":results.zip",K),await yn(O);let X,ce=await ee.getItem("projects");ce?X=JSON.parse(ce):X=[];let Y=[],ae=!1;for(let ie=0;ie<X.length;ie++){const be=X[ie];be.info.name===O.info.name?(Y.push(O),ae=!0):Y.push(be)}ae===!1&&Y.push(O),await ee.setItem("projects",JSON.stringify(Y)),a=O,await pe(y)}catch(m){console.log(m)}S.value=!1};return(y,m)=>(Ee(),Rt(kn,null,{default:$(()=>[P("div",Va,[P("div",Pa,[P("div",Fa,ye(i.value),1),P("div",Ba,[z($t,{style:{"margin-left":"15px"},secondary:"",label:"Go to Comparison Page",onClick:E})]),z($t,{outline:"",style:{color:"black","border-color":"black","background-color":"#fff"},label:"Export",onClick:F})]),P("div",Ta,[P("div",Oa,[P("div",Aa,[P("div",La,[P("div",za,[P("div",null,[Ia,P("div",Da,ye(U.value),1)]),P("div",null,[Ma,P("div",Ea,ye(w.value.correctFilesNumber),1)]),P("div",null,[Na,P("div",ja,ye((w.value.correctFilesNumber/w.value.fileNumber*100).toFixed(2))+"%",1)]),P("div",null,[Ha,P("div",$a,ye(w.value.averageTime),1)]),P("div",null,[Qa,P("div",Ua,ye(w.value.score),1)])]),P("div",Wa,[P("div",Ka,[P("div",Ja,[Be(" Reading Rate: "),z(fl,{"show-value":"","font-size":"12px",value:w.value.readingRate,size:"60px",thickness:.22,color:"orange","track-color":"grey-3",class:"q-ma-md"},{default:$(()=>[Be(ye(w.value.readingRate)+"% ",1)]),_:1},8,["value"])]),P("div",Za,[Be(" Score: "),z(fl,{"show-value":"","font-size":"12px",value:w.value.score,size:"60px",thickness:.22,color:"orange","track-color":"grey-3",class:"q-ma-md"},{default:$(()=>[Be(ye(w.value.score)+"% ",1)]),_:1},8,["value"])])])])])]),P("div",Ga,[Xa,P("div",Ya,[it(P("select",{style:{"min-width":"200px",height:"45px"},"onUpdate:modelValue":[m[0]||(m[0]=v=>ne(v)),m[1]||(m[1]=v=>r.value=v)]},[(Ee(!0),st(Fl,null,Bl(d.value,v=>(Ee(),st("option",{value:v.displayName,key:v.displayName},ye(v.displayName),9,eo))),128))],512),[[mn,r.value]])]),P("div",to,[z($t,{label:C.value?"Stop Decoding":"Start Decoding",onClick:ve},null,8,["label"]),z(Tt,{color:"orange",style:{"padding-left":"10px"},"left-label":"",modelValue:B.value,"onUpdate:modelValue":m[2]||(m[2]=v=>B.value=v),label:"Skip Detected"},null,8,["modelValue"])]),C.value?(Ee(),st("div",lo,[z(Ll,{size:"25px",value:b.value,color:"orange"},{default:$(()=>[P("div",no,[z(wn,{color:"white","text-color":"black",label:x.value},null,8,["label"])])]),_:1},8,["value"])])):gn("",!0)])]),P("div",ao,[z(wa,{title:"Images",color:"black","table-header-style":"background:#f5f5f5;",rows:c.value,columns:t,"row-key":"name"},{"top-right":$(()=>[z(En,{unelevated:"",color:"black",label:"Action"},{default:$(()=>[z(ql,null,{default:$(()=>[it((Ee(),Rt(Bt,{clickable:"",onClick:xe},{default:$(()=>[z(Pt,null,{default:$(()=>[z(Ft,null,{default:$(()=>[Be("Add local files")]),_:1})]),_:1})]),_:1})),[[ht]]),it((Ee(),Rt(Bt,{clickable:"",onClick:_},{default:$(()=>[z(Pt,null,{default:$(()=>[z(Ft,null,{default:$(()=>[Be("Clear")]),_:1})]),_:1})]),_:1})),[[ht]]),it((Ee(),Rt(Bt,{clickable:"",onClick:je},{default:$(()=>[z(Pt,null,{default:$(()=>[z(Ft,null,{default:$(()=>[Be("Go to live scanner")]),_:1})]),_:1})]),_:1})),[[ht]])]),_:1})]),_:1})]),body:$(v=>[z(Nn,{props:v},{default:$(()=>[z(rt,{key:"number",props:v},{default:$(()=>[Be(ye(v.row.number),1)]),_:2},1032,["props"]),z(rt,{key:"name",props:v,onClick:O=>L(v.row.filename)},{default:$(()=>[P("div",oo,ye(v.row.filename),1)]),_:2},1032,["props","onClick"]),z(rt,{key:"detectedText",props:v},{default:$(()=>[P("div",io,[z(Ra,{str2:v.row.detectedText,str1:v.row.groundTruth},null,8,["str2","str1"])])]),_:2},1032,["props"]),z(rt,{key:"groundTruth",props:v},{default:$(()=>[P("div",uo,[P("pre",null,ye(v.row.groundTruth),1)])]),_:2},1032,["props"]),z(rt,{key:"time",props:v},{default:$(()=>[Be(ye(v.row.time),1)]),_:2},1032,["props"]),z(rt,{key:"score",props:v},{default:$(()=>[Be(ye(v.row.score),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])])])]),P("div",ro,[z(Ot,{modelValue:h.value,"onUpdate:modelValue":m[7]||(m[7]=v=>h.value=v)},{default:$(()=>[z(Qt,null,{default:$(()=>[z(ut,null,{default:$(()=>[so]),_:1}),z(ut,{class:"q-pt-none"},{default:$(()=>[P("div",null,[P("input",{type:"file",id:"imageFiles",multiple:"true",onChange:m[3]||(m[3]=v=>{Ae(v)}),accept:".jpg,.jpeg,.png,.bmp"},null,32),co]),P("div",null,[P("input",{type:"file",id:"detectionResultFiles",multiple:"true",onChange:m[4]||(m[4]=v=>{fe(v)}),accept:".json"},null,32),fo]),P("div",null,[P("input",{type:"file",id:"groundTruthFiles",multiple:"true",onChange:m[5]||(m[5]=v=>{Le(v)}),accept:".txt"},null,32),vo]),P("div",null,[P("input",{type:"file",id:"zipFile",onChange:m[6]||(m[6]=v=>{Ne(v)}),accept:".zip"},null,32),mo])]),_:1}),z(sl,{align:"right"},{default:$(()=>[z(qe,{flat:"",color:"primary",label:"Add to project",onClick:Re}),it(z(qe,{flat:"",color:"primary",label:"Close"},null,512),[[ht]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),z(Ot,{modelValue:u.value,"onUpdate:modelValue":m[8]||(m[8]=v=>u.value=v)},{default:$(()=>[z(Qt,null,{default:$(()=>[z(ut,null,{default:$(()=>[go]),_:1}),z(ut,{class:"q-pt-none"},{default:$(()=>[P("div",null,[z(qe,{outline:"",color:"primary",label:"Download images",onClick:I})]),P("div",null,[z(qe,{outline:"",color:"primary",label:"Download images in a zip",onClick:Z})]),P("div",null,[z(qe,{outline:"",color:"primary",label:"Download TextResults.zip",onClick:ue})])]),_:1}),z(sl,{align:"right"},{default:$(()=>[it(z(qe,{flat:"",color:"primary",label:"Close"},null,512),[[ht]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),z(Ot,{modelValue:S.value,"onUpdate:modelValue":m[9]||(m[9]=v=>S.value=v),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:$(()=>[z(Qt,{style:{width:"300px"}},{default:$(()=>[z(ut,null,{default:$(()=>[ho]),_:1}),z(ut,{class:"q-pt-none"},{default:$(()=>[Be(" Please wait for a while. ")]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}))}});export{Vo as default};
